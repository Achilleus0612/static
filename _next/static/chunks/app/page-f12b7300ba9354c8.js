(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{36098:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>e5});var r=a(90639),s=a(23591),n=a(11573),l=a(56516),i=a(78418),c=a(55565);function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,c.QP)((0,i.$)(t))}let d=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,asChild:i=!1,...c}=e,m=i?n.DX:"button";return(0,r.jsx)(m,{className:o(d({variant:s,size:l,className:a})),ref:t,...c})});function u(e){let{card:t,index:a=0,isDealing:n=!1,size:l="normal"}=e,[i,c]=(0,s.useState)(!1),[o,d]=(0,s.useState)(!1),m=(0,s.useRef)(null),u="large"===l?"w-[70px] sm:w-[110px]":"w-[60px] sm:w-[100px]",x="large"===l?"h-[98px] sm:h-[110px]":"h-[84px] sm:h-[100px]";if((0,s.useEffect)(()=>{if(a>0){let e=setTimeout(()=>{c(!0)},150*a);return()=>clearTimeout(e)}c(!0)},[a]),(0,s.useEffect)(()=>{if(!1===t.hidden&&i){d(!0);let e=setTimeout(()=>d(!1),400);return()=>clearTimeout(e)}},[t.hidden,i]),(0,s.useEffect)(()=>{if(m.current&&n&&m.current)return m.current.style.willChange="transform",()=>{m.current&&(m.current.style.willChange="auto")}},[n]),(0,s.useEffect)(()=>{window.matchMedia("(prefers-reduced-motion: reduce)").matches&&m.current&&(c(!0),d(!1))},[]),(0,s.useEffect)(()=>{i&&window.playCardSound&&setTimeout(()=>window.playCardSound(),150*a)},[i,a]),t.hidden)return(0,r.jsx)("div",{ref:m,className:"".concat(u," ").concat(x," rounded-md shadow-lg transform transition-all duration-300 ").concat(i?"translate-y-0 opacity-100":"translate-y-4 opacity-0"," ").concat(o?"animate-flip":""),style:{contain:"layout paint style",backfaceVisibility:"hidden"},children:(0,r.jsxs)("div",{className:"w-full h-full bg-gradient-to-br from-purple-600 to-purple-800 border-2 border-amber-400 rounded-md flex items-center justify-center relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,r.jsx)("div",{className:"absolute top-2 left-2 w-4 h-4 bg-amber-400 rounded-full"}),(0,r.jsx)("div",{className:"absolute top-2 right-2 w-4 h-4 bg-amber-400 rounded-full"}),(0,r.jsx)("div",{className:"absolute bottom-2 left-2 w-4 h-4 bg-amber-400 rounded-full"}),(0,r.jsx)("div",{className:"absolute bottom-2 right-2 w-4 h-4 bg-amber-400 rounded-full"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-amber-400 rounded-full flex items-center justify-center mb-1",children:(0,r.jsx)("span",{className:"text-purple-800 font-black text-xs",children:"BJ"})}),(0,r.jsx)("div",{className:"text-amber-400 font-bold text-xs",children:"COIN"})]})]})});let h="♥"===t.suit||"♦"===t.suit?"text-red-600":"text-black";return(0,r.jsxs)("div",{ref:m,className:"".concat(u," ").concat(x," bg-white rounded-md border-2 border-gray-300 shadow-lg transform transition-all duration-300 ").concat(i?"translate-y-0 opacity-100":"translate-y-4 opacity-0"," ").concat(n?"animate-bounce":""," ").concat(o?"animate-flip":""," relative"),style:{contain:"layout paint style",backfaceVisibility:"hidden"},children:[(0,r.jsxs)("div",{className:"absolute top-0.5 left-0.5 sm:top-1 sm:left-1 ".concat(h," font-bold ").concat("large"===l?"text-sm sm:text-lg":"text-xs sm:text-base"," leading-none"),children:[(0,r.jsx)("div",{children:t.rank}),(0,r.jsx)("div",{children:t.suit})]}),(0,r.jsxs)("div",{className:"absolute bottom-0.5 right-0.5 sm:bottom-1 sm:right-1 ".concat(h," font-bold ").concat("large"===l?"text-sm sm:text-lg":"text-xs sm:text-base"," leading-none transform rotate-180"),children:[(0,r.jsx)("div",{children:t.rank}),(0,r.jsx)("div",{children:t.suit})]}),(0,r.jsx)("div",{className:"flex flex-col items-center justify-center h-full",children:["A","K","Q","J"].includes(t.rank)?(0,r.jsx)("div",{className:"".concat(h," ").concat("large"===l?"text-2xl sm:text-4xl":"text-xl sm:text-3xl"," font-bold"),children:t.rank}):(0,r.jsx)("div",{className:"".concat(h," ").concat("large"===l?"text-2xl sm:text-4xl":"text-xl sm:text-3xl"),children:t.suit})})]})}m.displayName="Button";var x=a(90779),h=a(16303),g=a(51843);let p=h.bL;h.l9;let b=h.ZL;h.bm;let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(h.hJ,{ref:t,className:o("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});f.displayName=h.hJ.displayName;let y=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(b,{children:[(0,r.jsx)(f,{}),(0,r.jsxs)(h.UC,{title:"test",ref:t,className:o("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...n,children:[(0,r.jsx)(v,{children:s}),(0,r.jsxs)(h.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(g.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});y.displayName=h.UC.displayName;let v=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(h.hE,{ref:t,className:o("text-lg font-semibold leading-none tracking-tight",a),...s})});v.displayName=h.hE.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(h.VY,{ref:t,className:o("text-sm text-muted-foreground",a),...s})}).displayName=h.VY.displayName;let w=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:o("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});w.displayName="Card";let j=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:o("flex flex-col space-y-1.5 p-6",a),...s})});j.displayName="CardHeader";let N=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:o("text-2xl font-semibold leading-none tracking-tight",a),...s})});N.displayName="CardTitle",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:o("text-sm text-muted-foreground",a),...s})}).displayName="CardDescription";let k=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:o("p-6 pt-0",a),...s})});k.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:o("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter";var S=a(79828);let T=s.forwardRef((e,t)=>{let{className:a,orientation:s="horizontal",decorative:n=!0,...l}=e;return(0,r.jsx)(S.b,{ref:t,decorative:n,orientation:s,className:o("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",a),...l})});function B(e){let{show:t,onClose:a,onStartDemo:s}=e;return(0,r.jsx)(p,{open:t,onOpenChange:a,children:(0,r.jsx)(y,{className:"bg-gradient-to-br from-black via-gray-900 to-black border-amber-400/60 border-2 shadow-2xl rounded-2xl p-0 max-w-lg w-full",children:(0,r.jsxs)(w,{className:"bg-transparent border-none shadow-none",children:[(0,r.jsx)(j,{className:"flex flex-row items-center justify-between px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-amber-500/20 border border-amber-400/40 shadow",children:(0,r.jsx)(x.A,{className:"w-6 h-6 text-amber-400"})}),(0,r.jsx)(N,{className:"text-2xl font-extrabold text-amber-400 tracking-wide",children:"What is $Lucky?"})]})}),(0,r.jsx)(T,{className:"bg-amber-400/20 mb-2"}),(0,r.jsx)("div",{className:"w-full aspect-video bg-black rounded-t-2xl overflow-hidden flex items-center justify-center",children:(0,r.jsx)("video",{className:"w-full h-full object-cover",src:"/video/luckyvideo2.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:"Sorry, your browser does not support embedded videos."})}),(0,r.jsx)(T,{className:"bg-amber-400/20 mb-2"}),(0,r.jsxs)(k,{className:"space-y-4 px-6 pb-6",children:[(0,r.jsxs)("div",{className:"space-y-3 text-sm text-gray-300",children:[(0,r.jsx)("p",{children:"$Lucky is the gaming currency for Premium Blackjack."}),(0,r.jsx)("div",{className:"bg-gray-800/50 rounded-lg p-3",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{children:"• All bets placed with $Lucky tokens"}),(0,r.jsx)("div",{children:"• Chips show dollar values ($10 = $10 worth of $Lucky)"}),(0,r.jsx)("div",{children:"• Available on all DEX"}),(0,r.jsx)("div",{children:"• Trade back to SOL anytime"})]})})]}),(0,r.jsxs)(m,{onClick:()=>{a(),s()},className:"w-full bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-500 hover:to-emerald-600 text-white font-bold py-3 rounded-lg",children:[(0,r.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Try Demo Now"]})]})]})})})}function A(e){let[t,a]=(0,s.useState)(()=>{let t=e.get("fromChain");if(t)return parseInt(t)});return(0,s.useEffect)(()=>{let t=e.get("fromChain");t&&a(parseInt(t))},[e]),t}function C(e){return(0,s.useMemo)(()=>{var t,a,r,s,n,l;let i=null===(t=e.get("allowBridges"))||void 0===t?void 0:t.split(",").filter(Boolean),c=null===(a=e.get("denyBridges"))||void 0===a?void 0:a.split(",").filter(Boolean),o=null===(r=e.get("allowExchanges"))||void 0===r?void 0:r.split(",").filter(Boolean),d=null===(s=e.get("denyExchanges"))||void 0===s?void 0:s.split(",").filter(Boolean),m=null===(n=e.get("allowChains"))||void 0===n?void 0:n.split(",").map(Number).filter(Boolean),u=null===(l=e.get("denyChains"))||void 0===l?void 0:l.split(",").map(Number).filter(Boolean),x={};return((null==i?void 0:i.length)||(null==c?void 0:c.length))&&(x.bridges={},(null==i?void 0:i.length)&&(x.bridges.allow=i),(null==c?void 0:c.length)&&(x.bridges.deny=c)),((null==o?void 0:o.length)||(null==d?void 0:d.length))&&(x.exchanges={},(null==o?void 0:o.length)&&(x.exchanges.allow=o),(null==d?void 0:d.length)&&(x.exchanges.deny=d)),((null==m?void 0:m.length)||(null==u?void 0:u.length))&&(x.chains={},(null==m?void 0:m.length)&&(x.chains.allow=m),(null==u?void 0:u.length)&&(x.chains.deny=u)),x},[e])}function P(e){let{onStartDemo:t,showFairness:n,setShowFairness:l}=e,[i,c]=(0,s.useState)([]),[o,d]=(0,s.useState)(0),[h,g]=(0,s.useState)(!1),[p,b]=(0,s.useState)("dealing"),[f,y]=(0,s.useState)("100"),[v,w]=(0,s.useState)("SOL"),[j,N]=(0,s.useState)("BJ"),[k,S]=(0,s.useState)(!1),T=function(){let[e,t]=(0,s.useState)(new URLSearchParams);return(0,s.useEffect)(()=>{t(new URLSearchParams(window.location.search))},[]),e}();C(T),A(T);let[P,D]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{D(!0)},[]),(0,s.useEffect)(()=>{Promise.all([a.e(597),a.e(162),a.e(666)]).then(a.t.bind(a,50587,23)).then(e=>{let{init:t}=e;t({displayMode:"integrated",integratedTargetId:"jupiter-terminal"})})},[]),(0,s.useEffect)(()=>{c([{suit:"♠",rank:"K",value:10},{suit:"♥",rank:"Q",value:10},{suit:"♦",rank:"A",value:11},{suit:"♣",rank:"J",value:10}]),setTimeout(()=>g(!0),1e3)},[]),(0,s.useEffect)(()=>{if(h&&o<i.length){let e=setTimeout(()=>{d(e=>e+1)},600);return()=>clearTimeout(e)}o===i.length&&setTimeout(()=>b("complete"),500)},[h,o,i.length]),(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black text-white relative overflow-hidden",children:[(0,r.jsx)("header",{className:"relative bg-black/90 border-b border-gray-700/50 backdrop-blur-xl py-6 px-6",children:(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)("img",{src:"/images/Lucky.png",alt:"Premium Blackjack",className:"h-14 object-contain"})})}),(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center py-4 sm:py-8",children:(0,r.jsxs)("div",{className:"w-full max-w-4xl",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-4xl sm:text-6xl font-black mb-4 bg-gradient-to-r from-amber-400 via-yellow-500 to-amber-400 bg-clip-text text-transparent leading-tight",children:"Lucky Blackjack"}),(0,r.jsx)("p",{className:"text-lg sm:text-xl text-gray-300 mb-6 font-light max-w-2xl mx-auto",children:"On-chain - Provably fair - Instant payouts"})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border border-gray-700/50 rounded-3xl p-6 sm:p-8 mb-8 backdrop-blur-sm shadow-2xl",children:[(0,r.jsx)("div",{className:"relative mb-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 sm:gap-4 min-h-[200px]",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"bg-black/60 backdrop-blur-sm rounded-lg px-3 py-2 mb-3 border border-gray-600/50",children:[(0,r.jsx)("div",{className:"text-sm font-bold text-white",children:"DEALER"}),(0,r.jsx)("div",{className:"text-lg text-amber-400 font-black",children:"20"})]}),(0,r.jsx)("div",{className:"flex gap-1 sm:gap-2",children:i.slice(0,2).map((e,t)=>(0,r.jsx)("div",{className:"transform transition-all duration-700 ".concat(o>t?"translate-y-0 opacity-100 rotate-0":"translate-y-12 opacity-0 rotate-12"),children:(0,r.jsx)("div",{className:"scale-75 sm:scale-90",children:(0,r.jsx)(u,{card:1===t&&"dealing"===p?{...e,hidden:!0}:e,index:t,isDealing:o===t})})},"dealer-".concat(t)))})]}),(0,r.jsx)("div",{className:"flex flex-col items-center",children:(0,r.jsx)("img",{src:"/images/front-card.png",alt:"VS",className:"max-h-40 aspect-square h-full"})}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"bg-black/60 backdrop-blur-sm rounded-lg px-3 py-2 mb-3 border border-emerald-500/50",children:[(0,r.jsx)("div",{className:"text-sm font-bold text-white",children:"YOU"}),(0,r.jsx)("div",{className:"text-lg text-emerald-400 font-black",children:"21"})]}),(0,r.jsx)("div",{className:"flex gap-1 sm:gap-2",children:i.slice(2,4).map((e,t)=>(0,r.jsx)("div",{className:"transform transition-all duration-700 ".concat(o>t+2?"translate-y-0 opacity-100 rotate-0":"translate-y-12 opacity-0 -rotate-12"),children:(0,r.jsx)("div",{className:"scale-75 sm:scale-90",children:(0,r.jsx)(u,{card:e,index:t+2,isDealing:o===t+2})})},"player-".concat(t)))})]})]})}),(0,r.jsxs)("div",{className:"text-center mb-6 flex flex-col items-center justify-center",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-4 max-w-[300px] w-full",children:[(0,r.jsxs)(m,{onClick:t,className:"w-full bg-[#5B3DF6] hover:bg-[#6C4FFF] text-white font-bold text-lg sm:text-xl px-8 sm:px-12 py-4 sm:py-5 rounded-xl shadow-xl transform transition-all hover:scale-105 hover:shadow-[#6C4FFF]/30 border border-transparent gap-2",children:[(0,r.jsx)(x.A,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Play Demo"]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 w-full",children:[(0,r.jsx)(m,{onClick:()=>S(!0),variant:"outline",className:"w-full text-amber-400 border-amber-400/50 hover:bg-amber-400/10 hover:border-amber-400 font-semibold px-6 py-4 sm:py-5 rounded-xl text-base sm:text-lg",children:"$Lucky"}),(0,r.jsx)(m,{onClick:()=>l(!0),variant:"outline",className:"w-full text-amber-400 border-amber-400/50 hover:bg-amber-400/10 hover:border-amber-400 font-semibold px-6 py-4 sm:py-5 rounded-xl text-base sm:text-lg",children:"Provably Fair"})]})]}),(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Start with demo • Connect wallet later for real $Lucky"})]}),(0,r.jsxs)("div",{className:"flex items-center my-6",children:[(0,r.jsx)("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-gray-600 to-transparent"}),(0,r.jsx)("span",{className:"px-4 text-gray-400 text-sm font-medium",children:"OR GET TOKENS"}),(0,r.jsx)("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-gray-600 to-transparent"})]}),(0,r.jsx)("div",{className:"bg-black/40 border border-gray-600/50 rounded-2xl p-4 sm:p-6 backdrop-blur-sm",children:(0,r.jsx)("div",{id:"jupiter-terminal"})})]})]})}),(0,r.jsx)("footer",{className:"relative bg-black/80 border-t border-gray-700/50 backdrop-blur-xl py-4 px-4",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto text-center",children:(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"\xa9 2025 GotLucky.bet Play responsibly. Must be 18+."})})}),(0,r.jsx)(B,{show:k,onClose:()=>S(!1),onStartDemo:t})]})}T.displayName=S.b.displayName,a(21250);var D=a(1871),H=a(6656),E=a(47104),R=a(92888),F=a(34686);function M(e){let{musicEnabled:t,soundEffectsEnabled:a,currentTrack:n,onToggleMusic:l,onToggleSoundEffects:i,onChangeTrack:c}=e,[o,d]=(0,s.useState)(!1),u=[{name:"Casino Lounge",icon:H.A,color:"text-blue-400"}];return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m,{onClick:()=>d(!o),variant:"ghost",size:"sm",className:"text-gray-400 hover:text-amber-400 hover:bg-amber-500/10 rounded-lg border border-gray-700/50 hover:border-amber-500/50",children:(0,r.jsx)(E.A,{className:"w-5 h-5"})}),o&&(0,r.jsx)("div",{className:"absolute top-full left-1/2 -translate-x-[60%] sm:left-auto sm:right-2 sm:translate-x-0 mt-2 bg-gray-900 border border-gray-700/50 rounded-lg shadow-xl z-50 min-w-[280px] p-4",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-white mb-1",children:"Audio Settings"}),(0,r.jsx)("p",{className:"text-xs text-gray-400",children:"Customize your gaming experience"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(H.A,{className:"w-4 h-4 text-amber-400"}),(0,r.jsx)("span",{className:"text-white font-medium",children:"Background Music"})]}),(0,r.jsx)(m,{onClick:l,size:"sm",className:"".concat(t?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-gray-600 hover:bg-gray-700 text-gray-300"," px-3 py-1"),children:t?"ON":"OFF"})]}),t&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"text-sm text-gray-400 font-medium",children:"Select Track:"}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-2",children:u.map((e,t)=>{let a=e.icon;return(0,r.jsxs)("button",{onClick:()=>c(t),className:"\n                            flex items-center gap-3 p-2 rounded-lg transition-all\n                            ".concat(n===t?"bg-amber-500/20 border border-amber-500/50 text-amber-400":"bg-gray-800/50 hover:bg-gray-700/50 text-gray-300 hover:text-white","\n                          "),children:[(0,r.jsx)(a,{className:"w-4 h-4 ".concat(e.color)}),(0,r.jsx)("span",{className:"text-sm font-medium",children:e.name}),n===t&&(0,r.jsx)("div",{className:"ml-auto",children:(0,r.jsx)("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"})})]},t)})})]})]}),(0,r.jsxs)("div",{className:"border-t border-gray-700/50 pt-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[a?(0,r.jsx)(R.A,{className:"w-4 h-4 text-amber-400"}):(0,r.jsx)(F.A,{className:"w-4 h-4 text-gray-500"}),(0,r.jsx)("span",{className:"text-white font-medium",children:"Sound Effects"})]}),(0,r.jsx)(m,{onClick:i,size:"sm",className:"".concat(a?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-gray-600 hover:bg-gray-700 text-gray-300"," px-3 py-1"),children:a?"ON":"OFF"})]}),(0,r.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Chip clicks, card deals, win sounds"})]}),(0,r.jsx)("div",{className:"border-t border-gray-700/50 pt-3",children:(0,r.jsx)(m,{onClick:()=>d(!1),variant:"outline",size:"sm",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-800",children:"Close"})})]})})]})}var _=a(50013),L=a(93113);function O(e){let{balance:t,solBalance:a,onSwapClick:s,isDemo:n,musicEnabled:l,soundEffectsEnabled:i,currentTrack:c,onToggleMusic:o,onToggleSoundEffects:d,onChangeTrack:u}=e,x=n?t:a,{publicKey:h,connected:g,disconnect:p}=(0,_.v)();return(0,r.jsx)("header",{className:"relative bg-black border-b border-gray-700/50 backdrop-blur-xl py-3 px-4 z-50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between max-w-6xl mx-auto",children:[(0,r.jsx)("div",{className:"flex items-center gap-3 h-12",children:(0,r.jsx)("button",{onClick:()=>window.location.href="",className:"hover:opacity-80 transition-opacity cursor-pointer",title:"Return to Homepage",children:(0,r.jsx)("img",{src:"/images/Lucky.png",alt:"Crypto Casino",className:"w-10 h-10 object-contain"})})}),(0,r.jsxs)("div",{className:"flex items-center gap-4 h-12",children:[(0,r.jsx)("div",{className:"bg-gray-800/50 rounded-lg px-4 py-2 border border-gray-700/50 h-12 flex items-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-xl font-bold text-emerald-400",children:["$",("number"==typeof x?x:0).toFixed(0)]}),(0,r.jsx)("div",{className:"text-xs text-gray-400",children:n?"DEMO Lucky":"Lucky COIN"})]})}),(0,r.jsx)(m,{onClick:s,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-500 hover:to-blue-500 text-white font-semibold px-4 py-2 rounded-lg border border-purple-500/50 transition-all duration-300 h-12",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(D.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"hidden md:inline",children:"Swap"})]})}),(0,r.jsx)("div",{className:"h-12 flex items-center",children:(0,r.jsx)(M,{musicEnabled:l,soundEffectsEnabled:i,currentTrack:c,onToggleMusic:o,onToggleSoundEffects:d,onChangeTrack:u})}),g&&h?(0,r.jsx)(L.x,{}):(0,r.jsx)(L.x,{children:"Wallet"})]})]})})}function z(e){let{show:t,result:a,winAmount:n=0,isBlackjack:l=!1,winStreak:i=0,onClose:c}=e,[o,d]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{if(t){d(!0);let e=setTimeout(()=>{c()},"win"===a?3e3:1500);return()=>clearTimeout(e)}d(!1)},[t,a,c]),!t)return null;let m=()=>{if("win"===a){let e="+$".concat(n.toFixed(0)," BJ");return i>1?"".concat(e," • ").concat(i," WIN STREAK!"):e}return"push"===a?"Bet Returned":""},u="win"===a?{bg:l?"bg-yellow-500":"bg-green-500",text:"text-black",border:l?"border-yellow-300":"border-green-300",glow:l?"shadow-yellow-500/50":"shadow-green-500/50"}:"push"===a?{bg:"bg-blue-500",text:"text-white",border:"border-blue-300",glow:"shadow-blue-500/50"}:{bg:"bg-gray-600",text:"text-white",border:"border-gray-400",glow:"shadow-gray-500/50"};return(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 pointer-events-none",children:(0,r.jsx)("div",{className:"\n          ".concat(u.bg," ").concat(u.text," ").concat(u.border,"\n          border-4 rounded-xl px-8 py-6 shadow-2xl ").concat(u.glow,"\n          transform transition-all duration-300\n          ").concat(o?"scale-100 opacity-100":"scale-75 opacity-0","\n        "),children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-3xl font-black mb-2",children:"win"===a?l?"BLACKJACK!":"YOU WIN!":"push"===a?"PUSH":"DEALER WINS"}),m()&&(0,r.jsx)("div",{className:"text-xl font-bold",children:m()})]})})})}function I(e){let{show:t}=e,[a,n]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{if(t){let e=setInterval(()=>{n(!0),setTimeout(()=>n(!1),1e3)},2e3);return()=>clearInterval(e)}},[t]),t)?(0,r.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20 px-2 sm:px-4",children:(0,r.jsx)("div",{className:"\n        bg-gradient-to-r from-amber-500/20 to-amber-600/20 \n        border-2 border-amber-500/50 rounded-xl px-3 sm:px-12 py-1.5 sm:py-4 min-w-[200px] sm:min-w-[300px]\n        backdrop-blur-sm transition-all duration-1000\n        ".concat(a?"scale-105 sm:scale-110 border-amber-400 shadow-amber-500/50 shadow-lg":"scale-100","\n      "),children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-sm sm:text-2xl font-bold text-amber-400 mb-0.5 sm:mb-2 animate-pulse",children:"PLACE YOUR BET"}),(0,r.jsx)("div",{className:"text-xs text-amber-300/80",children:"Choose chips below"})]})})}):null}function V(e){let{gameState:t,onHit:a,onStand:n,onDouble:l,onSplit:i,onNewGame:c,chipStacks:o,winStreak:d,solBalance:x,serverSeed:h,serverSeedHash:g,clientSeed:p,showFairness:b,setShowFairness:f}=e,[y,v]=(0,s.useState)(!1),[w,j]=(0,s.useState)("win"),[N,k]=(0,s.useState)(0),[S,T]=(0,s.useState)(!1),[B,A]=(0,s.useState)(!1),[C,P]=(0,s.useState)(1);(0,s.useEffect)(()=>{"betting"===t.gamePhase&&0===t.currentBet&&P(Math.floor(3*Math.random())+1)},[t.gamePhase,t.currentBet]),(0,s.useEffect)(()=>{if("gameOver"===t.gamePhase&&t.currentBet>0){let e="lose",a=0,r=!1;console.log("gameState",t);let s=21===t.playerScore&&2===t.playerHand.length,n=21===t.dealerScore&&2===t.dealerHand.length;if(t.isSplit){let s=0,l=!1,i=!1;t.splitHands.forEach(e=>{let a=21===e.score&&2===e.cards.length;e.score>21||(a&&!n?(s+=e.bet+1.5*e.bet,l=!0,i=!0):t.dealerScore>21?(s+=2*e.bet,l=!0):e.score>t.dealerScore?(s+=2*e.bet,l=!0):e.score===t.dealerScore&&(s+=e.bet))}),l?(e="win",a=s,r=i):s>0?(e="push",a=s):(e="lose",a=0)}else t.playerScore>21?(e="lose",a=0):s&&!n?(e="win",r=!0,a=t.currentBet+1.5*t.currentBet):t.dealerScore>21?(e="win",a=2*t.currentBet):t.playerScore>t.dealerScore?(e="win",a=2*t.currentBet):t.playerScore===t.dealerScore?(e="push",a=t.currentBet):(e="lose",a=0);j(e),k(a),T(r),"win"===e&&t.currentBet>0&&(A(!0),setTimeout(()=>A(!1),3e3)),setTimeout(()=>{v(!0)},1e3)}},[t.gamePhase,t.message,t.currentBet,t.playerScore,t.dealerScore,t.isSplit,t.splitHands]);let D=t.isDemo?t.playerBalance:x;D=D||0;let H=2===t.playerHand.length&&t.currentBet<=D;return(0,s.useEffect)(()=>{y&&"win"===w&&window.playWinSound&&setTimeout(()=>window.playWinSound(),500)},[y,w]),(0,r.jsxs)("div",{className:"flex-1 flex flex-col items-center p-2 relative min-h-0",children:[(0,r.jsxs)("div",{className:"relative w-full max-w-sm sm:max-w-2xl h-[90%] rounded-lg border border-amber-500/30 shadow-lg overflow-hidden",style:{background:"\n             radial-gradient(ellipse at center, #1a5f4a 0%, #0d3328 70%),\n             linear-gradient(45deg, transparent 30%, rgba(0,212,170,0.03) 50%, transparent 70%)\n           "},children:[(0,r.jsx)("div",{className:"absolute top-4 right-4 z-30",children:(0,r.jsx)(m,{variant:"outline",className:"border-amber-500/70 text-amber-400 bg-transparent font-bold md:px-4 md:py-2 px-2 py-1 md:h-10 h-8 rounded-lg shadow hover:bg-amber-500/10 transition hover:text-white",onClick:()=>f(!0),children:"Fairness"})}),(0,r.jsxs)("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-10",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center mb-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("video",{src:"/images/dealer.mp4",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-full border-2 border-amber-500/50 shadow-lg object-cover",autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),(0,r.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 sm:w-5 sm:h-5 bg-emerald-500 rounded-full border border-black flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-white rounded-full animate-pulse"})})]}),(0,r.jsx)("div",{className:"text-xs text-amber-400 font-medium mt-1",children:"AI Dealer"})]}),(0,r.jsx)("div",{className:"text-center mb-3",children:(0,r.jsxs)("div",{className:"bg-black/60 rounded-md px-4 py-1 inline-block",children:[(0,r.jsx)("div",{className:"text-sm sm:text-lg font-bold text-white",children:"DEALER"}),(0,r.jsx)("div",{className:"text-lg sm:text-xl text-amber-400 font-bold",children:t.dealerScore>0?t.dealerScore:"?"})]})}),(0,r.jsx)("div",{className:"flex gap-2 justify-center",children:t.dealerHand.map((e,a)=>(0,r.jsx)("div",{className:"scale-75 sm:scale-100",children:(0,r.jsx)(u,{card:e,index:a,isDealing:"dealing"===t.gamePhase,size:"normal"})},"dealer-".concat(a)))})]}),(0,r.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20",children:[(0,r.jsx)(I,{show:"betting"===t.gamePhase&&0===t.currentBet&&0===o.length}),"player"===t.gamePhase&&!t.isSplit&&(0,r.jsx)("div",{className:"bg-black/70 rounded-md px-4 py-2 text-center",children:(0,r.jsx)("div",{className:"text-lg font-bold text-white",children:"Hit or Stand?"})}),"dealing"===t.gamePhase&&(0,r.jsx)("div",{className:"bg-black/70 rounded-md px-4 py-2 text-center",children:(0,r.jsx)("div",{className:"text-lg font-bold text-emerald-400",children:"Dealing..."})})]}),o.length>0&&(0,r.jsx)("div",{className:"absolute bottom-32 left-1/2 transform -translate-x-1/2 z-15",children:(0,r.jsx)("div",{className:"flex gap-4 items-end justify-center",children:o.map((e,t)=>(0,r.jsxs)("div",{className:"relative",children:[Array.from({length:Math.min(e.count,8)}).map((t,a)=>(0,r.jsx)("div",{className:"absolute",style:{bottom:"".concat(4*a,"px"),zIndex:a+10,transform:"rotate(".concat(7*a%360,"deg)"),left:"".concat(3*Math.sin(.5*a),"px")},children:(0,r.jsx)("div",{className:"scale-100 transition-all duration-300",children:(0,r.jsxs)("div",{className:"\n                            w-16 h-16 rounded-full flex flex-col items-center justify-center\n                            border-4 shadow-lg font-bold relative overflow-hidden\n                            ".concat(1===e.value?"bg-white text-black border-gray-400":5===e.value?"bg-red-600 text-white border-red-800":10===e.value?"bg-blue-600 text-white border-blue-800":25===e.value?"bg-green-600 text-white border-green-800":"bg-purple-600 text-white border-purple-800","\n                          "),children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full",children:[...Array(8)].map((e,t)=>(0,r.jsx)("div",{className:"absolute w-3 h-full bg-black/10",style:{transform:"rotate(".concat(22.5*t,"deg)"),transformOrigin:"center center"}},t))}),(0,r.jsxs)("div",{className:"relative z-10",children:[(0,r.jsxs)("div",{className:"text-sm font-bold leading-none",children:["$",e.value]}),(0,r.jsx)("div",{className:"text-xs opacity-90 leading-none",children:"BJ"})]}),(0,r.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-white/20 via-transparent to-black/20"})]})})},"chip-".concat(a))),e.count>8&&(0,r.jsx)("div",{className:"absolute -top-2 -right-1 bg-amber-500 text-black text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center z-30",children:e.count}),(0,r.jsx)("div",{className:"w-16 h-16 opacity-0"})]},"persistent-stack-".concat(e.value,"-").concat(t)))})}),(0,r.jsxs)("div",{className:"absolute bottom-16 sm:bottom-20 left-1/2 transform -translate-x-1/2 z-10",children:[!t.isSplit&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex gap-2 justify-center mb-3",children:t.playerHand.map((e,a)=>(0,r.jsx)("div",{className:"scale-75 sm:scale-100",children:(0,r.jsx)(u,{card:e,index:a,isDealing:"dealing"===t.gamePhase,size:"normal"})},"player-".concat(a)))}),(t.currentBet>0||t.playerHand.length>0)&&(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("div",{className:"bg-black/60 rounded-md px-4 py-1 inline-block",children:[(0,r.jsx)("div",{className:"text-sm sm:text-lg font-bold text-white",children:"YOU"}),(0,r.jsx)("div",{className:"text-lg sm:text-xl text-amber-400 font-bold",children:t.playerScore})]})})]}),t.isSplit&&t.splitHands.length>0&&(0,r.jsx)("div",{className:"flex gap-8 justify-center overflow-x-auto",children:t.splitHands.map((e,a)=>(0,r.jsxs)("div",{className:"flex flex-col items-center min-w-0 flex-shrink-0",children:[(0,r.jsx)("div",{className:"flex gap-1 justify-center mb-1",children:e.cards.map((e,s)=>(0,r.jsx)("div",{className:"scale-75",children:(0,r.jsx)(u,{card:e,index:s,isDealing:"dealing"===t.gamePhase,size:"normal"})},"split-".concat(a,"-").concat(s)))}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("div",{className:"bg-black/60 rounded-md px-3 py-1 inline-block text-sm ".concat(t.activeSplitHand===a?"border border-amber-400":""),children:[(0,r.jsxs)("div",{className:"font-bold text-white",children:["Hand ",a+1]}),(0,r.jsx)("div",{className:"text-amber-400 font-bold",children:e.score}),e.isComplete&&(0,r.jsx)("div",{className:"text-xs text-gray-400",children:"Complete"})]})})]},"split-hand-".concat(a)))})]}),"player"===t.gamePhase&&(0,r.jsxs)("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex gap-2 z-30",children:[(0,r.jsx)(m,{onClick:a,className:"bg-emerald-600 hover:bg-emerald-700 text-white font-bold px-4 py-2 rounded-md",children:"HIT"}),(0,r.jsx)(m,{onClick:n,className:"bg-red-600 hover:bg-red-700 text-white font-bold px-4 py-2 rounded-md",children:"STAND"}),H&&(0,r.jsx)(m,{onClick:l,className:"bg-amber-600 hover:bg-amber-700 text-white font-bold px-4 py-2 rounded-md",children:"DOUBLE"}),t.canSplit&&!t.isSplit&&(0,r.jsx)(m,{onClick:i,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold px-4 py-2 rounded-md",children:"SPLIT"})]})]}),(0,r.jsx)(z,{show:y,result:w,winAmount:N,isBlackjack:S,winStreak:d,onClose:()=>v(!1)})]})}var q=a(87661),U=a.n(q),W=a(82852),K=a(59058),J=a(34160);function $(e){let{value:t,selected:a=!1,onClick:s,disabled:n=!1,currency:l="SOL"}=e,i=(()=>{switch(t){case 1:return{bg:"bg-white",text:"text-black",border:"border-gray-400",segments:"from-gray-200 via-white to-gray-200"};case 5:return{bg:"bg-red-600",text:"text-white",border:"border-red-800",segments:"from-red-700 via-red-600 to-red-700"};case 10:return{bg:"bg-blue-600",text:"text-white",border:"border-blue-800",segments:"from-blue-700 via-blue-600 to-blue-700"};case 25:return{bg:"bg-green-600",text:"text-white",border:"border-green-800",segments:"from-green-700 via-green-600 to-green-700"};default:return{bg:"bg-purple-600",text:"text-white",border:"border-purple-800",segments:"from-purple-700 via-purple-600 to-purple-700"}}})();return(0,r.jsxs)("button",{onClick:()=>{window.playChipSound&&window.playChipSound(t),null==s||s()},disabled:n,className:"\n        w-16 h-16 ".concat(i.bg," ").concat(i.text," ").concat(i.border,"\n        rounded-full flex flex-col items-center justify-center\n        border-4 shadow-lg font-bold\n        transform transition-all duration-200\n        ").concat(a?"scale-110 ring-2 ring-amber-400":"hover:scale-105","\n        ").concat(n?"opacity-50 cursor-not-allowed":"cursor-pointer","\n        ").concat(s?"active:scale-95":"","\n        relative overflow-hidden\n      "),children:[(0,r.jsxs)("div",{className:"absolute inset-0 rounded-full",children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r ".concat(i.segments," opacity-70")}),[...Array(8)].map((e,t)=>(0,r.jsx)("div",{className:"absolute w-3 h-full bg-black/20",style:{transform:"rotate(".concat(22.5*t,"deg)"),transformOrigin:"center center"}},t))]}),(0,r.jsxs)("div",{className:"relative z-10",children:[(0,r.jsxs)("div",{className:"text-xl font-bold leading-none",children:["$",t.toString()]}),(0,r.jsx)("div",{className:"text-xs font-medium opacity-90 leading-none mt-0.5",children:"Lucky"})]}),(0,r.jsx)("div",{className:"absolute inset-0 rounded-full",children:[...Array(8)].map((e,t)=>(0,r.jsx)("div",{className:"absolute w-1 h-2 bg-white/30 rounded-full",style:{transform:"rotate(".concat(45*t,"deg) translateY(-30px)"),top:"50%",left:"calc(50% - 2px)",transformOrigin:"center bottom"}},t))}),(0,r.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-white/20 via-transparent to-black/20"})]})}function G(e){let{gameState:t,onPlaceBet:a,onChipStackUpdate:n,lastBetAmount:l,solBalance:i}=e,[c,o]=(0,s.useState)(0),[d,u]=(0,s.useState)([]),[x,h]=(0,s.useState)([]),[g,p]=(0,s.useState)(!1),[b,f]=(0,s.useState)(!1),y=(t.isDemo,[1,5,10,25,"MAX"]),v=t.isDemo?t.playerBalance:i;(0,s.useEffect)(()=>{let e=()=>{f(window.innerWidth<640)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let w=e=>{if(c+e<=v){window.playChipSound&&window.playChipSound(e),o(c+e);let t=[...d],a=t.find(t=>t.value===e);a?a.count+=1:(t.push({value:e,count:1}),t.sort((e,t)=>t.value-e.value)),u(t),n(t);let r=Date.now()+Math.random();h(t=>[...t,{id:r,value:e,startTime:Date.now()}]),setTimeout(()=>{h(e=>e.filter(e=>e.id!==r))},600)}},j=()=>{o(0),u([]),n([])},N=()=>{let e=Math.floor(v);window.playChipSound&&window.playChipSound(e),o(e),u([{value:e,count:1}]),n([{value:e,count:1}]),p(!0),setTimeout(()=>p(!1),1500)};return"betting"!==t.gamePhase?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"jsx-34b8ceb9313da816 fixed bottom-0 left-0 right-0 bg-black/95 border-t border-amber-500/30 backdrop-blur-sm z-40",children:(0,r.jsxs)("div",{className:"jsx-34b8ceb9313da816 max-w-lg mx-auto p-3 sm:p-4",children:[c>0&&(0,r.jsx)("div",{className:"jsx-34b8ceb9313da816 flex justify-center mb-3",children:(0,r.jsx)("div",{className:"jsx-34b8ceb9313da816 bg-black/80 backdrop-blur-sm rounded-lg px-4 py-2 border border-amber-500/50",children:(0,r.jsx)("div",{className:"jsx-34b8ceb9313da816 text-center",children:(0,r.jsxs)("div",{className:"jsx-34b8ceb9313da816 text-amber-400 font-bold text-lg",children:["Total Bet: $",c.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})," ","BJ"]})})})}),c>0&&(0,r.jsx)("div",{className:"jsx-34b8ceb9313da816 flex justify-center mb-3",children:(0,r.jsxs)(m,{onClick:()=>{c>0&&(window.playButtonSound&&window.playButtonSound(),a(c),j())},className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-white font-bold px-8 text-xl py-4 rounded-xl shadow-lg",children:[(0,r.jsx)(W.A,{className:"w-5 h-5 mr-2"}),"PLACE BET"]})}),(0,r.jsx)("div",{className:"jsx-34b8ceb9313da816 grid grid-cols-5 gap-2 mb-3 justify-items-center",children:y.map((e,t)=>(0,r.jsx)("div",{className:"jsx-34b8ceb9313da816 scale-75 sm:scale-90",children:"MAX"===e?(0,r.jsx)("button",{onClick:N,disabled:v<=0,className:"jsx-34b8ceb9313da816 "+"\n                    w-16 h-16 bg-[url('/max.png')] bg-cover bg-center text-white\n                    rounded-full flex flex-col items-center justify-center\n                    shadow-lg font-bold\n                    transform transition-all duration-200\n                    ".concat(v<=0?"opacity-50 cursor-not-allowed":"cursor-pointer hover:scale-105","\n                    relative overflow-hidden\n                  ")}):(0,r.jsx)($,{value:e,onClick:()=>w(e),disabled:c+e>v,currency:"BJ"})},e))}),(0,r.jsxs)("div",{className:"jsx-34b8ceb9313da816 flex gap-2 items-center justify-center",children:[l>0&&l<=v&&(0,r.jsxs)(m,{onClick:()=>{l>0&&l<=v&&a(l)},size:"sm",className:"bg-blue-600/20 hover:bg-blue-600/40 text-blue-400 border border-blue-600/50 text-sm px-4 py-2",children:[(0,r.jsx)(K.A,{className:"w-4 h-4 mr-1"}),"Repeat Last"]}),c>0&&(0,r.jsxs)(m,{onClick:j,size:"sm",className:"bg-gray-600/20 hover:bg-gray-600/40 text-gray-400 border border-gray-600/50 text-sm px-4 py-2",children:[(0,r.jsx)(J.A,{className:"w-4 h-4 mr-1"}),"Clear Bet"]})]})]})}),x.map(e=>(0,r.jsx)("div",{style:{bottom:"120px",left:"50%",transform:"translateX(-50%)",animation:"chipFeedback 0.6s ease-out forwards"},className:"jsx-34b8ceb9313da816 fixed z-50 pointer-events-none",children:(0,r.jsx)("div",{className:"jsx-34b8ceb9313da816 scale-75 opacity-80",children:(0,r.jsx)($,{value:e.value,currency:"BJ"})})},e.id)),(0,r.jsx)(U(),{id:"34b8ceb9313da816",children:"@-webkit-keyframes chipFeedback{0%{-webkit-transform:translatex(-50%)translatey(0px)scale(.75);transform:translatex(-50%)translatey(0px)scale(.75);opacity:.8}50%{-webkit-transform:translatex(-50%)translatey(-30px)scale(.9);transform:translatex(-50%)translatey(-30px)scale(.9);opacity:1}100%{-webkit-transform:translatex(-50%)translatey(-60px)scale(.6);transform:translatex(-50%)translatey(-60px)scale(.6);opacity:0}}@-moz-keyframes chipFeedback{0%{-moz-transform:translatex(-50%)translatey(0px)scale(.75);transform:translatex(-50%)translatey(0px)scale(.75);opacity:.8}50%{-moz-transform:translatex(-50%)translatey(-30px)scale(.9);transform:translatex(-50%)translatey(-30px)scale(.9);opacity:1}100%{-moz-transform:translatex(-50%)translatey(-60px)scale(.6);transform:translatex(-50%)translatey(-60px)scale(.6);opacity:0}}@-o-keyframes chipFeedback{0%{-o-transform:translatex(-50%)translatey(0px)scale(.75);transform:translatex(-50%)translatey(0px)scale(.75);opacity:.8}50%{-o-transform:translatex(-50%)translatey(-30px)scale(.9);transform:translatex(-50%)translatey(-30px)scale(.9);opacity:1}100%{-o-transform:translatex(-50%)translatey(-60px)scale(.6);transform:translatex(-50%)translatey(-60px)scale(.6);opacity:0}}@keyframes chipFeedback{0%{-webkit-transform:translatex(-50%)translatey(0px)scale(.75);-moz-transform:translatex(-50%)translatey(0px)scale(.75);-o-transform:translatex(-50%)translatey(0px)scale(.75);transform:translatex(-50%)translatey(0px)scale(.75);opacity:.8}50%{-webkit-transform:translatex(-50%)translatey(-30px)scale(.9);-moz-transform:translatex(-50%)translatey(-30px)scale(.9);-o-transform:translatex(-50%)translatey(-30px)scale(.9);transform:translatex(-50%)translatey(-30px)scale(.9);opacity:1}100%{-webkit-transform:translatex(-50%)translatey(-60px)scale(.6);-moz-transform:translatex(-50%)translatey(-60px)scale(.6);-o-transform:translatex(-50%)translatey(-60px)scale(.6);transform:translatex(-50%)translatey(-60px)scale(.6);opacity:0}}"})]})}function Y(e){let{musicEnabled:t,soundEffectsEnabled:a,currentTrack:r,onTrackEnd:n}=e,l=(0,s.useRef)(null),i=(0,s.useRef)(null),c=(0,s.useRef)(null),[o,d]=(0,s.useState)(!1),m=[{name:"Casino Lounge",tempo:120,key:"C",style:"jazz"},{name:"High Stakes",tempo:140,key:"Am",style:"electronic"},{name:"Vegas Nights",tempo:100,key:"F",style:"ambient"}];(0,s.useEffect)(()=>{let e=()=>{try{l.current=new(window.AudioContext||window.webkitAudioContext),i.current=l.current.createGain(),i.current.connect(l.current.destination),i.current.gain.setValueAtTime(.15,l.current.currentTime),d(!0)}catch(e){console.warn("Web Audio API not supported")}},t=()=>{e(),document.removeEventListener("click",t),document.removeEventListener("touchstart",t)};return document.addEventListener("click",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("click",t),document.removeEventListener("touchstart",t),c.current&&(c.current.stop(),c.current.disconnect()),l.current&&l.current.close()}},[]);let u=e=>{if(!l.current||!i.current||!o)return;c.current&&(c.current.stop(),c.current.disconnect());let t=m[e];"jazz"===t.style?x(30):"electronic"===t.style?h(30):g(30)},x=e=>{if(!l.current||!i.current)return;let a=[[261.63,329.63,392,493.88],[220,261.63,329.63,415.3],[293.66,349.23,440,523.25],[196,246.94,293.66,369.99]],s=0,n=e=>{a[s].forEach((t,a)=>{let r=l.current.createOscillator(),s=l.current.createGain();r.connect(s),s.connect(i.current),r.frequency.setValueAtTime(t,e),r.type="sine",s.gain.setValueAtTime(0,e),s.gain.linearRampToValueAtTime(.03,e+.1),s.gain.exponentialRampToValueAtTime(.001,e+2-.1),r.start(e),r.stop(e+2)}),s=(s+1)%a.length};for(let a=0;a<e;a+=2)setTimeout(()=>{t&&n(l.current.currentTime)},1e3*a);setTimeout(()=>{t&&u(r)},1e3*e)},h=e=>{if(!l.current||!i.current)return;let a=[110,123.47,130.81,146.83],s=0,n=e=>{let t=l.current.createOscillator(),r=l.current.createGain();t.connect(r),r.connect(i.current),t.frequency.setValueAtTime(a[s],e),t.type="sawtooth",r.gain.setValueAtTime(0,e),r.gain.linearRampToValueAtTime(.05,e+.01),r.gain.exponentialRampToValueAtTime(.001,e+.4),t.start(e),t.stop(e+.5),s=(s+1)%a.length};for(let a=0;a<e;a+=.5)setTimeout(()=>{t&&n(l.current.currentTime)},1e3*a);setTimeout(()=>{t&&u(r)},1e3*e)},g=e=>{l.current&&i.current&&([65.41,82.41,98,130.81].forEach((t,a)=>{let r=l.current.createOscillator(),s=l.current.createGain();r.connect(s),s.connect(i.current),r.frequency.setValueAtTime(t,l.current.currentTime),r.type="sine",s.gain.setValueAtTime(0,l.current.currentTime),s.gain.linearRampToValueAtTime(.02,l.current.currentTime+2),s.gain.setValueAtTime(.02,l.current.currentTime+e-2),s.gain.linearRampToValueAtTime(0,l.current.currentTime+e),r.start(l.current.currentTime),r.stop(l.current.currentTime+e)}),setTimeout(()=>{t&&u(r)},1e3*e))};return(0,s.useEffect)(()=>{t&&o?u(r):c.current&&(c.current.stop(),c.current.disconnect())},[t,r,o]),(0,s.useEffect)(()=>{if(i.current){let e=.15*!!t;i.current.gain.linearRampToValueAtTime(e,l.current.currentTime+.5)}},[t]),(0,s.useEffect)(()=>{{let e=e=>{let t,r;if(!a||!l.current)return;switch(e){case 1:t=1200,r=.04;break;case 5:t=900,r=.05;break;case 10:t=700,r=.06;break;case 25:t=500,r=.07;break;default:t=300,r=.08}let s=l.current.createOscillator(),n=l.current.createOscillator(),i=l.current.createGain();s.connect(i),n.connect(i),i.connect(l.current.destination),s.frequency.setValueAtTime(t,l.current.currentTime),s.type="triangle",n.frequency.setValueAtTime(1.5*t,l.current.currentTime),n.type="sine",i.gain.setValueAtTime(0,l.current.currentTime),i.gain.linearRampToValueAtTime(r,l.current.currentTime+.01),i.gain.exponentialRampToValueAtTime(.001,l.current.currentTime+.15),s.start(l.current.currentTime),n.start(l.current.currentTime),s.stop(l.current.currentTime+.15),n.stop(l.current.currentTime+.15)},t=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;if(!a||!l.current)return;let s=l.current.createOscillator(),n=l.current.createGain();s.connect(n),n.connect(l.current.destination),s.frequency.setValueAtTime(e,l.current.currentTime),s.type="sine",n.gain.setValueAtTime(0,l.current.currentTime),n.gain.linearRampToValueAtTime(r,l.current.currentTime+.01),n.gain.exponentialRampToValueAtTime(.001,l.current.currentTime+t),s.start(l.current.currentTime),s.stop(l.current.currentTime+t)};window.playChipSound=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return e(t)},window.playCardSound=()=>t(400,.15,.03),window.playWinSound=()=>{t(523,.2,.06),setTimeout(()=>t(659,.2,.06),100),setTimeout(()=>t(784,.3,.06),200)},window.playButtonSound=()=>t(600,.08,.04)}},[a]),null}function X(){let e=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],t=[];for(let a of["♠","♥","♦","♣"])for(let r of e){let e=Number.parseInt(r);isNaN(e)&&(e="A"===r?11:10),t.push({suit:a,rank:r,value:e})}return t}function Q(e){let t=[...e];for(let e=t.length-1;e>0;e--){let a=Math.floor(Math.random()*(e+1));[t[e],t[a]]=[t[a],t[e]]}return t}function Z(e){let t=e.pop();if(!t){let t=Q(X()),a=t.pop();if(!a)throw Error("Failed to create new deck");return e.push(...t),a}return t}function ee(e){let t=0,a=0;for(let r of e)"A"===r.rank?a++:t+=r.value;t+=a;let r=0;for(;r<a&&t+10<=21;)t+=10,r++;return t}function et(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function ea(e,t){let a=e+t,r=0;for(let e=0;e<a.length;e++)r=(r<<5)-r+a.charCodeAt(e),r&=r;return Math.abs(r).toString(16)}var er=a(9633);let es=new er.PublicKey("7ENRFbGhD4VqwoBJ3RHHTswi8FWomogWFHSDbSZSPyEq"),en=new er.Connection((0,er.clusterApiUrl)("devnet"),"confirmed"),el=new er.PublicKey("mntrcUd9gqTTikeTBVkE1D4Whkj43hrH89P1Kc2hG5k"),ei=new er.PublicKey("8etfvMrKrpqNJbBLfR71ftDMPdsqHt4z1583AohtxhLc"),ec=[127,7,38,171,236,190,144,4,79,10,13,76,42,135,58,175,104,241,40,183,212,96,194,23,86,81,146,220,58,192,96,109,92,146,227,191,3,222,53,249,18,15,224,148,33,219,19,136,92,146,200,34,103,217,32,97,43,110,202,229,213,47,244,66],eo={version:"0.1.0",name:"staking",instructions:[{name:"initialize",accounts:[{name:"vault",isMut:!0,isSigner:!1},{name:"owner",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"changeAdmin",accounts:[{name:"vault",isMut:!0,isSigner:!1},{name:"owner",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"newAdmin",type:"publicKey"}]},{name:"unstake",accounts:[{name:"userTokenAccount",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"vaultTokenAccount",isMut:!0,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"burnToken",accounts:[{name:"vaultTokenAccount",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]}],accounts:[{name:"Vault",type:{kind:"struct",fields:[{name:"admin",type:"publicKey"},{name:"bump",type:"u8"}]}}],errors:[{code:6e3,name:"Unauthorized",msg:"Unauthorized"},{code:6001,name:"InsufficientStake",msg:"Insufficient staked amount."},{code:6002,name:"ZeroAmount",msg:"Cannot stake zero amount."},{code:6003,name:"InvalidMint",msg:"Invalid Mint."}]};var ed=a(76150),em=a(45761);a(27308);var eu=a(10562),ex=a(72630),eh=a(26220),eg=a(4455).Buffer;let ep=()=>{let e=er.Keypair.fromSecretKey(new Uint8Array(ec)),t={payer:e,publicKey:e.publicKey,signTransaction:async t=>(t.partialSign(e),t),signAllTransactions:async t=>t.map(t=>(t.partialSign(e),t))},a=new ex.SX.Connection("https://api.devnet.solana.com","confirmed"),r=new ex.NQ(a,t,{preflightCommitment:"confirmed"});return new ex.BP(eo,ei,r)},eb=()=>er.PublicKey.findProgramAddressSync([eg.from("vault")],ei),ef=async e=>{let[t]=eb();return(0,ed.Ob)(e,t,!0,em.sy)},ey=(e,t,a,r)=>{try{return(0,eh.JA)(e,a,r,t,em.sy)}catch(e){throw console.error("Error creating vault token account:",e),e}},ev=async e=>{let[t]=eb();try{return await e.account.vault.fetch(t),!0}catch(e){return!1}},ew=async(e,t,a,r)=>{let[s]=eb();try{if(!await ev(e))throw Error("Vault not initialized. Please contact the administrator.");let n=await e.methods.unstake(new ex.BN(t).mul(new ex.BN(1e9))).accounts({admin:es,userTokenAccount:a,mint:el,vaultTokenAccount:r,vault:s,tokenProgram:em.sy,systemProgram:ex.SX.SystemProgram.programId}).rpc();console.log("✅ Success. TX:",n)}catch(e){throw console.error("Error unstaking tokens:",e),e}},ej=(0,l.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function eN(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:o(ej({variant:a}),t),...s})}var ek=a(93508);let eS=e=>{let{showFairness:t,setShowFairness:a,serverSeedHash:s,serverSeed:n,clientSeed:l}=e;return(0,r.jsxs)(p,{open:t,onOpenChange:a,children:[(0,r.jsx)(y,{className:"bg-gradient-to-br from-black via-gray-900 to-black border-amber-400/60 border-2 shadow-2xl rounded-2xl p-0 max-w-lg w-full",children:(0,r.jsxs)(w,{className:"bg-transparent border-none shadow-none",children:[(0,r.jsxs)(j,{className:"flex flex-row items-center justify-between px-6 py-4",children:[(0,r.jsxs)("div",{className:"jsx-4887799d119ed296 flex items-center gap-3",children:[(0,r.jsx)("span",{className:"jsx-4887799d119ed296 inline-flex items-center justify-center w-10 h-10 rounded-full bg-amber-500/20 border border-amber-400/40 shadow",children:(0,r.jsx)(ek.A,{className:"w-6 h-6 text-amber-400"})}),(0,r.jsx)(N,{className:"text-2xl font-extrabold text-amber-400 tracking-wide",children:"Provably Fair"})]}),(0,r.jsx)("button",{onClick:()=>a(!1),"aria-label":"Close",type:"button",className:"jsx-4887799d119ed296 !mt-[-4px] w-10 h-10 text-2xl text-amber-400 hover:text-white transition-colors z-50",children:"\xd7"})]}),(0,r.jsx)(T,{className:"bg-amber-400/20 mb-2"}),(0,r.jsxs)(k,{className:"space-y-4 px-6 pb-6",children:[(0,r.jsxs)("div",{className:"jsx-4887799d119ed296",children:[(0,r.jsx)(eN,{variant:"outline",className:"mb-1 text-amber-400 border-amber-400/60 bg-black/40",children:"Server Seed Hash (commit)"}),(0,r.jsx)("div",{className:"jsx-4887799d119ed296 break-all font-mono bg-gray-900/80 text-amber-200 p-2 rounded border border-amber-400/20 text-xs select-all",children:s})]}),(0,r.jsxs)("div",{className:"jsx-4887799d119ed296",children:[(0,r.jsx)(eN,{variant:"outline",className:"mb-1 text-amber-400 border-amber-400/60 bg-black/40",children:"Server Seed (reveal)"}),(0,r.jsx)("div",{className:"jsx-4887799d119ed296 break-all font-mono bg-gray-900/80 text-emerald-200 p-2 rounded border border-amber-400/20 text-xs select-all",children:n})]}),(0,r.jsxs)("div",{className:"jsx-4887799d119ed296",children:[(0,r.jsx)(eN,{variant:"outline",className:"mb-1 text-amber-400 border-amber-400/60 bg-black/40",children:"Your (Client) Seed"}),(0,r.jsx)("div",{className:"jsx-4887799d119ed296 break-all font-mono bg-gray-900/80 text-blue-200 p-2 rounded border border-amber-400/20 text-xs select-all",children:l})]}),(0,r.jsx)(T,{className:"bg-amber-400/10"}),(0,r.jsxs)("div",{className:"jsx-4887799d119ed296",children:[(0,r.jsx)("div",{className:"jsx-4887799d119ed296 text-sm text-gray-300 mb-2 font-semibold",children:"How to verify:"}),(0,r.jsxs)("ol",{className:"jsx-4887799d119ed296 list-decimal ml-6 text-gray-400 text-sm space-y-1",children:[(0,r.jsx)("li",{className:"jsx-4887799d119ed296",children:"Combine the server and client seeds."}),(0,r.jsxs)("li",{className:"jsx-4887799d119ed296",children:["Use the combined value to seed a shuffle algorithm (see ",(0,r.jsx)("span",{className:"jsx-4887799d119ed296 text-amber-300",children:"lib/game-logic.ts"}),")."]}),(0,r.jsx)("li",{className:"jsx-4887799d119ed296",children:"Verify the deck order matches the game."})]})]})]})]})}),(0,r.jsx)(U(),{id:"4887799d119ed296",children:".fixed.left-\\[50\\%\\].top-\\[50\\%\\] button.absolute.right-4.top-4{display:none!important}"})]})};class eT{async makeRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let a=await fetch("".concat(this.baseURL).concat(e),{headers:{"Content-Type":"application/json",...t.headers},...t}),r=await a.json();if(!a.ok)throw Error(r.error||"API request failed");return r}catch(e){throw console.error("API Error:",e),e}}async login(e){return this.makeRequest("/auth/login",{method:"POST",body:JSON.stringify({wallet_address:e})})}async getProfile(e){return this.makeRequest("/auth/profile?wallet_address=".concat(e))}async updateProfile(e,t){return this.makeRequest("/auth/profile",{method:"PUT",body:JSON.stringify({wallet_address:e,username:t})})}async getBalance(e){return this.makeRequest("/balance/balance?wallet_address=".concat(e))}async getBalanceHistory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return this.makeRequest("/balance/history?wallet_address=".concat(e,"&page=").concat(t,"&limit=").concat(a))}async getBalanceSummary(e){return this.makeRequest("/balance/summary?wallet_address=".concat(e))}async deductBalance(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"blackjack",r=arguments.length>3?arguments[3]:void 0;return this.makeRequest("/balance/deduct",{method:"POST",body:JSON.stringify({wallet_address:e,amount:t,game_type:a,reference_id:r})})}async creditBalance(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"blackjack",r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return this.makeRequest("/balance/credit",{method:"POST",body:JSON.stringify({wallet_address:e,amount:t,game_type:a,result_type:r,reference_id:s})})}async createDeposit(e,t,a){return this.makeRequest("/deposits/create",{method:"POST",body:JSON.stringify({wallet_address:e,amount:t,transaction_hash:a})})}async getDepositHistory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return this.makeRequest("/deposits/history?wallet_address=".concat(e,"&page=").concat(t,"&limit=").concat(a))}async createWithdrawal(e,t,a){return this.makeRequest("/withdrawals/create",{method:"POST",body:JSON.stringify({wallet_address:e,amount:t,withdrawal_address:a})})}async getWithdrawalHistory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return this.makeRequest("/withdrawals/history?wallet_address=".concat(e,"&page=").concat(t,"&limit=").concat(a))}async saveBetResult(e,t){return this.makeRequest("/bets/save-result",{method:"POST",body:JSON.stringify({wallet_address:e,...t})})}async getBetHistory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=new URLSearchParams({wallet_address:e,page:t.toString(),limit:a.toString(),...r});return this.makeRequest("/bets/history?".concat(s))}async getAllBetHistory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new URLSearchParams({page:e.toString(),limit:t.toString(),...a});return this.makeRequest("/bets/all-history?".concat(r))}async getBetStatistics(e){return this.makeRequest("/bets/statistics?wallet_address=".concat(e))}async getRecentBets(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return this.makeRequest("/bets/recent?wallet_address=".concat(e,"&limit=").concat(t))}constructor(){this.baseURL="https://admin.gotlucky.bet/api"}}let eB=new eT;function eA(e){let{gameHistory:t,className:a="",isLoading:n=!1,newEntriesCount:l=0,onNewEntriesAcknowledged:i}=e,[c,o]=(0,s.useState)(!1);console.log("BetHistoryTable rendered with",t.length,"entries");let d=e=>e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),m=e=>e.toLocaleDateString("en-US",{month:"short",day:"numeric"}),u=e=>{switch(e){case"win":return"text-green-400";case"lose":return"text-red-400";case"push":return"text-yellow-400";default:return"text-gray-400"}},x=e=>{switch(e){case"win":return"✓";case"lose":return"✗";case"push":return"=";default:return"•"}};return n?(0,r.jsx)("div",{className:"bg-gray-900/50 border border-gray-700 rounded-lg p-4 ".concat(a),children:(0,r.jsxs)("div",{className:"text-center text-gray-400",children:[(0,r.jsx)("div",{className:"text-2xl mb-2",children:"⏳"}),(0,r.jsx)("p",{className:"text-sm",children:"Loading bet history..."}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Please wait"})]})}):0===t.length?(0,r.jsx)("div",{className:"bg-gray-900/50 border border-gray-700 rounded-lg p-4 ".concat(a),children:(0,r.jsxs)("div",{className:"text-center text-gray-400",children:[(0,r.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDCCA"}),(0,r.jsx)("p",{className:"text-sm",children:"No bet history yet"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Your game history will appear here"}),(0,r.jsx)("p",{className:"text-xs text-gray-600 mt-2",children:"Play a game to see your history!"})]})}):(0,r.jsxs)("div",{className:"bg-gray-900/50 border border-gray-700 rounded-lg ".concat(a),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-amber-400 rounded-full"}),(0,r.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Bet History"}),(0,r.jsx)("span",{className:"text-xs text-gray-400 bg-gray-800 px-2 py-1 rounded",children:t.length}),l>0&&(0,r.jsxs)("span",{className:"text-xs text-green-400 bg-green-900/20 px-2 py-1 rounded animate-pulse",children:["+",l," new"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[l>0&&i&&(0,r.jsx)("button",{onClick:i,className:"text-xs text-green-400 hover:text-green-300 transition-colors",title:"Clear new entries notification",children:"✓"}),(0,r.jsx)("button",{onClick:()=>o(!c),className:"text-gray-400 hover:text-white transition-colors",children:c?"−":"+"})]})]}),(0,r.jsx)("div",{className:"!hidden md:!block",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,r.jsx)("th",{className:"text-left p-3 text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Time"}),(0,r.jsx)("th",{className:"text-left p-3 text-xs font-medium text-gray-400 uppercase tracking-wider",children:"User"}),(0,r.jsx)("th",{className:"text-left p-3 text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Bet"}),(0,r.jsx)("th",{className:"text-left p-3 text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Result"}),(0,r.jsx)("th",{className:"text-left p-3 text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Winnings"}),(0,r.jsx)("th",{className:"text-left p-3 text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Hands"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-700",children:t.slice(0,c?t.length:10).map((e,t)=>(0,r.jsxs)("tr",{className:"hover:bg-gray-800/30 transition-colors",children:[(0,r.jsx)("td",{className:"p-3 text-xs text-gray-300",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:d(e.timestamp)}),(0,r.jsx)("div",{className:"text-gray-500",children:m(e.timestamp)})]})}),(0,r.jsx)("td",{className:"p-3 text-xs text-gray-300",children:(0,r.jsx)("span",{className:"font-medium text-blue-400",children:e.username||"Unknown"})}),(0,r.jsx)("td",{className:"p-3 text-xs text-gray-300",children:(0,r.jsx)("span",{className:"font-medium",children:e.bet.toFixed(2)})}),(0,r.jsx)("td",{className:"p-3 text-xs",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"font-bold ".concat(u(e.result)),children:x(e.result)}),(0,r.jsx)("span",{className:"capitalize ".concat(u(e.result)),children:e.result})]})}),(0,r.jsx)("td",{className:"p-3 text-xs",children:(0,r.jsxs)("span",{className:"font-medium ".concat(e.winnings>0?"text-green-400":"text-gray-300"),children:[e.winnings>0?"+":"",e.winnings.toFixed(2)]})}),(0,r.jsx)("td",{className:"p-3 text-xs text-gray-400",children:(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)("span",{className:"text-blue-400",children:"P:"}),(0,r.jsx)("span",{className:"font-mono text-xs",children:e.playerHand})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)("span",{className:"text-red-400",children:"D:"}),(0,r.jsx)("span",{className:"font-mono text-xs",children:e.dealerHand})]})]})})]},e.id))})]})})}),(0,r.jsx)("div",{className:"md:!hidden",children:(0,r.jsx)("div",{className:"space-y-2 p-4",children:t.slice(0,c?t.length:3).map(e=>(0,r.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-3 border border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-lg ".concat(u(e.result)),children:x(e.result)}),(0,r.jsx)("span",{className:"text-sm font-medium capitalize ".concat(u(e.result)),children:e.result})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-xs text-gray-400",children:d(e.timestamp)}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:m(e.timestamp)})]})]}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)("div",{className:"text-xs text-blue-400 font-medium",children:e.username||"Unknown"})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Bet:"}),(0,r.jsx)("span",{className:"ml-1 font-medium text-white",children:e.bet.toFixed(2)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Winnings:"}),(0,r.jsxs)("span",{className:"ml-1 font-medium ".concat(e.winnings>0?"text-green-400":"text-gray-300"),children:[e.winnings>0?"+":"",e.winnings.toFixed(2)]})]})]}),(0,r.jsx)("div",{className:"mt-2 pt-2 border-t border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)("span",{className:"text-blue-400",children:"P:"}),(0,r.jsx)("span",{className:"font-mono",children:e.playerHand})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)("span",{className:"text-red-400",children:"D:"}),(0,r.jsx)("span",{className:"font-mono",children:e.dealerHand})]})]})})]},e.id))})}),t.length>(c?t.length:5)&&(0,r.jsx)("div",{className:"border-t border-gray-700 p-3",children:(0,r.jsx)("button",{onClick:()=>o(!c),className:"w-full text-xs text-gray-400 hover:text-white transition-colors py-1",children:c?"Show Less":"Show ".concat(t.length-5," More")})})]})}let eC=0,eP=new Map,eD=e=>{if(eP.has(e))return;let t=setTimeout(()=>{eP.delete(e),eF({type:"REMOVE_TOAST",toastId:e})},1e6);eP.set(e,t)},eH=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?eD(a):e.toasts.forEach(e=>{eD(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},eE=[],eR={toasts:[]};function eF(e){eR=eH(eR,e),eE.forEach(e=>{e(eR)})}function eM(e){let{...t}=e,a=(eC=(eC+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>eF({type:"DISMISS_TOAST",toastId:a});return eF({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>eF({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function e_(){let[e,t]=s.useState(eR);return s.useEffect(()=>(eE.push(t),()=>{let e=eE.indexOf(t);e>-1&&eE.splice(e,1)}),[e]),{...e,toast:eM,dismiss:e=>eF({type:"DISMISS_TOAST",toastId:e})}}var eL=a(62259);let eO=eL.Kq,ez=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(eL.LM,{ref:t,className:o("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a),...s})});ez.displayName=eL.LM.displayName;let eI=(0,l.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),eV=s.forwardRef((e,t)=>{let{className:a,variant:s,...n}=e;return(0,r.jsx)(eL.bL,{ref:t,className:o(eI({variant:s}),a),...n})});eV.displayName=eL.bL.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(eL.rc,{ref:t,className:o("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a),...s})}).displayName=eL.rc.displayName;let eq=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(eL.bm,{ref:t,className:o("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":"",...s,children:(0,r.jsx)(g.A,{className:"h-4 w-4"})})});eq.displayName=eL.bm.displayName;let eU=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(eL.hE,{ref:t,className:o("text-sm font-semibold",a),...s})});eU.displayName=eL.hE.displayName;let eW=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(eL.VY,{ref:t,className:o("text-sm opacity-90",a),...s})});function eK(){let{toasts:e}=e_();return(0,r.jsxs)(eO,{children:[e.map(function(e){let{id:t,title:a,description:s,action:n,...l}=e;return(0,r.jsxs)(eV,{...l,children:[(0,r.jsxs)("div",{className:"grid gap-1",children:[a&&(0,r.jsx)(eU,{children:a}),s&&(0,r.jsx)(eW,{children:s})]}),n,(0,r.jsx)(eq,{})]},t)}),(0,r.jsx)(ez,{})]})}function eJ(){let{toast:e}=e_(),[t,a]=(0,s.useState)(!1),[n,l]=(0,s.useState)([]),[i,c]=(0,s.useState)(0),[o,d]=(0,s.useState)(0),[m,u]=(0,s.useState)(0),[x,h]=(0,s.useState)([]),[g,b]=(0,s.useState)(!0),[f,v]=(0,s.useState)(!0),[w,j]=(0,s.useState)(0),[N,k]=(0,s.useState)(0),[S,T]=(0,s.useState)(et()),[B,D]=(0,s.useState)(et()),[H,E]=(0,s.useState)(ea(S,"")),[R,F]=(0,s.useState)(!1),[M,L]=(0,s.useState)({deck:[],playerHand:[],dealerHand:[],playerBalance:1e4,currentBet:0,gamePhase:"betting",playerScore:0,dealerScore:0,message:"Place your bet to start",canDouble:!1,canSplit:!1,isDemo:!0,isSplit:!1,splitHands:[],activeSplitHand:0}),{publicKey:z,connected:I,connect:q,disconnect:U,connecting:W,wallet:K,signTransaction:J}=(0,_.v)(),[$,es]=(0,s.useState)(!1),[ei,ec]=(0,s.useState)(""),[eo,ex]=(0,s.useState)(""),[eh,eg]=(0,s.useState)(!1),[ev,ej]=(0,s.useState)(!1),[eN,ek]=(0,s.useState)(""),[eT,eC]=(0,s.useState)(""),[eP,eD]=(0,s.useState)(!1),[eH,eE]=(0,s.useState)(0),eR=new URLSearchParams(window.location.search);C(eR),A(eR),(0,s.useEffect)(()=>{let e=Q(X());L(t=>({...t,deck:e}))},[]),(0,s.useEffect)(()=>{I&&eO((null==K?void 0:K.adapter.name)||"")},[I,K]),(0,s.useEffect)(()=>{if(!K)return;let e=()=>{ez()};return K.adapter.on("disconnect",e),()=>{K.adapter.off("disconnect",e)}},[K]);let eF=async()=>{if(z)try{let e=z.toString(),t=await eB.getBalance(e);console.log(t.data.balance,"asdfasdfadsf");let a=Number(t.data.balance)||0;u(a),console.log("Balance updated from API:",a)}catch(e){console.error("Failed to fetch balance from API:",e),u(0)}},eM=async()=>{eD(!0);try{let e=(await eB.getAllBetHistory(1,50)).data.bets.map(e=>{var t,a,r;return{id:e.id||e._id,timestamp:new Date(e.created_at||e.timestamp),bet:Number(e.bet_amount)||0,result:e.result,winnings:Number(e.win_amount||e.net_profit)||0,playerHand:(null===(t=e.game_data)||void 0===t?void 0:t.player_hand)||"Unknown",dealerHand:(null===(a=e.game_data)||void 0===a?void 0:a.dealer_hand)||"Unknown",username:e.username||(null===(r=e.wallet_address)||void 0===r?void 0:r.slice(0,8))+"..."}});h(e)}catch(e){console.error("Failed to fetch bet history from API:",e)}finally{eD(!1)}},eL=async()=>{try{let e=(await eB.getAllBetHistory(1,50)).data.bets.map(e=>{var t,a,r;return{id:e.id||e._id,timestamp:new Date(e.created_at||e.timestamp),bet:Number(e.bet_amount)||0,result:e.result,winnings:Number(e.win_amount||e.net_profit)||0,playerHand:(null===(t=e.game_data)||void 0===t?void 0:t.player_hand)||"Unknown",dealerHand:(null===(a=e.game_data)||void 0===a?void 0:a.dealer_hand)||"Unknown",username:e.username||(null===(r=e.wallet_address)||void 0===r?void 0:r.slice(0,8))+"..."}});h(t=>{if(0===t.length)return console.log("Initial bet history loaded:",e.length,"entries"),e;let a=new Set(t.map(e=>e.id)),r=e.filter(e=>!a.has(e.id));return r.length>0?(console.log("New bet history entries found:",r.length,"entries"),eE(r.length),[...r,...t]):t})}catch(e){console.error("Failed to fetch realtime bet history from API:",e)}},eO=async e=>{try{if(!z)return;try{eF()}catch(e){console.error("Failed to fetch $Lucky token balance:",e),u(0)}a(!0),L(e=>({...e,isDemo:!1,playerBalance:0})),l([]),console.log("Wallet connected: ".concat(e))}catch(e){console.error("Wallet connection error:",e)}},ez=()=>{a(!1),u(1e4),h([]),c(0),L({deck:Q(X()),playerHand:[],dealerHand:[],playerBalance:1e4,currentBet:0,gamePhase:"betting",playerScore:0,dealerScore:0,message:"Place your bet to start",canDouble:!1,canSplit:!1,isDemo:!0,isSplit:!1,splitHands:[],activeSplitHand:0}),console.log("Wallet disconnected")},eI=async e=>{let t=Date.now();if(t-N<1e3){console.warn("Betting too quickly");return}let a=M.isDemo?M.playerBalance:m,r={...M};if(e>a){L(e=>({...e,message:"Insufficient balance"}));return}if(k(t),d(e),M.isDemo)L(t=>({...t,currentBet:e,playerBalance:t.playerBalance-e,gamePhase:"dealing",message:"Dealing cards...",isSplit:!1,splitHands:[],activeSplitHand:0}));else if(L(t=>({...t,currentBet:e,gamePhase:"dealing",message:"Dealing cards...",isSplit:!1,splitHands:[],activeSplitHand:0})),!await eV(r,e))return;l([]),setTimeout(()=>{eU(e)},1e3)},eV=async(e,t)=>{if(!z)return!1;let a=z.toString();try{return await eB.deductBalance(a,t,"blackjack"),console.log("Balance deducted from backend:",t),eF(),!0}catch(a){console.error("Failed to deduct balance from backend:",a);let t=a.message||"Failed to place bet";return L({...e,message:t}),!1}},eq=async e=>{let t=await (null==J?void 0:J(e));console.log("✅ Transaction successful:",await en.sendRawTransaction((null==t?void 0:t.serialize())||new Uint8Array,{skipPreflight:!0}))},eU=e=>{let t=[...M.deck];0===t.length&&(t=Q(X()));let a=[],r=[];if(M.isDemo){if(.7>Math.random()){let e=[[{suit:"♠",rank:"A",value:11},{suit:"♥",rank:"9",value:9}],[{suit:"♦",rank:"K",value:10},{suit:"♣",rank:"Q",value:10}],[{suit:"♠",rank:"A",value:11},{suit:"♥",rank:"K",value:10}],[{suit:"♦",rank:"10",value:10},{suit:"♣",rank:"9",value:9}],[{suit:"♠",rank:"8",value:8},{suit:"♥",rank:"8",value:8}]],t=e[Math.floor(Math.random()*e.length)];a.push(...t);let s=[[{suit:"♠",rank:"6",value:6},{suit:"♥",rank:"5",value:5}],[{suit:"♦",rank:"4",value:4},{suit:"♣",rank:"7",value:7}],[{suit:"♠",rank:"5",value:5},{suit:"♥",rank:"6",value:6}]],n=s[Math.floor(Math.random()*s.length)];r.push(...n)}else for(let e=0;e<2;e++)a.push(Z(t)),r.push(Z(t))}else for(let e=0;e<2;e++)a.push(Z(t)),r.push(Z(t));r.length>=2&&(r[1].hidden=!0);let s=ee(a),n=ee([r[0]]),l=M.isDemo?M.playerBalance:m,i=2===a.length&&M.currentBet<=l,c=2===a.length&&a[0].rank===a[1].rank;L(e=>({...e,deck:t,playerHand:a,dealerHand:r,playerScore:s,dealerScore:n,gamePhase:21===s?"dealer":"player",message:21===s?"Blackjack!":"Hit or Stand?",canDouble:i,canSplit:c})),21===s&&setTimeout(()=>{eY(s,e,a,r)},2e3)},eW=async()=>{if(!M.canSplit)return;let e=M.isDemo?M.playerBalance:m;if(M.currentBet>e)return;let t=M.currentBet,a=M.playerHand[0],r=M.playerHand[1],s="A"===a.rank,n=[{cards:[a],score:ee([a]),bet:t,isActive:!0,isComplete:!1},{cards:[r],score:ee([r]),bet:t,isActive:!1,isComplete:!1}],l=[...M.deck],i={...M};if(n[0].cards.push(Z(l)),n[0].score=ee(n[0].cards),n[1].cards.push(Z(l)),n[1].score=ee(n[1].cards),M.isDemo)L(a=>({...a,deck:l,playerBalance:a.playerBalance-t,currentBet:2*t,isSplit:!0,splitHands:n,activeSplitHand:s?-1:0,canDouble:!s&&e>=t,canSplit:!1,playerHand:[],playerScore:s?0:n[0].score,message:s?"Split Aces complete - Dealer playing...":"Playing split hand 1",gamePhase:s?"dealer":"player"}));else{if(!await eV(i,t))return;L(a=>({...a,deck:l,currentBet:2*t,isSplit:!0,splitHands:n,activeSplitHand:s?-1:0,canDouble:!s&&e>=t,canSplit:!1,playerHand:[],playerScore:s?0:n[0].score,message:s?"Split Aces complete - Dealer playing...":"Playing split hand 1",gamePhase:s?"dealer":"player"}))}s&&(n[0].isComplete=!0,n[0].isActive=!1,n[1].isComplete=!0,n[1].isActive=!1,setTimeout(()=>{eY(n[0].score,M.currentBet,M.playerHand,M.dealerHand)},2e3))},eJ=(e,t,a)=>{let r;let s=[...M.deck];if(M.isSplit){let t=[...M.splitHands],n=t[M.activeSplitHand];if(M.isDemo&&n.score<=11){let e=[{suit:"♠",rank:"9",value:9},{suit:"♥",rank:"8",value:8},{suit:"♦",rank:"7",value:7},{suit:"♣",rank:"6",value:6}];r=e[Math.floor(Math.random()*e.length)]}else r=Z(s);if(n.cards.push(r),n.score=ee(n.cards),n.score>=21){if(n.isComplete=!0,n.isActive=!1,M.activeSplitHand<t.length-1){let e=M.activeSplitHand+1;t[e].isActive=!0;let a=M.isDemo?M.playerBalance:m;L(r=>({...r,deck:s,splitHands:t,activeSplitHand:e,playerScore:t[e].score,canDouble:a>=r.currentBet/2&&2===t[e].cards.length,message:"Playing split hand ".concat(e+1)}))}else L(e=>({...e,deck:s,splitHands:t,gamePhase:"dealer",canDouble:!1,message:"Dealer playing..."})),setTimeout(()=>{eY(e,a,M.playerHand,M.dealerHand)},1e3)}else L(e=>({...e,deck:s,splitHands:t,playerScore:n.score,canDouble:!1}))}else{if(M.isDemo&&M.playerScore<=11){let e=[{suit:"♠",rank:"9",value:9},{suit:"♥",rank:"8",value:8},{suit:"♦",rank:"7",value:7},{suit:"♣",rank:"6",value:6}];r=e[Math.floor(Math.random()*e.length)]}else r=Z(s);let n=[...M.playerHand,r],l=ee(n);L(e=>({...e,deck:s,playerHand:n,playerScore:l,canDouble:!1,canSplit:!1,gamePhase:l>21?"gameOver":"player",message:l>21?"Bust! Dealer wins":"Hit or Stand?"})),l>21&&setTimeout(()=>{eZ("lose",a,e,t,n,M.dealerHand)},1500)}},e$=(e,t)=>{if(M.isSplit){let a=[...M.splitHands],r=a[M.activeSplitHand];if(r.isComplete=!0,r.isActive=!1,M.activeSplitHand<a.length-1){let e=M.activeSplitHand+1;a[e].isActive=!0;let t=M.isDemo?M.playerBalance:m;L(r=>({...r,splitHands:a,activeSplitHand:e,playerScore:a[e].score,canDouble:t>=r.currentBet/2&&2===a[e].cards.length,message:"Playing split hand ".concat(e+1)}))}else L(e=>({...e,splitHands:a,gamePhase:"dealer",canDouble:!1,message:"Dealer playing..."})),setTimeout(()=>{eY(e,t,M.playerHand,M.dealerHand)},1e3)}else L(e=>({...e,gamePhase:"dealer",message:"Dealer playing..."})),setTimeout(()=>{eY(e,t,M.playerHand,M.dealerHand)},1e3)},eG=async()=>{let e=M.isDemo?M.playerBalance:m,t={...M};if(M.isSplit){let a=M.currentBet/2;if(a>e){L(e=>({...e,message:"Insufficient balance to double"}));return}let r=[...M.splitHands];if(r[M.activeSplitHand].bet=2*a,M.isDemo)L(e=>({...e,playerBalance:e.playerBalance-a,currentBet:e.currentBet+a,splitHands:r,canDouble:!1}));else{if(!await eV(t,a))return;L(e=>({...e,currentBet:e.currentBet+a,splitHands:r,canDouble:!1}))}eJ(M.playerScore,M.dealerScore,t.currentBet+a)}else{if(M.currentBet>e){L(e=>({...e,message:"Insufficient balance to double"}));return}if(M.isDemo)L(e=>({...e,playerBalance:e.playerBalance-e.currentBet,currentBet:2*e.currentBet,canDouble:!1}));else{if(!await eV(t,2*t.currentBet))return;L(e=>({...e,currentBet:2*e.currentBet,canDouble:!1}))}eJ(M.playerScore,M.dealerScore,2*t.currentBet)}},eY=(e,t,a,r)=>{console.log("dealerPlay",e);let s=[...M.dealerHand],n=[...M.deck];s.length>=2&&s[1]&&(s[1].hidden=!1);let l=ee(s);if(M.isDemo){if(M.isSplit?M.splitHands.some(e=>e.score<=21):e<=21)for(;l<17;){if(.6>Math.random()&&l>=12){let e=[{suit:"♠",rank:"10",value:10},{suit:"♥",rank:"J",value:10},{suit:"♦",rank:"Q",value:10},{suit:"♣",rank:"K",value:10}];s.push(e[Math.floor(Math.random()*e.length)])}else s.push(Z(n));l=ee(s)}else for(;l<17;)s.push(Z(n)),l=ee(s)}else for(;l<17;)s.push(Z(n)),l=ee(s);L(e=>({...e,deck:n,dealerHand:s,dealerScore:l,gamePhase:"gameOver"})),setTimeout(()=>{M.isSplit?eX(l,r):eQ(e,l,t,a,r)},1500)},eX=(e,t)=>{console.log("determineSplitWinner",e);let a=0,r=0,s=0,n=0,l=0;M.splitHands.forEach(i=>{let c=21===i.score&&2===i.cards.length,o=21===e&&2===t.length;i.score>21?s++:c&&!o?(a+=Math.floor(i.bet+1.5*i.bet),r++,l++):e>21?(a+=2*i.bet,r++):i.score>e?(a+=2*i.bet,r++):i.score===e?(a+=i.bet,n++):s++});let i="";i=l>0?"Split: ".concat(l," Blackjack").concat(l>1?"s":"",", ").concat(r-l," win").concat(r-l!=1?"s":"",", ").concat(s," loss").concat(1!==s?"es":"",", ").concat(n," push").concat(1!==n?"es":""):r>0&&0===s&&0===n?"Split hands win!":s>0&&0===r&&0===n?"Split hands lose":"Split: ".concat(r," win").concat(1!==r?"s":"",", ").concat(s," loss").concat(1!==s?"es":"",", ").concat(n," push").concat(1!==n?"es":""),r>s?c(e=>e+1):s>r&&c(0),M.isDemo?L(e=>({...e,playerBalance:Math.floor(e.playerBalance+a),message:i})):(u(e=>Math.floor(e+a)),L(e=>({...e,message:i}))),e4(r>s?"win":s>r?"lose":"push")},eQ=(e,t,a,r,s)=>{let n;console.log("determineWinner",e,t);let l=21===e&&2===r.length,i=21===t&&2===s.length;if(l&&!i){eZ("win",a,e,t,r,s);return}eZ(e>21?"lose":t>21?"win":e>t?"win":t>e?"lose":"push",a,e,t,r,s)},eZ=async(t,a,r,s,n,l)=>{console.log("endGame",t);let i=0,o="",d=21===r&&2===n.length,m=21===s&&2===l.length;switch(t){case"win":d&&!m?(i=Math.floor(a+1.5*a),o="Blackjack! You win!"):(i=2*a,o="You win!"),c(e=>e+1);break;case"lose":i=0,o="Dealer wins",c(0);break;case"push":i=M.currentBet,o="Push!"}console.log("endGame",t,i);let u=i-M.currentBet,x={id:Date.now().toString(),timestamp:new Date,bet:M.currentBet,result:t,winnings:u,playerHand:M.playerHand.map(e=>e.rank).join(", "),dealerHand:M.dealerHand.map(e=>e.rank).join(", "),username:M.isDemo?"Demo Player":(null==z?void 0:z.toString().slice(0,8))+"..."};if(M.isDemo&&h(e=>{let t=[...e,x];return console.log("Game history updated:",t.length,"entries"),t}),M.isDemo)L(e=>({...e,playerBalance:Math.floor(e.playerBalance+i),message:o}));else{if(z)try{let e=z.toString();await eB.saveBetResult(e,{game_type:"blackjack",bet_amount:M.currentBet,result:t,win_amount:i,game_data:{player_score:r,dealer_score:s,player_hand:n.map(e=>"".concat(e.rank).concat(e.suit)),dealer_hand:l.map(e=>"".concat(e.rank).concat(e.suit)),is_blackjack:d}}),console.log("Bet result saved to API successfully"),"win"===t&&await e0("win",i),"push"===t&&await e0("push",i),"lose"===t&&await e0("lose",i),setTimeout(()=>{eM()},2e3)}catch(a){console.error("Failed to save bet result to API:",a),e({title:"Game Result Not Saved ❌",description:"Your game result could not be saved. Please try again.",variant:"destructive"}),"win"===t&&await e0("win",i),"push"===t&&await e0("push",i),"lose"===t&&await e0("lose",i)}L(e=>({...e,message:o}))}e4(t)},e0=async(t,a)=>{if(z){if(console.log("payoutTokens",t,a),a>0)try{let r=z.toString();await eB.creditBalance(r,a,"blackjack",t),console.log("Balance credited to backend:",a),("win"===t||"push"===t)&&e({title:"Winnings Credited! \uD83D\uDCB0",description:"".concat(a.toFixed(2)," $Lucky tokens added to your balance"),variant:"default"})}catch(t){console.error("Failed to credit balance to backend:",t),e({title:"Payout Failed ❌",description:"Failed to credit winnings to your account. Please contact support.",variant:"destructive"})}try{await eF()}catch(e){console.error("Failed to update balance:",e)}}},e1=async()=>{if(!z){ek("Please connect your wallet first"),e({title:"Wallet Required",description:"Please connect your wallet first",variant:"destructive"});return}let t=parseFloat(ei);if(isNaN(t)||t<=0){ek("Please enter a valid amount"),e({title:"Invalid Amount",description:"Please enter a valid amount greater than 0",variant:"destructive"});return}eg(!0),ek("");try{let a=await (0,ed.Ob)(el,z,!1,em.sy),r=new er.Transaction;await en.getAccountInfo(a)==null&&r.add(ey(z,el,a,z));let[s]=eb(),n=await (0,ed.Ob)(el,s,!0,em.sy);await en.getAccountInfo(n)==null&&r.add(ey(z,el,n,s));let l=1e9*t,i=(0,eu.C3)(a,n,z,l,[],em.sy);r.add(i),r.recentBlockhash=(await en.getLatestBlockhash()).blockhash,r.feePayer=z,await eq(r);let c=z.toString();await eB.creditBalance(c,t,"blackjack","deposit"),console.log("Deposit successful:",t),ec(""),await eF(),e({title:"Deposit Successful! \uD83C\uDF89",description:"Successfully deposited ".concat(t.toFixed(2)," $Lucky tokens"),variant:"default"})}catch(a){console.error("Deposit failed:",a);let t=a.message||"Deposit failed. Please try again.";ek(t),e({title:"Deposit Failed ❌",description:t,variant:"destructive"})}finally{eg(!1)}},e2=async()=>{if(!z){eC("Please connect your wallet first"),e({title:"Wallet Required",description:"Please connect your wallet first",variant:"destructive"});return}let t=parseFloat(eo);if(isNaN(t)||t<=0){eC("Please enter a valid amount"),e({title:"Invalid Amount",description:"Please enter a valid amount greater than 0",variant:"destructive"});return}if(t>m){eC("Insufficient balance"),e({title:"Insufficient Balance",description:"You only have ".concat(m.toFixed(2)," $Lucky tokens available"),variant:"destructive"});return}if(await new Promise(e=>{es(!1);let a=document.createElement("div");a.className="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",a.innerHTML='\n        <div class="bg-gray-800 p-6 rounded-lg shadow-xl border border-gray-700" id="dialog-content">\n          <h3 class="text-xl font-semibold text-white mb-4">Confirm Withdrawal</h3>\n          <p class="text-gray-300 mb-6">Are you sure you want to withdraw '.concat(t.toFixed(2),' $Lucky tokens?</p>\n          <div class="flex justify-end gap-4">\n            <button class="px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded" id="cancel-withdraw">Cancel</button>\n            <button class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded" id="confirm-withdraw">Confirm</button>\n          </div>\n        </div>\n      '),document.body.appendChild(a);let r=a.querySelector("#dialog-content"),s=a.querySelector("#confirm-withdraw"),n=a.querySelector("#cancel-withdraw"),l=()=>{document.body.removeChild(a),e(!1)};null==s||s.addEventListener("click",()=>{document.body.removeChild(a),e(!0)}),null==n||n.addEventListener("click",l),a.addEventListener("click",e=>{e.target===a&&e.target!==r&&l()})})){ej(!0),eC("");try{let a=ep(),r=await (0,ed.Ob)(el,z,!1,em.sy),s=await ef(el);await ew(a,t,r,s),console.log("payoutTokens",t);let n=z.toString();await eB.deductBalance(n,t,"blackjack"),console.log("Withdrawal successful:",t),ex(""),await eF(),e({title:"Withdrawal Successful! \uD83D\uDCB0",description:"Successfully withdrawn ".concat(t.toFixed(2)," $Lucky tokens"),variant:"default"})}catch(a){console.error("Withdrawal failed:",a);let t=a.message||"Withdrawal failed. Please try again.";eC(t),e({title:"Withdrawal Failed ❌",description:t,variant:"destructive"})}finally{ej(!1)}}},e4=e=>{setTimeout(()=>{L(e=>({...e,playerHand:[],dealerHand:[],currentBet:0,playerScore:0,dealerScore:0,message:"Place your bet to start",gamePhase:"betting",canDouble:!1,canSplit:!1,isSplit:!1,splitHands:[],activeSplitHand:0}))},"lose"===e?3e3:5e3)};return((0,s.useEffect)(()=>{"betting"===M.gamePhase&&0===M.currentBet&&l([])},[M.gamePhase,M.currentBet]),(0,s.useEffect)(()=>{M.isDemo||eM()},[M.isDemo]),(0,s.useEffect)(()=>{if(M.isDemo)return;eL();let e=setInterval(()=>{eL()},5e3);return()=>{clearInterval(e)}},[M.isDemo]),(0,s.useCallback)(eM,[z]),t)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"h-screen bg-black text-white overflow-hidden flex flex-col",children:[(0,r.jsx)(Y,{musicEnabled:g,soundEffectsEnabled:f,currentTrack:w}),(0,r.jsx)(O,{balance:M.isDemo?M.playerBalance:m,solBalance:m,onSwapClick:()=>es(!0),isDemo:M.isDemo,musicEnabled:g,soundEffectsEnabled:f,currentTrack:w,onToggleMusic:()=>b(!g),onToggleSoundEffects:()=>v(!f),onChangeTrack:j}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 md:h-full",children:[(0,r.jsx)(V,{gameState:M,onHit:()=>eJ(M.playerScore,M.dealerScore,M.currentBet),onStand:()=>e$(M.playerScore,M.currentBet),onDouble:eG,onSplit:eW,onNewGame:()=>{let e=Q(X()),t=et();T(t),D(et()),E(ea(t,B)),L(t=>({...t,deck:e,playerHand:[],dealerHand:[],currentBet:0,gamePhase:"betting",playerScore:0,dealerScore:0,message:"Place your bet to start",canDouble:!1,canSplit:!1,isSplit:!1,splitHands:[],activeSplitHand:0})),l([])},chipStacks:n,winStreak:i,serverSeed:S,serverSeedHash:H,clientSeed:B,showFairness:R,setShowFairness:F}),(0,r.jsx)(eS,{showFairness:R,setShowFairness:F,serverSeedHash:H,serverSeed:S,clientSeed:B}),(0,r.jsx)(G,{gameState:M,onPlaceBet:eI,onChipStackUpdate:l,lastBetAmount:o,solBalance:m})]}),(0,r.jsx)("div",{className:"md:!block !hidden w-[550px] border-l border-gray-700 bg-gray-900/20",children:(0,r.jsx)("div",{className:"h-[calc(100%-110px)] overflow-y-auto p-4",children:(0,r.jsx)(eA,{gameHistory:x,isLoading:eP,newEntriesCount:eH,onNewEntriesAcknowledged:()=>eE(0)})})})]}),(0,r.jsx)(p,{open:$,onOpenChange:es,children:(0,r.jsx)(y,{className:"bg-gradient-to-br from-gray-900 via-black to-gray-900 border border-amber-500/30 text-white max-w-md p-6",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{onClick:()=>es(!1),className:"absolute top-0 right-0 w-8 h-8 text-xl text-amber-400 hover:text-white transition-colors","aria-label":"Close",type:"button",children:"\xd7"}),(0,r.jsxs)("div",{className:"text-center mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-amber-400 mb-2",children:"Balance Management"}),(0,r.jsxs)("p",{className:"text-gray-300 text-sm",children:["Current Balance: ",("number"==typeof m?m:0).toFixed(2)," $Lucky"]})]}),(0,r.jsxs)("div",{className:"mb-6 p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-green-400 mb-3",children:"Deposit"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"deposit-amount",className:"block text-sm text-gray-300 mb-1",children:"Amount ($Lucky)"}),(0,r.jsx)("input",{id:"deposit-amount",type:"number",value:ei,onChange:e=>ec(e.target.value),placeholder:"Enter amount",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500",disabled:eh})]}),eN&&(0,r.jsx)("p",{className:"text-red-400 text-sm",children:eN}),(0,r.jsx)("button",{onClick:e1,disabled:eh||!ei,className:"w-full px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-semibold rounded-md transition-colors",children:eh?"Processing...":"Deposit"})]})]}),(0,r.jsxs)("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-red-400 mb-3",children:"Withdraw"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"withdraw-amount",className:"block text-sm text-gray-300 mb-1",children:"Amount ($Lucky)"}),(0,r.jsx)("input",{id:"withdraw-amount",type:"number",value:eo,onChange:e=>ex(e.target.value),placeholder:"Enter amount",max:m,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500",disabled:ev})]}),eT&&(0,r.jsx)("p",{className:"text-red-400 text-sm",children:eT}),(0,r.jsx)("button",{onClick:e2,disabled:ev||!eo||parseFloat(eo)>m,className:"w-full px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-semibold rounded-md transition-colors",children:ev?"Processing...":"Withdraw"})]})]}),(0,r.jsx)("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[10,50,100,250,500,1e3].map(e=>(0,r.jsx)("button",{onClick:()=>{ec(e.toString()),ex(e.toString())},className:"px-3 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-white rounded border border-gray-600 transition-colors",children:e},e))})]})})})]}),(0,r.jsx)("div",{className:"md:hidden border-t border-gray-700 bg-gray-900/20 pb-20",children:(0,r.jsx)("div",{className:"p-3",children:(0,r.jsx)(eA,{gameHistory:x,isLoading:eP,newEntriesCount:eH,onNewEntriesAcknowledged:()=>eE(0)})})}),(0,r.jsx)(eK,{})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P,{onStartDemo:()=>{a(!0),L(e=>({...e,isDemo:!0,playerBalance:1e4})),l([])},showFairness:R,setShowFairness:F}),(0,r.jsx)(eS,{showFairness:R,setShowFairness:F,serverSeedHash:H,serverSeed:S,clientSeed:B})]})}eW.displayName=eL.VY.displayName;var e$=a(57462);class eG extends s.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){if(this.state.hasError){var e;return this.props.fallback||(0,r.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-gradient-to-r from-gray-900 to-black p-8 rounded-lg border border-amber-500/30 max-w-lg w-full text-center",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)("div",{className:"w-16 h-16 bg-red-600/20 rounded-full flex items-center justify-center",children:(0,r.jsx)(e$.A,{className:"w-10 h-10 text-red-500"})})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-amber-400 mb-4",children:"Something went wrong"}),(0,r.jsx)("p",{className:"text-gray-300 mb-6",children:"We apologize for the inconvenience. Please try refreshing the page."}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(m,{onClick:()=>window.location.reload(),className:"bg-amber-500 hover:bg-amber-600 text-black font-bold",children:"Refresh Page"})}),(0,r.jsxs)("p",{className:"text-gray-500 text-sm mt-6",children:["Error: ",(null===(e=this.state.error)||void 0===e?void 0:e.message)||"Unknown error"]})]})})}return this.props.children}constructor(...e){super(...e),this.state={hasError:!1,error:null}}}var eY=a(40616),eX=a(98465),eQ=a(2689),eZ=a(63480),e0=a(11031),e1=a(23823);a(87312);let e2=e=>{let{children:t}=e,a=(0,s.useMemo)(()=>[new eQ.c,new eZ.d,new e0.G],[]);return(0,r.jsx)(eY.S,{endpoint:"https://solana-mainnet.g.alchemy.com/v2/d5GoKkYq7RruKvcPBgarkko-5sHUsU0W",config:{commitment:"confirmed"},children:(0,r.jsx)(eX.r,{wallets:a,autoConnect:!0,children:(0,r.jsx)(e1.I,{children:t})})})};var e4=a(85534);function e5(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e4.default,{src:"https://terminal.jup.ag/main-v4.js",strategy:"beforeInteractive","data-preload":!0,defer:!0}),(0,r.jsx)(e2,{children:(0,r.jsx)(eG,{children:(0,r.jsx)("div",{className:"bg-black",children:(0,r.jsx)(eJ,{})})})})]})}},63514:()=>{},85175:(e,t,a)=>{Promise.resolve().then(a.bind(a,36098))}},e=>{var t=t=>e(e.s=t);e.O(0,[979,346,811,788,629,224,16,358],()=>t(85175)),_N_E=e.O()}]);