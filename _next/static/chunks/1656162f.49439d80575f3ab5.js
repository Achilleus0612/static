"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[162],{50587:(e,t,l)=>{var n,i=Object.create,r=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=Math.pow,h=(e,t,l)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,f=(e,t)=>{for(var l in t||(t={}))x.call(t,l)&&h(e,l,t[l]);if(d)for(var l of d(t))m.call(t,l)&&h(e,l,t[l]);return e},g=(e,t)=>s(e,o(t)),w=(e,t)=>{var l={};for(var n in e)x.call(e,n)&&0>t.indexOf(n)&&(l[n]=e[n]);if(null!=e&&d)for(var n of d(e))0>t.indexOf(n)&&m.call(e,n)&&(l[n]=e[n]);return l},v=(e,t,l,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of u(t))x.call(e,i)||i===l||r(e,i,{get:()=>t[i],enumerable:!(n=a(t,i))||n.enumerable});return e},j=(e,t,l)=>(l=null!=e?i(c(e)):{},v(!t&&e&&e.__esModule?l:r(l,"default",{value:e,enumerable:!0}),e)),y=(e,t,l)=>new Promise((n,i)=>{var r=e=>{try{a(l.next(e))}catch(e){i(e)}},s=e=>{try{a(l.throw(e))}catch(e){i(e)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(r,s);a((l=l.apply(e,t)).next())}),b=((e,t)=>function(){return t||(0,e[u(e)[0]])((t={exports:{}}).exports,t),t.exports})({"package.json"(e,t){t.exports={name:"@jup-ag/terminal",version:"4.5.5",private:!1,license:"MIT",scripts:{dev:"next dev",build:"next build",tsup:"tsup && npx tailwindcss --yes -i ./src/styles/globals.css -o ./dist/global.css",start:"next start",lint:"next lint","format:fix":"prettier --write src","build-widget":"NODE_ENV=production MODE=widget webpack",analyse:"NODE_ENV=production MODE=widget ANALYSE=true webpack"},files:["dist"],exports:{".":"./dist/index.js","./tailwind":"./dist/tailwind.config.js","./css":"./dist/global.css"},typesVersions:{"*":{index:["dist/index.d.ts"]}},peerDependencies:{"@solana/spl-token":"^0.1.8","@solana/web3.js":"^1.87.6",react:"^18","react-dom":"^18"},dependencies:{"@jup-ag/wallet-adapter":"0.2.3","@popperjs/core":"^2.11.8","@solana/wallet-adapter-wallets":"0.19.33","@tanstack/react-query":"^4.36.1","bn.js":"5.2.1",clsx:"^2.1.1","decimal.js":"10.4.3",jotai:"^2.8.3",jsbi:"4.3.0","lodash.debounce":"^4.0.8",next:"13.4.19","next-seo":"5.15.0","react-colorful":"^5.6.1","react-hook-form":"7.42.1","react-number-format":"5.1.3","react-popper":"^2.3.0","react-syntax-highlighter":"^15.5.0","react-use":"^17.5.0","react-virtualized-auto-sizer":"1.0.7","react-window":"1.8.8",superstruct:"1.0.3","tailwind-merge":"^2.5.2","tailwindcss-animate":"^1.0.7"},devDependencies:{"@svgr/webpack":"^6.5.1","@types/bn.js":"^5.1.5","@types/bs58":"^4.0.4","@types/lodash.debounce":"^4.0.9","@types/node":"18.11.5","@types/react":"18.0.23","@types/react-dom":"18.0.7","@types/react-syntax-highlighter":"^15.5.13","@types/react-virtualized-auto-sizer":"~1.0.4","@types/react-window":"~1.8.8",autoprefixer:"10.4.13","css-loader":"^6.11.0","css-minimizer-webpack-plugin":"^4.2.2",cssnano:"^5.1.15","esbuild-plugins-node-modules-polyfill":"^1.6.6",eslint:"8.26.0","eslint-config-next":"13.0.0","eslint-config-prettier":"^8.10.0","mini-css-extract-plugin":"^2.9.0","next-transpile-modules":"10.0.0","node-polyfill-webpack-plugin":"^2.0.1",postcss:"^8.4.38","postcss-loader":"^7.3.4","postcss-preset-env":"^7.8.3",prettier:"^3.3.2","react-twitter-embed":"^4.0.4",sass:"^1.77.6","sass-loader":"^13.3.3","style-loader":"^3.3.4",stylus:"^0.59.0","svg-inline-loader":"^0.8.2",tailwindcss:"3.3.3","ts-loader":"^9.5.1",tsup:"8.2.4",typescript:"5.2.2",webpack:"^5.92.1","webpack-bundle-analyzer":"^4.10.2","webpack-cli":"^4.10.0"},pnpm:{overrides:{"@solana/web3.js":"1.87.6","@solana/buffer-layout":"4.0.0"}}}}}),C={};((e,t)=>{for(var l in t)r(e,l,{get:t[l],enumerable:!0})})(C,{appProps:()=>X,close:()=>el,init:()=>nq,resume:()=>et,syncProps:()=>en}),e.exports=v(r({},"__esModule",{value:!0}),C);var N=l(18033),S=l(15188),k=l(23591),M=l(90639),E=({width:e=24,height:t=24})=>(0,M.jsx)("img",{src:"https://jup.ag/svg/jupiter-logo.svg",width:e,height:t,alt:"Jupiter aggregator"}),L=l(90639),R=({width:e=10,height:t=6})=>(0,L.jsx)("svg",{width:e,height:t,viewBox:"0 0 10 6",fill:"inherit",xmlns:"http://www.w3.org/2000/svg",children:(0,L.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292893 0.292893C0.683416 -0.097631 1.31658 -0.097631 1.7071 0.292893L4.99999 3.58579L8.29288 0.292893C8.6834 -0.0976311 9.31657 -0.0976311 9.70709 0.292893C10.0976 0.683417 10.0976 1.31658 9.70709 1.70711L5.7071 5.70711C5.31657 6.09763 4.68341 6.09763 4.29289 5.70711L0.292893 1.70711C-0.0976309 1.31658 -0.0976309 0.683417 0.292893 0.292893Z",fill:"currentColor"})}),V=(0,l(15188).atom)(!1),A=()=>{var e;let t=null==(e=window.Jupiter)?void 0:e.store;return t?t.get(V):(console.warn("Jupiter store is not available."),!1)},_=e=>{var t;let l=null==(t=window.Jupiter)?void 0:t.store;if(!l){console.warn("Jupiter store is not available.");return}l.set(V,e)},P=l(84643),T=l(78796);function F(...e){return(0,T.twMerge)((0,P.clsx)(e))}var I=l(23591),$=l(37382),O=l(90639),B=({children:e,stylesheetUrls:t})=>{let l=(0,I.useRef)(null),[n,i]=(0,I.useState)(null),[r,s]=(0,I.useState)(!1);(0,I.useEffect)(()=>{if(l.current&&!n){let e=l.current.attachShadow({mode:"open"});y(void 0,null,function*(){try{let l=t.map(e=>fetch(e).then(t=>{if(!t.ok)throw Error(`Failed to fetch stylesheet: ${e}`);return t.text()}));(yield Promise.all(l)).forEach(t=>{let l=document.createElement("style");l.textContent=t,e.appendChild(l)}),s(!0)}catch(e){console.error("Error fetching and applying styles:",e)}});let n=document.createElement("div");n.id="portal-container",n.style.width="100%",n.style.height="100%",e.appendChild(n),i(e)}},[l,n,t]);let a=null==n?void 0:n.getElementById("portal-container");return(0,O.jsx)("div",{ref:l,children:a&&r?(0,$.createPortal)(e,a):null})},W=l(90639),q="jupiter-terminal-instance",D=b(),J=`main-${D.version}`,U=(()=>{var e;if("undefined"==typeof window||"undefined"==typeof document)return"";let t=null==(e=document.currentScript)?void 0:e.src;return t?new URL(t).origin:""})()||"https://terminal.jup.ag";function z(){return y(this,null,function*(){try{yield function(e,t,l){return y(this,null,function*(){return new Promise((n,i)=>{if(document.getElementById(e))n({});else{let r="text/javascript"===l?document.createElement("script"):document.createElement("link");r.id=e,r.onload=n,r.onerror=i,r instanceof HTMLScriptElement?(r.type="text/javascript",r.src=t):r instanceof HTMLLinkElement&&(r.rel="stylesheet",r.href=t),document.head.append(r)}})})}("jupiter-load-script-app",`${U}/${J}-app.js`,"text/javascript")}catch(e){throw console.error(`Error loading Jupiter Terminal: ${e}`),Error(`Error loading Jupiter Terminal: ${e}`)}})}var H={zIndex:50},Z=e=>{let[t,l]=(0,k.useState)(!1);(0,k.useEffect)(()=>{let e;return z(),t||(e=setInterval(()=>{var e;(null==(e=window.JupiterRenderer)?void 0:e.RenderJupiter)&&l(!0)},50)),()=>{clearInterval(e)}},[t]);let n=(0,k.useMemo)(()=>t?window.JupiterRenderer.RenderJupiter:K,[t]);return(0,W.jsx)(n,f({},e))},K=()=>(0,W.jsx)(W.Fragment,{}),G=e=>{let t=e.displayMode,l=e.containerStyles,n=e.containerClassName;(0,k.useEffect)(()=>_(!0),[]);let i=(0,k.useMemo)(()=>t&&"modal"!==t?"integrated"===t||"widget"===t?"flex items-center justify-center w-full h-full  z-10":void 0:"fixed top-0 w-screen h-screen flex items-center justify-center bg-black/50  z-10",[t]),r=(0,k.useMemo)(()=>t&&"modal"!==t&&"integrated"!==t?"widget"===t?"flex flex-col  h-[550px] w-full overflow-auto text-black relative webkit-scrollbar":void 0:`flex flex-col h-[550px] w-screen max-w-[360px] overflow-auto text-black relative bg-black rounded-lg webkit-scrollbar ${n||""}`,[n,t]);return(0,W.jsxs)("div",{className:i,children:[(0,W.jsx)("div",{style:f(f({},H),l),className:r,children:(0,W.jsx)(Z,f({},e))}),t&&"modal"!==t?null:(0,W.jsx)("div",{onClick:()=>{window.Jupiter&&(_(!1),window.Jupiter.close())},className:"absolute w-screen h-screen top-0 left-0 backdrop-blur-sm"})]})},Q=e=>{var t,l,n,i,r;let[s,a]=(0,k.useState)(!1),o=(0,k.useMemo)(()=>{var t,l,n,i,r,s,a,o,u,d,c,x;let m;let p=(null==(t=e.widgetStyle)?void 0:t.size)||"default",h=null!=(i=null==(n=null==(l=e.widgetStyle)?void 0:l.offset)?void 0:n.x)?i:0,w=null!=(a=null==(s=null==(r=e.widgetStyle)?void 0:r.offset)?void 0:s.y)?a:0;return(null==(o=e.widgetStyle)?void 0:o.position)&&(null==(u=e.widgetStyle)?void 0:u.position)!=="bottom-right"||(m={containerClassName:"bottom-6 right-6",contentClassName:"default"===p?"bottom-[60px] -right-3":"bottom-[44px] -right-4",style:{transform:`translate(-${h}px, -${w}px)`}}),(null==(d=e.widgetStyle)?void 0:d.position)==="bottom-left"&&(m={containerClassName:"bottom-6 left-6",contentClassName:"default"===p?"bottom-[60px] -left-3":"bottom-[44px] -left-4",style:{transform:`translate(${h}px, -${w}px)`}}),(null==(c=e.widgetStyle)?void 0:c.position)==="top-left"&&(m={containerClassName:"top-6 left-6",contentClassName:"default"===p?"top-[60px] -left-3":"top-[44px] -left-4",style:{transform:`translate(${h}px, ${w}px)`}}),(null==(x=e.widgetStyle)?void 0:x.position)==="top-right"&&(m={containerClassName:"top-6 right-6",contentClassName:"default"===p?"top-[60px] -right-3":"top-[44px] -right-4",style:{transform:`translate(-${h}px, ${w}px)`}}),g(f({},m),{widgetContainerClassName:"default"===p?"h-14 w-14":"h-10 w-10",widgetLogoSize:"default"===p?42:32})},[null==(t=e.widgetStyle)?void 0:t.position,null==(l=e.widgetStyle)?void 0:l.size,null==(n=e.widgetStyle)?void 0:n.offset]);return(0,W.jsxs)("div",{className:`fixed ${o.containerClassName}`,style:o.style,children:[(0,W.jsx)("div",{className:`${o.widgetContainerClassName} rounded-full bg-black flex items-center justify-center cursor-pointer`,onClick:()=>{s?(a(!1),_(!1)):(a(!0),_(!0))},children:s?(0,W.jsx)("div",{className:F("text-white fill-current pt-1",{"rotate-180":(null==(i=e.widgetStyle)?void 0:i.position)==="top-left"||(null==(r=e.widgetStyle)?void 0:r.position)==="top-right"}),children:(0,W.jsx)(R,{width:.4*o.widgetLogoSize,height:.4*o.widgetLogoSize})}):(0,W.jsx)(E,{width:o.widgetLogoSize,height:o.widgetLogoSize})}),(0,W.jsx)("div",{id:"integrated-terminal",className:`absolute overflow-hidden ${o.contentClassName} flex flex-col w-[90vw] h-[600px] max-w-[384px] max-h-[75vh] rounded-2xl bg-black transition-opacity duration-300 shadow-2xl ${s?"opacity-100":"!h-0 !w-0 opacity-0"}`,children:(0,W.jsx)(Z,f({},e))})]})},Y=(0,S.createStore)(),X=(0,S.atom)(void 0),ee="undefined"!=typeof document?null==(n=document.currentScript)?void 0:n.attributes:void 0;"undefined"!=typeof window&&"undefined"!=typeof document&&ee&&(document.onreadystatechange=function(){let e="complete"===document.readyState,t=!!ee.getNamedItem("data-preload");e&&t&&setTimeout(()=>{z().catch(e=>{throw console.error(`Error pre-loading Jupiter Terminal: ${e}`),Error(`Error pre-loading Jupiter Terminal: ${e}`)})},2e3)});var et=()=>{let e=document.getElementById(q);if(e){e.style.display="block";return}},el=()=>{let e=document.getElementById(q);e&&(e.style.display="none")},en=e=>{let t=Y.get(X),l=g(f({},t),{passthroughWalletContextState:e.passthroughWalletContextState||(null==t?void 0:t.passthroughWalletContextState)});Y.set(X,l)},ei=l(15188),er=l(23591),es=l(90639),ea=(0,er.createContext)({screen:"Initial",setScreen(){}});function eo(){return(0,er.useContext)(ea)}var eu=({children:e})=>{let[t,l]=(0,er.useState)("Initial");return(0,es.jsx)(ea.Provider,{value:{screen:t,setScreen:l},children:e})},ed=j(l(93745)),ec=j(l(43113)),ex=l(23591),em=l(9633);new em.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),new em.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),new em.PublicKey("27G8MtK7VtTcCHkpASjSDdkWWYfoqT6ggEuKidVJidD4");var ep=new em.PublicKey("So11111111111111111111111111111111111111112");Object.freeze({simulateWalletPassthrough:!1,defaultExplorer:"Solana Explorer",formProps:{fixedAmount:!1,initialAmount:"",initialInputMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",initialOutputMint:ep.toString()},colors:{primary:"199, 242, 132",background:"0, 0, 0",primaryText:"232, 249, 255",warning:"251, 191, 36",interactive:"33, 42, 54",module:"16, 23, 31"}}),l(9633);var eh=j(l(93745)),ef=l(23591),eg=e=>{var t,l,n;return!!((null==(t=e.tags)?void 0:t.includes("verified"))||(null==(l=e.tags)?void 0:l.includes("strict"))||(null==(n=e.tags)?void 0:n.includes("community")))},ew=e=>!1===eg(e),ev=e=>{var t;return null==(t=e.tags)?void 0:t.includes("token-2022")},ej="undefined"!=typeof window?navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language:"en-US";new Intl.NumberFormat(ej,{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:9});var ey=e=>{let t=e.split(".");return t.length>1?t[1].length:0},eb={format:(e,t)=>{if(!e)return"";let l=ey(e.toString());return new Intl.NumberFormat(ej,{maximumFractionDigits:null!=t?t:l}).format(e.toString())}};function eC(e,t=4){return`${e.slice(0,t)}...${e.slice(-t)}`}function eN(e,t){return new eh.default(e.toString()).div(p(10,t)).toDP(t,eh.default.ROUND_DOWN).toFixed()}function eS(e,t){return new eh.default(e.toString()).div(p(10,t)).toDP(t,eh.default.ROUND_DOWN).toNumber()}var ek=eb.format("1.1").substring(1,2);function eM(e,t){(0,ef.useEffect)(()=>{let l=l=>{!(!e.current||e.current.contains(l.target))&&t(l)};return document.addEventListener("mouseup",l),()=>{document.removeEventListener("mouseup",l)}},[e,t])}var eE=e=>!!e&&!Number.isNaN(Number(e)),eL=(e,t)=>{let l=new Map,n=new Map;return Object.entries(t).filter(([e,t])=>t.uiAmount>0).forEach(([t,i])=>{let r=e.find(e=>e.id===t);if(!r)return;let s=i.uiAmount;l.set(t,s);let a=r.usdPrice||0;if(a){let e=new eh.default(s).mul(a);e.greaterThan(0)&&n.set(t,e)}}),(()=>{let t=new Map;return e.forEach(e=>{t.has(e.id)||t.set(e.id,e)}),Array.from(t.values())})().sort((e,t)=>{var i,r,s,a;let o=n.get(e.id),u=n.get(t.id);if(o&&u){let e=u.cmp(o);if(0!==e)return e}else if(o&&!u)return -1;else if(!o&&u)return 1;let d=l.get(e.id),c=l.get(t.id);if(d&&c){let e=new eh.default(c).cmp(d);if(0!==e)return e}else if(d&&!c)return -1;else if(!d&&c)return 1;let x=l.has(e.id),m=l.has(t.id);if(x&&!m)return -1;if(!x&&m)return 1;let p=0,h=0,f=((null==(i=e.stats24h)?void 0:i.buyVolume)||0)+((null==(r=e.stats24h)?void 0:r.sellVolume)||0),g=((null==(s=t.stats24h)?void 0:s.buyVolume)||0)+((null==(a=t.stats24h)?void 0:a.sellVolume)||0);return f>g&&(p+=1),g>f&&(h+=1),ew(e)&&(p-=2),ew(t)&&(h-=2),h-p})},eR=l(14651),eV=l(15188),eA=l(23591),e_=l(90639),eP={publicKey:null,wallets:[],wallet:null,connect:()=>y(void 0,null,function*(){}),select:()=>{},connecting:!1,connected:!1,disconnect:()=>y(void 0,null,function*(){}),autoConnect:!1,disconnecting:!1,sendTransaction:(e,t,l)=>y(void 0,null,function*(){return""}),signTransaction:void 0,signAllTransactions:void 0,signMessage:void 0,signIn:void 0},eT=(0,eA.createContext)(eP);function eF(){return(0,eA.useContext)(eT)}var eI=({children:e})=>{let t=(0,eR.useWallet)();return(0,e_.jsx)(eT.Provider,{value:t,children:e})},e$=({children:e})=>{var t;let[l]=(0,eV.useAtom)(X),n=null==(t=null==l?void 0:l.passthroughWalletContextState)?void 0:t.wallet,i=(0,eA.useMemo)(()=>g(f(f({},eP),null==l?void 0:l.passthroughWalletContextState),{disconnect:()=>y(void 0,null,function*(){var e,t;try{if(null==(e=null==n?void 0:n.adapter)?void 0:e.disconnect)return null==(t=null==n?void 0:n.adapter)?void 0:t.disconnect()}catch(e){console.log(e)}})}),[null==l?void 0:l.passthroughWalletContextState,null==n?void 0:n.adapter]);return window.Jupiter.enableWalletPassthrough?i?(0,e_.jsx)(eT.Provider,{value:i,children:e}):(0,e_.jsx)(e_.Fragment,{children:e}):(0,e_.jsx)(eI,{children:e})},eO=l(64981),eB=new class{constructor(){this.BASE_URL="https://ultra-api.jup.ag",this.ROUTE={SWAP:`${this.BASE_URL}/execute`,ORDER:`${this.BASE_URL}/order`,ROUTERS:`${this.BASE_URL}/order/routers`,BALANCES:`${this.BASE_URL}/balances`,SHIELD:`${this.BASE_URL}/shield`}}getQuote(e,t){return y(this,null,function*(){let l=new URLSearchParams(Object.entries(e).filter(([e,t])=>void 0!==t).reduce((e,[t,l])=>g(f({},e),{[t]:l.toString()}),{})),n=yield fetch(`${this.ROUTE.ORDER}?${l.toString()}`,{signal:t});if(!n.ok)throw n;return yield n.json()})}submitSwap(e,t){return y(this,null,function*(){let l=yield fetch(this.ROUTE.SWAP,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({signedTransaction:e,requestId:t})});if(!l.ok)throw l;return yield l.json()})}getRouters(){return y(this,null,function*(){let e=yield fetch(this.ROUTE.ROUTERS);if(!e.ok)throw e;return yield e.json()})}getBalance(e,t){return y(this,null,function*(){let l=yield fetch(`${this.ROUTE.BALANCES}/${e}`,{signal:t});if(!l.ok)throw l;return yield l.json()})}getShield(e){return y(this,null,function*(){let t=yield fetch(`${this.ROUTE.SHIELD}?mints=${e.join(",")}`);if(!t.ok)throw t;return yield t.json()})}},eW=l(9633),eq=j(l(43113)),eD=l(73720),eJ=(0,eD.coerce)((0,eD.instance)(eW.PublicKey),(0,eD.string)(),e=>new eW.PublicKey(e)),eU=(0,eD.coerce)((0,eD.instance)(eq.default),(0,eD.string)(),e=>eq.default.BigInt(e)),ez=(0,eD.coerce)((0,eD.string)(),(0,eD.number)(),e=>Number(e)),eH=(0,eD.type)({ammKey:eJ,label:(0,eD.string)(),inputMint:(0,eD.string)(),outputMint:(0,eD.string)(),inAmount:eU,outAmount:eU,feeAmount:eU,feeMint:eJ}),eZ=(0,eD.type)({swapInfo:eH,percent:(0,eD.number)()}),eK=(0,eD.array)(eZ),eG=(0,eD.type)({inputMint:eJ,inAmount:eU,outputMint:eJ,outAmount:eU,otherAmountThreshold:eU,priceImpactPct:ez,routePlan:eK,slippageBps:(0,eD.number)(),contextSlot:(0,eD.defaulted)((0,eD.number)(),0),computedAutoSlippage:(0,eD.optional)((0,eD.number)()),transaction:(0,eD.nullable)((0,eD.string)()),swapType:(0,eD.string)(),gasless:(0,eD.boolean)(),requestId:(0,eD.string)(),prioritizationFeeLamports:(0,eD.optional)((0,eD.number)()),feeBps:(0,eD.number)(),router:(0,eD.string)()}),eQ=l(73720),eY=(e,t=!0)=>{let{amount:l}=e;return(0,eO.useQuery)({queryKey:["quote",e],queryFn:t=>y(void 0,[t],function*({signal:t}){if(0===Number(l))return null;try{let l=yield eB.getQuote(e,t);return{quoteResponse:(0,eQ.create)(l,eG,"conver FormattedUltraQuoteResponse Error"),original:l}}catch(e){if(e instanceof Response)throw(yield e.json()).error;throw e}}),refetchInterval:!!t&&5e3,retry:0,enabled:Number(l)>0,keepPreviousData:Number(l)>0,onError:e=>{console.error("useQuoteQuery",e)}})},eX=l(14651),e0=l(64981),e1=l(4455),e2=l(9633),e5=class extends Error{constructor(e,t,l,n,i){super(e),this.name="TransactionError",this.txid=t,this.code=l,this.programIds=n,this.serializedTx=i}},e3=class extends Error{constructor(e,t,l){super(e),this.type=t,this.txid=l}},e9=l(64981),e6=l(23591),e7=ep.toString(),e4=()=>{let{publicKey:e}=eF(),t=(0,e6.useMemo)(()=>e?e.toString():"",[e]);return(0,e9.useQuery)({queryKey:["ultra","balances",t],queryFn:e=>y(void 0,[e],function*({signal:e}){return yield eB.getBalance(t,e)}),enabled:!!t&&A(),cacheTime:2e4,staleTime:2e4,refetchOnWindowFocus:!1,refetchIntervalInBackground:!1,refetchOnMount:!1,select:e=>(function(e){let t=structuredClone(e);return t[e7]&&(t.wSOL=f({},t[e7])),t.SOL&&(t[e7]=f({},t.SOL)),t})(e)})},e8=l(64981),te=new class{constructor(){this.ROUTE={SEARCH:"https://datapi.jup.ag/v1/assets"}}search(e){return y(this,null,function*(){let t=yield fetch(`${this.ROUTE.SEARCH}/search?query=${e}`,{credentials:"include"});return yield t.json()})}},tt=["search","assets"],tl=e=>(0,e8.useQuery)({queryKey:[...tt,e],queryFn:()=>te.search(e),enabled:!!e,staleTime:1/0,select:e=>e[0]}),tn=l(90639),ti=(0,ex.createContext)(null);function tr(){let e=(0,ex.useContext)(ti);if(!e)throw Error("Missing SwapContextProvider");return e}var ts={fromMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",toMint:ep.toString(),fromValue:"",toValue:""},ta=e=>{var t,l;let{displayMode:n,scriptDomain:i,formProps:r,children:s,enableWalletPassthrough:a}=e,{screen:o}=eo(),{wallet:u}=eF(),{refetch:d}=e4(),c=(0,ex.useRef)(!1),x=(0,ex.useMemo)(()=>{var e;return null==(e=null==u?void 0:u.adapter.publicKey)?void 0:e.toString()},[null==u?void 0:u.adapter.publicKey]),m=(0,ex.useMemo)(()=>f(f({},ts),r),[r]),[h,w]=(0,ex.useState)({fromMint:null!=(t=null==m?void 0:m.initialInputMint)?t:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",toMint:null!=(l=null==m?void 0:m.initialOutputMint)?l:ep.toString(),fromValue:"",toValue:""}),{data:v}=tl(h.fromMint),{data:j}=tl(h.toMint);(0,ex.useEffect)(()=>{m.fixedMint&&m.fixedMint!==m.initialInputMint&&m.fixedMint!==m.initialOutputMint&&console.error("fixedMint is not the same as the initial input or output mint")},[m.fixedMint,m.initialInputMint,m.initialOutputMint]);let[b,C]=(0,ex.useState)({}),N=(0,ex.useCallback)(()=>{if(!(null==m?void 0:m.initialAmount)||!v||!j)return;let e=()=>{if(m.initialAmount&&v)return new ed.default(m.initialAmount).div(Math.pow(10,v.decimals)).toFixed()};setTimeout(()=>{w(t=>{var l;return g(f({},t),{fromValue:null!=(l=e())?l:""})})},0)},[m.initialAmount,v,j]);(0,ex.useEffect)(()=>{N()},[m.initialAmount,N]);let S=function(e,t){let[l,n]=(0,ef.useState)(e);return(0,ef.useEffect)(()=>{let t=setTimeout(()=>{n(e)},250);return()=>{clearTimeout(t)}},[e,250]),l}(h,250),k=(0,ex.useMemo)(()=>v&&j?!0===c.current?S.toValue&&eE(S.toValue)?ec.default.BigInt(new ed.default(S.toValue).mul(Math.pow(10,j.decimals)).floor().toFixed()):ec.default.BigInt(0):S.fromValue&&eE(S.fromValue)?ec.default.BigInt(new ed.default(S.fromValue).mul(Math.pow(10,v.decimals)).floor().toFixed()):ec.default.BigInt(0):ec.default.BigInt(0),[S.fromValue,S.toValue,v,j]),[M,E]=(0,ex.useState)(void 0),{data:L,isFetching:R,error:V,refetch:A,errorUpdatedAt:_,dataUpdatedAt:P,isSuccess:T,isError:F}=eY({inputMint:S.fromMint,outputMint:S.toMint,amount:k.toString(),taker:x,swapMode:c.current?"ExactOut":"ExactIn",referralAccount:m.referralAccount,referralFee:m.referralFee},!M);(0,ex.useEffect)(()=>{if(V){if("string"==typeof V){C({fromValue:{title:V,message:""}});return}C({fromValue:{title:"Error fetching route. Try changing your input",message:""}});return}C({})},[V]);let I=(0,ex.useMemo)(()=>R?new Date().getTime():F?new Date(_).getTime():T?new Date(P).getTime():void 0,[R,_,P,F,T]),[$,O]=(0,ex.useState)(null);(0,ex.useEffect)(()=>{if(!L){O(null);return}O(L)},[L]),(0,ex.useEffect)(()=>{if(!h.fromValue&&!h.toValue&&!$){w(e=>g(f({},e),{fromValue:"",toValue:""}));return}w(e=>{let t=f({},e);if(!v||!j)return e;let{outAmount:l,inAmount:n}=(null==$?void 0:$.quoteResponse)||{};return c.current?t.fromValue=n?new ed.default(n.toString()).div(p(10,v.decimals)).toFixed():"":t.toValue=l?new ed.default(l.toString()).div(p(10,j.decimals)).toFixed():"",t})},[h.fromValue,h.toValue,v,$,j]);let[B,W]=(0,ex.useState)(null),{mutateAsync:q}=function(){let{wallet:e,signTransaction:t}=eF();return(0,e0.useMutation)({mutationFn:l=>y(this,[l],function*({setTxStatus:l,setLastSwapResult:n,fromTokenInfo:i,toTokenInfo:r,quoteResponseMeta:s}){let a=null==e?void 0:e.adapter.publicKey;if(!t||!a)throw new e3("Wallet not connected, or missing wallet functions","WALLET_SIGNING_FAILED");l({txid:"",status:"pending-approval"});let{transaction:o,requestId:u}=s.original;if(!o)throw Error("Missing transaction");let d=e1.Buffer.from(o,"base64"),c=e2.VersionedTransaction.deserialize(new Uint8Array(d)),x=yield t(c),m=e1.Buffer.from(x.serialize()).toString("base64");l({txid:"",status:"sending"});let p=yield eB.submitSwap(m,u),{signature:h,status:f}=p;if("Failed"===f)throw new e3(p.error,"FAILED",h);let{inputAmountResult:g,outputAmountResult:w}=p;return l({txid:h,status:"success"}),n({swapResult:{txid:h,inputAddress:new e2.PublicKey(i.id),outputAddress:new e2.PublicKey(r.id),inputAmount:Number(g),outputAmount:Number(w)},quoteReponse:s}),h}),onError:(e,t)=>y(this,null,function*(){let{setTxStatus:l,setLastSwapResult:n,quoteResponseMeta:i}=t;if(e instanceof eX.WalletSignTransactionError){n({swapResult:{error:new e5(e.message||e.error||"Transaction cancelled")},quoteReponse:i});return}if(e instanceof Error){n({swapResult:{error:new e5(e.message)},quoteReponse:i});return}if("json"in e){let t=yield e.json();n({swapResult:{error:new e5(t.error||"Unknown error")},quoteReponse:i}),l({txid:t.txid||"",status:"fail"})}})})}(),D=(0,ex.useCallback)(()=>y(void 0,null,function*(){if(!x||!(null==u?void 0:u.adapter)||!$)return null;E({txid:"",status:"loading"});try{if(!v)throw Error("Missing fromTokenInfo");if(!j)throw Error("Missing toTokenInfo");yield q({quoteResponseMeta:$,fromTokenInfo:v,toTokenInfo:j,setTxStatus:E,setLastSwapResult:W})}catch(e){console.log("Swap error",e)}}),[x,null==u?void 0:u.adapter,$,q,v,j]),J=(0,ex.useCallback)(({resetValues:e}={resetValues:!1})=>{e?(w(ts),N()):w(e=>g(f({},e),{toValue:""})),O(null),C({}),W(null),E(void 0),d()},[d,N]);return(0,ex.useEffect)(()=>{"function"==typeof window.Jupiter.onFormUpdate&&window.Jupiter.onFormUpdate(h)},[h]),(0,ex.useEffect)(()=>{"function"==typeof window.Jupiter.onScreenUpdate&&window.Jupiter.onScreenUpdate(o)},[o]),(0,tn.jsx)(ti.Provider,{value:{form:h,setForm:w,errors:b,setErrors:C,fromTokenInfo:v,toTokenInfo:j,quoteResponseMeta:$,setQuoteResponseMeta:O,onSubmit:D,lastSwapResult:B,reset:J,refresh:A,loading:R,quoteError:V,lastRefreshTimestamp:I,isToPairFocused:c,displayMode:n,formProps:m,scriptDomain:i,swapping:{txStatus:M},enableWalletPassthrough:a},children:s})},to=l(23591),tu=l(90639),td=({width:e="12",height:t="12"})=>(0,tu.jsxs)("svg",{width:e,height:t,viewBox:"0 0 12 12",fill:"inherit",xmlns:"http://www.w3.org/2000/svg",children:[(0,tu.jsx)("g",{clipPath:"url(#clip0_841_4053)",children:(0,tu.jsx)("path",{d:"M11.6466 4.23513V0.706082L10.4111 1.94156C9.3173 0.741165 7.72912 0 6 0C2.6827 0 0 2.6827 0 6C0 9.3173 2.68203 12 6 12C7.69405 12 9.21142 11.2939 10.3059 10.165L9.31797 9.14128C8.50601 10.0234 7.30561 10.5879 6 10.5879C3.45892 10.5879 1.41216 8.5411 1.41216 6.00002C1.41216 3.45894 3.45892 1.41218 6 1.41218C7.34135 1.41218 8.57615 2.01238 9.42317 2.92954L8.11757 4.23515L11.6466 4.23513Z",fill:"inherit"})}),(0,tu.jsx)("defs",{children:(0,tu.jsx)("clipPath",{id:"clip0_841_4053",children:(0,tu.jsx)("rect",{width:e,height:t,fill:"white"})})})]}),tc=l(23591),tx=l(90639),tm=()=>{let{connecting:e}=eF(),{setScreen:t}=eo(),l=(0,tc.useCallback)(e=>{window.Jupiter.enableWalletPassthrough&&window.Jupiter.onRequestConnectWallet?window.Jupiter.onRequestConnectWallet():t("Wallet")},[t]);return(0,tx.jsx)("button",{type:"button",className:"py-2 px-3 h-7 flex items-center rounded-2xl text-xs bg-interactive text-primary-text",onClick:l,children:e?(0,tx.jsx)("span",{children:(0,tx.jsx)("span",{children:"Connecting..."})}):(0,tx.jsx)("span",{children:(0,tx.jsx)("span",{children:"Connect Wallet"})})})},tp=l(23591),th=l(90639),tf=()=>{var e;let{publicKey:t,wallet:l}=eF();return l&&t?(0,th.jsxs)("div",{className:"flex items-center bg-interactive py-2 px-3 rounded-2xl h-7",children:[(0,th.jsx)("div",{className:"w-4 h-4 rounded-full bg-interactive dark:bg-white-10 flex justify-center items-center",style:{position:"relative"},children:(0,th.jsx)("img",{alt:"Wallet logo",width:16,height:16,src:null==(e=null==l?void 0:l.adapter)?void 0:e.icon})}),(0,th.jsx)("div",{className:"ml-2",children:(0,th.jsx)("div",{className:"text-xs text-primary-text",children:eC(`${t}`,2)})})]}):null},tg=l(90639),tw=()=>{let{publicKey:e,connected:t,connecting:l,disconnect:n}=eF(),[i,r]=(0,tp.useState)(!1),s=(0,tp.useRef)(null),{screen:a,setScreen:o}=eo(),u=(0,tp.useMemo)(()=>null==e?void 0:e.toBase58(),[e]);return(eM(s,()=>{r(!1)}),(t||l)&&u)?(0,tg.jsxs)("div",{className:"cursor-pointer relative",children:[(0,tg.jsx)("div",{onClick:()=>r(!i),children:(0,tg.jsx)(tf,{})}),"Initial"===a?(0,tg.jsx)("ul",{"aria-label":"dropdown-list",className:i?"absolute block top-10 right-0 text-sm bg-black rounded-lg p-2 text-primary-text dark:bg-white dark:text-black":"hidden",ref:s,role:"menu",children:(0,tg.jsx)("li",{onClick:()=>{r(!1),n()},role:"menuitem",children:(0,tg.jsx)("span",{children:"Disconnect"})})}):null]}):(0,tg.jsx)("div",{onClick:()=>o("Wallet"),className:"text-primary-text",children:(0,tg.jsx)(tm,{})})},tv=l(23591),tj=l(90639),ty=(0,tv.createContext)({}),tb=e=>{let{branding:t,children:l}=e,n=(0,tv.useMemo)(()=>(null==t?void 0:t.logoUri)?t.logoUri:"https://jup.ag/svg/jupiter-logo.svg",[null==t?void 0:t.logoUri]),i=(0,tv.useMemo)(()=>(null==t?void 0:t.name)?t.name:"Jupiter",[null==t?void 0:t.name]);return(0,tj.jsx)(ty.Provider,{value:{logoUri:n,name:i},children:l})},tC=l(90639),tN=()=>{let{refresh:e,enableWalletPassthrough:t}=tr(),{refetch:l}=e4(),{logoUri:n,name:i}=(0,tv.useContext)(ty),r=(0,to.useCallback)(()=>{l(),e()},[l,e]);return(0,tC.jsx)("div",{className:"mt-2 h-7 pl-3 pr-2",children:(0,tC.jsxs)("div",{className:"w-full flex items-center justify-between ",children:[(0,tC.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,tC.jsx)("img",{src:n,alt:"Terminal Branding",className:"w-6 h-6"}),(0,tC.jsx)("span",{className:"font-bold text-sm text-primary-text",children:i})]}),(0,tC.jsxs)("div",{className:"flex space-x-1 items-center",children:[(0,tC.jsx)("button",{type:"button",className:"p-2 h-7 w-7 flex items-center justify-center  rounded-full  bg-interactive text-primary-text fill-current",onClick:r,children:(0,tC.jsx)(td,{})}),!t&&(0,tC.jsx)(tw,{})]})]})})},tS=l(23591),tk=l(23591),tM=l(32544);new(l(9633)).PublicKey("So11111111111111111111111111111111111111112");var tE=j(l(23591)),tL=l(90639),tR=e=>{let{data:t}=e4(),{connected:l}=eF(),n=tE.useMemo(()=>{if(!t)return"0";let l=t[e.mintAddress];return l?l.uiAmount.toString():"0"},[t,e.mintAddress]);return(!e.hideZeroBalance||"0"!==n&&n)&&l?(0,tL.jsx)("span",{translate:"no",children:n}):null},tV=j(l(23591)),tA=l(90639),t_=tV.default.forwardRef(({onClick:e,disabled:t,children:l,className:n="",size:i="md"},r)=>(0,tA.jsx)("button",{type:"button",ref:r,className:F("rounded-xl",{relative:!0,"opacity-50 cursor-not-allowed":t,[n]:!0}),disabled:t,onClick:e,children:(0,tA.jsx)("div",{className:`${"sm"===i?"px-4 py-2.5 text-xs":"md"===i?"px-4 py-3 text-sm font-semibold":"lg"===i?"p-5 text-md font-semibold":void 0} h-full w-full leading-none`,children:l})}));t_.displayName="JupButton";var tP=j(l(23591)),tT=l(90639),tF=e=>(0,tT.jsxs)("svg",g(f({width:"12",height:"12",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,tT.jsx)("rect",{x:"8",y:"6",width:"4",height:"10",fill:"white"}),(0,tT.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.8634 15.6962C17.5539 15.1565 11.3038 4.37041 10.7692 3.44957C10.4179 2.8452 9.58075 2.85511 9.22912 3.44957C8.83702 4.11227 2.55515 14.9396 2.11839 15.7235C1.7984 16.2978 2.15189 17.0509 2.88009 17.0509H17.0974C17.7586 17.0509 18.2502 16.3695 17.8635 15.696L17.8634 15.6962ZM10.0005 15.6277C9.50937 15.6277 9.11108 15.2297 9.11108 14.7383C9.11108 14.247 9.50937 13.8489 10.0005 13.8489C10.4918 13.8489 10.8899 14.247 10.8899 14.7383C10.8899 15.2297 10.4918 15.6277 10.0005 15.6277ZM10.5341 12.7817C10.5341 13.1374 10.3562 13.3154 10.0005 13.3154C9.64474 13.3154 9.46681 13.1375 9.46681 12.7817L8.93314 7.62324C8.93314 7.08957 9.28887 6.5559 10.0005 6.5559C10.7119 6.5559 11.0678 7.08957 11.0678 7.62324L10.5341 12.7817Z",fill:"currentColor"})]})),tI=l(90639);function t$(e){let t=new URLSearchParams({w:"48",h:"48",url:e.endsWith("/")?e.slice(0,-1):e});return`https://wsrv.nl/?${t.toString()}`}var tO=({width:e,height:t,imageUrl:l})=>(0,tI.jsxs)("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-url":l,"data-transformed-url":t$((null==l?void 0:l.toString())||""),children:[(0,tI.jsx)("path",{d:"M12 0C18.6271 0 24 5.37288 24 12C24 18.6271 18.6269 24 12 24C5.37312 24 0 18.6286 0 12C0 5.37144 5.37216 0 12 0Z",fill:"#23C1AA"}),(0,tI.jsx)("path",{d:"M10.79 14.55H12.89V14.355C12.89 13.925 13.01 13.55 13.25 13.23C13.49 12.91 13.765 12.605 14.075 12.315C14.315 12.085 14.545 11.85 14.765 11.61C14.985 11.36 15.165 11.09 15.305 10.8C15.455 10.5 15.53 10.16 15.53 9.78C15.53 9.25 15.395 8.75 15.125 8.28C14.855 7.8 14.45 7.41 13.91 7.11C13.38 6.8 12.725 6.645 11.945 6.645C11.305 6.645 10.725 6.765 10.205 7.005C9.69504 7.245 9.27504 7.575 8.94504 7.995C8.62504 8.415 8.42004 8.905 8.33004 9.465L10.415 9.99C10.475 9.61 10.64 9.31 10.91 9.09C11.19 8.86 11.515 8.745 11.885 8.745C12.315 8.745 12.64 8.85 12.86 9.06C13.09 9.26 13.205 9.52 13.205 9.84C13.205 10.15 13.09 10.425 12.86 10.665C12.63 10.895 12.37 11.155 12.08 11.445C11.77 11.765 11.475 12.14 11.195 12.57C10.925 13 10.79 13.545 10.79 14.205V14.55ZM10.73 18H12.98V15.75H10.73V18Z",fill:"white"})]}),tB=({info:e,width:t=32,height:l=32,enableUnknownTokenWarning:n=!0})=>{let[i,r]=tP.useState(!1),[s,a]=tP.useState(!1);tP.useEffect(()=>{a(!1)},[e]);let o=tP.useMemo(()=>{var t;try{if(!(null==e?void 0:e.icon))return;if("undefined"!=typeof window&&(null==(t=null==e?void 0:e.icon)?void 0:t.startsWith("/")))return new URL(window.location.origin+e.icon);return(null==e?void 0:e.icon)?new URL(e.icon):void 0}catch(e){return}},[null==e?void 0:e.icon]),u=tP.useMemo(()=>!!n&&(e?ew(e):void 0),[n,e]),d=tP.useMemo(()=>!o||!e||s&&i?(0,tI.jsx)(tO,{width:t,height:l,imageUrl:(null==o?void 0:o.toString())||""}):i?(0,tI.jsx)("img",{src:e.icon,alt:e.symbol,width:t,height:l,style:{maxWidth:t,maxHeight:l},className:"object-cover rounded-full",onError:()=>{a(!0)}}):(0,tI.jsx)("img",{src:t$(e.icon||""),alt:e.symbol,width:t,height:l,style:{maxWidth:t,maxHeight:l},className:"object-cover rounded-full",onError:()=>{r(!0)}}),[s,l,o,e,i,t]);return(0,tI.jsxs)("span",{className:"relative",children:[d,u&&(0,tI.jsx)(tF,{width:Math.max(.6*t,16),height:Math.max(.6*l,16),className:"absolute -p-1 text-warning -bottom-[2px] -right-[5px]"})]})},tW=l(90639),tq=({width:e=20,height:t=20})=>(0,tW.jsx)("svg",{width:e,height:t,viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,tW.jsx)("path",{d:"M2.0625 11H10.3125V2.75H8.59375V0H2.0625C0.923158 0 0 0.923158 0 2.0625V8.9375C0 10.0768 0.923158 11 2.0625 11ZM8.9375 4.125V9.625H2.0625C1.6825 9.625 1.375 9.3175 1.375 8.9375V4.00486C1.59589 4.08408 1.82818 4.12437 2.0625 4.12504L8.9375 4.125ZM2.0625 1.375H7.21875V2.75H2.0625C1.6825 2.75 1.375 2.4425 1.375 2.0625C1.375 1.6825 1.6825 1.375 2.0625 1.375Z",fill:"white",fillOpacity:"0.25"})}),tD=j(l(93745)),tJ=l(23591),tU=l(90639),tz=e=>{let{tokenInfo:t,amount:l,maxDecimals:n,prefix:i=""}=e,r=t.usdPrice||0,s=(0,tJ.useMemo)(()=>l&&eE(l)?new tD.default(l).mul(r):new tD.default(0),[l,r]);return(0,tU.jsxs)(tU.Fragment,{children:[i,"$",eb.format(s,n||2)]})},tH=j(l(93745)),tZ=j(l(43113)),tK=l(23591),tG=j(l(93745)),tQ=j(l(23591)),tY=j(l(93745)),tX=l(90639),t0=e=>{let t=tY.default.abs(tY.default.ceil(new tY.default(-1).mul(tY.default.log10(e)))).toNumber(),[l,n]=[new tY.default(e).toFixed().slice(0,t+2),new tY.default(e).toFixed().slice(t+1)];return[t,l,n]},t1=({value:e,maxSuffix:t})=>{let[l,n,i]=t0(e);return l<=5?(0,tX.jsx)("span",{children:e.toFixed(6)}):(0,tX.jsxs)("span",{className:"flex items-center h-4",children:["0.0",(0,tX.jsx)("span",{className:"mb-3 text-xl mx-0.5",children:function(e){let t=["₀","₁","₂","₃","₄","₅","₆","₇","₈","₉"],l=e.toString(),n="";for(let e=0;e<l.length;e++)n+=t[parseInt(l.charAt(e),10)];return n}(l-1)}),i.slice(0,t)]})},t2=l(90639),t5=({inAmount:e,inputDecimal:t,outAmount:l,outputDecimal:n},i)=>{let r=eS(e,t),s=eS(l,n),a=i?new tG.default(s).div(r):new tG.default(r).div(s);return Number.isNaN(a.toNumber())?new tG.default(0):a},t3=({width:e=16,height:t=16})=>(0,t2.jsx)("svg",{width:e,height:t,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t2.jsx)("path",{d:"M10.8573 8.18429L13.6323 5.95933L10.8573 3.73438V5.31937H3.32735V6.59937H10.8573V8.18429ZM5.14223 7.81429L2.36719 10.0393L5.14223 12.2642V10.6792H12.6722V9.39922H5.14223V7.81429Z",fill:"currentColor"})}),t9=({className:e,textClassName:t,loading:l=!1,fromTokenInfo:n,rateParams:i,toTokenInfo:r,reversible:s=!0})=>{let[a,o]=tQ.useState(null==s||s),u=tQ.useMemo(()=>t5(i,a),[a,i]),d=tQ.useCallback(e=>{e.stopPropagation(),o(e=>!e)},[]);return(0,t2.jsxs)("div",{className:F(e,"flex cursor-pointer text-primary-text text-xs align-center"),onClick:d,children:[(0,t2.jsx)("span",{className:F(t,"max-w-full flex whitespace-nowrap"),children:a?(0,t2.jsxs)(t2.Fragment,{children:["1 ",n.symbol," ≈",(0,t2.jsx)("div",{className:"flex ml-0.5",children:u.gt(1e-5)?`${eb.format(u,6)} ${r.symbol}`:(0,t2.jsxs)(t2.Fragment,{children:[(0,t2.jsx)(t1,{value:u.toNumber(),maxSuffix:6})," ",r.symbol]})})]}):(0,t2.jsxs)(t2.Fragment,{children:["1 ",r.symbol," ≈",(0,t2.jsx)("div",{className:"flex ml-0.5",children:u.gt(1e-5)?`${eb.format(u,6)} ${n.symbol}`:(0,t2.jsxs)(t2.Fragment,{children:[(0,t2.jsx)(t1,{value:u.toNumber(),maxSuffix:6})," ",n.symbol]})})]})}),s?(0,t2.jsx)("div",{className:"ml-2",children:(0,t2.jsx)(t3,{})}):null]})},t6=l(90639),t7=e=>(0,t6.jsxs)("svg",g(f({viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em"},e),{children:[(0,t6.jsxs)("g",{clipPath:"url(#clip0_1785_33901)",children:[(0,t6.jsx)("path",{d:"M7.20001 7.86127C7.45429 7.86127 7.69815 7.96228 7.87795 8.14208C8.05775 8.32188 8.15876 8.56574 8.15876 8.82002C8.15876 8.56574 8.25977 8.32188 8.43957 8.14208C8.61937 7.96228 8.86324 7.86127 9.11751 7.86127C8.86324 7.86127 8.61937 7.76026 8.43957 7.58046C8.25977 7.40066 8.15876 7.15679 8.15876 6.90252C8.15876 7.15679 8.05775 7.40066 7.87795 7.58046C7.69815 7.76026 7.45429 7.86127 7.20001 7.86127ZM7.20001 2.10877C7.45429 2.10877 7.69815 2.20978 7.87795 2.38958C8.05775 2.56938 8.15876 2.81324 8.15876 3.06752C8.15876 2.81324 8.25977 2.56938 8.43957 2.38958C8.61937 2.20978 8.86324 2.10877 9.11751 2.10877C8.86324 2.10877 8.61937 2.00776 8.43957 1.82796C8.25977 1.64816 8.15876 1.40429 8.15876 1.15002C8.15876 1.40429 8.05775 1.64816 7.87795 1.82796C7.69815 2.00776 7.45429 2.10877 7.20001 2.10877Z",stroke:"currentColor",strokeWidth:"0.95875",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t6.jsx)("path",{d:"M4.09971 1.42435C4.08095 1.37314 4.04691 1.32892 4.00219 1.29768C3.95748 1.26644 3.90425 1.24969 3.84971 1.24969C3.79517 1.24969 3.74194 1.26644 3.69723 1.29768C3.65251 1.32892 3.61847 1.37314 3.59971 1.42435L3.34534 2.11935C3.1457 2.6643 2.82969 3.15919 2.41931 3.56957C2.00893 3.97996 1.51403 4.29596 0.969084 4.4956L0.274086 4.74998C0.222871 4.76874 0.178655 4.80279 0.147417 4.8475C0.116179 4.89221 0.0994263 4.94543 0.0994263 4.99998C0.0994263 5.05452 0.116179 5.10775 0.147417 5.15246C0.178655 5.19717 0.222871 5.23122 0.274086 5.24998L0.969084 5.50435C1.51403 5.70399 2.00893 6.02001 2.41931 6.43039C2.82969 6.84077 3.1457 7.33566 3.34534 7.88061L3.59971 8.5756C3.61847 8.62681 3.65251 8.67103 3.69723 8.70227C3.74194 8.7335 3.79517 8.75026 3.84971 8.75026C3.90425 8.75026 3.95748 8.7335 4.00219 8.70227C4.04691 8.67103 4.08095 8.62681 4.09971 8.5756L4.35409 7.88061C4.55372 7.33566 4.86973 6.84077 5.28011 6.43039C5.69049 6.02001 6.18538 5.70399 6.73033 5.50435L7.42533 5.24998C7.47654 5.23122 7.52076 5.19717 7.552 5.15246C7.58323 5.10775 7.59999 5.05452 7.59999 4.99998C7.59999 4.94543 7.58323 4.89221 7.552 4.8475C7.52076 4.80279 7.47654 4.76874 7.42533 4.74998L6.73033 4.4956C6.18538 4.29596 5.8125 3.97995 5.40212 3.56957C4.99174 3.15919 4.55372 2.6643 4.35409 2.11935L4.09971 1.42435Z",fill:"currentColor"})]}),(0,t6.jsx)("defs",{children:(0,t6.jsx)("clipPath",{id:"clip0_1785_33901",children:(0,t6.jsx)("rect",{width:"10",height:"10",fill:"white"})})})]})),t4=l(90639),t8=({gasFee:e,gasless:t})=>e?(0,t4.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,t4.jsx)("div",{className:"flex w-[50%] text-primary-text/50",children:(0,t4.jsx)("span",{children:"Network Fee"})}),(0,t4.jsxs)("div",{className:"flex items-center gap-1",children:[t&&(0,t4.jsxs)(t4.Fragment,{children:[(0,t4.jsx)(t7,{color:"#FDB022",width:12,height:12}),(0,t4.jsx)("div",{className:"text-xs text-primary-text",children:"Gasless"})]}),(0,t4.jsxs)("div",{className:F("text-primary-text",{"line-through":t}),children:[e," SOL"]})]})]}):null,le=l(64981),lt=e=>(0,le.useQuery)(f({queryKey:["routers"],queryFn:()=>eB.getRouters(),cacheTime:1/0,staleTime:1/0},e)),ll=l(90639),ln=({quoteResponse:e,fromTokenInfo:t,toTokenInfo:l,loading:n,containerClassName:i})=>{let r={inAmount:(null==e?void 0:e.quoteResponse.inAmount)||tZ.default.BigInt(0),inputDecimal:t.decimals,outAmount:(null==e?void 0:e.quoteResponse.outAmount)||tZ.default.BigInt(0),outputDecimal:l.decimals},{data:s}=lt({select:t=>e?t.find(t=>t.id===e.quoteResponse.router):null}),a=eb.format(new tH.default((null==e?void 0:e.quoteResponse.priceImpactPct)||0).mul(100).toDP(2)),o=.01>Number(a)?void 0:`-${a}%`,u=(0,tK.useMemo)(()=>e?e.quoteResponse.feeBps/100:0,[e]),d=(0,tK.useMemo)(()=>{if(e)return e.quoteResponse.router},[e]),c=(0,tK.useMemo)(()=>{if(e){let{prioritizationFeeLamports:t}=e.quoteResponse;if(t)return t/1e9}return 0},[e]);return(0,ll.jsxs)("div",{className:F("mt-4 space-y-4 border border-white/5 rounded-xl",i),children:[(0,ll.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,ll.jsx)("div",{className:"text-primary-text/50",children:(0,ll.jsx)("span",{children:"Rate"})}),tZ.default.greaterThan(r.inAmount,tZ.default.BigInt(0))&&tZ.default.greaterThan(r.outAmount,tZ.default.BigInt(0))?(0,ll.jsx)(t9,{loading:n,rateParams:r,fromTokenInfo:t,toTokenInfo:l,reversible:!0}):(0,ll.jsx)("span",{className:"text-primary-text/50",children:"-"})]}),o&&(0,ll.jsxs)("div",{className:"flex items-center justify-between text-xs text-primary-text/50",children:[(0,ll.jsx)("div",{children:(0,ll.jsx)("span",{children:"Price Impact"})}),(0,ll.jsx)("div",{className:"text-primary-text",children:o})]}),d&&(0,ll.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,ll.jsx)("div",{className:"text-primary-text/50",children:(0,ll.jsx)("span",{children:"Router"})}),(0,ll.jsx)("div",{className:"flex items-center gap-1",children:s&&(0,ll.jsxs)(ll.Fragment,{children:[(0,ll.jsx)("img",{src:s.icon,alt:e.quoteResponse.router,width:10,height:10}),(0,ll.jsx)("div",{className:"text-primary-text",children:s.name})]})})]}),(0,ll.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,ll.jsx)("div",{className:"text-primary-text/50",children:(0,ll.jsx)("span",{children:"Fee"})}),(0,ll.jsxs)("div",{className:"text-primary-text",children:[u,"%"]})]}),(0,ll.jsx)(t8,{gasFee:c,gasless:null==e?void 0:e.quoteResponse.gasless})]})},li=l(90639),lr=()=>(0,li.jsxs)("svg",{width:20,height:20,viewBox:"0 0 21 22",fill:"white",fillOpacity:.5,xmlns:"http://www.w3.org/2000/svg",children:[(0,li.jsx)("path",{d:"M6.51043 7.47998V14.99H7.77043V7.47998L9.66043 9.36998L10.5505 8.47994L7.5859 5.51453C7.3398 5.26925 6.94114 5.26925 6.69504 5.51453L3.73047 8.47994L4.62051 9.36998L6.51043 7.47998Z",fill:"white"}),(0,li.jsx)("path",{d:"M14.4902 14.52V7.01001H13.2302V14.52L11.3402 12.63L10.4502 13.5201L13.4148 16.4855C13.6609 16.7308 14.0595 16.7308 14.3056 16.4855L17.2702 13.5201L16.3802 12.63L14.4902 14.52Z",fill:"white"})]}),ls=({className:e,onClick:t,disabled:l})=>(0,li.jsx)("div",{className:"flex justify-center bg-background rounded-full",children:(0,li.jsx)("div",{onClick:t,className:F("border-[3px] border-background fill-current text-black bg-interactive hover:bg-interactive/80 dark:text-primary-text-35  dark:hover:border-primary dark:border dark:border-white-35 h-8 w-8 rounded-full flex items-center justify-center cursor-pointer",e,{"opacity-50 cursor-not-allowed":l}),children:(0,li.jsx)(lr,{})})}),la=j(l(23591)),lo=()=>{let{lastRefreshTimestamp:e}=tr(),[t,l]=la.default.useState(!1),[n,i]=(0,la.useState)(0);return(0,la.useEffect)(()=>{let t=setInterval(()=>{if(!e)return;let t=Date.now()>e+2e4;i((Date.now()-(e+2e4))/1e3/20*100),l(t)},1e3);return()=>clearInterval(t)},[e]),[t,n]},lu=j(l(93745)),ld={ExactIn:"ExactIn",ExactOut:"ExactOut"},lc=l(64981),lx=l(23591),lm=l(51663),lp=()=>{let[e,t]=(0,lx.useState)(!1);return(0,lm.useIsomorphicLayoutEffect)(()=>{function e(){t(window.matchMedia("(min-width: 1024px)").matches)}return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),!e},lh=l(23591),lf=l(92512),lg=j(l(81056)),lw=l(90639),lv=({placement:e="auto",trigger:t="click",persistOnClick:l=!0,strategy:n="fixed",arrow:i=!1,buttonContent:r,popoverContent:s,contentClassName:a,buttonContentClassName:o,isOpen:u,onClose:d,matchWidth:c,offset:x,drawShades:m=!1})=>{let p=(0,lh.useMemo)(()=>void 0===u,[]),h=lp(),[w,v]=(0,lh.useState)(!p),[j,y]=(0,lh.useState)(null),[b,C]=(0,lh.useState)(null),N=(0,lh.useMemo)(()=>!!s&&i,[s,i]),{styles:S,attributes:k}=(0,lf.usePopper)(j,b,{strategy:n,placement:e,modifiers:x?[{name:"offset",options:{offset:x}}]:void 0}),M=(0,lh.useCallback)((0,lg.default)(()=>{p?v(!1):d&&d()},"hover"===t&&l?50:0),[v,p,d,t,l]),E=(0,lh.useCallback)(()=>{M.cancel(),v(!0)},[v,M]);eM({current:b},M);let L=p?w:u,R="hover"===t?h?{onTouchStart:E,onTouchEnd:M}:{onMouseEnter:E,onMouseLeave:M}:{};return(0,lw.jsxs)(lw.Fragment,{children:[(0,lw.jsx)("div",g(f({ref:y,onClick:()=>{p?(l&&"hover"===t||"click"===t)&&E():u&&d&&d()},className:F(o,{"z-50":L})},R),{children:r})),L&&(0,lw.jsxs)("div",g(f(f({id:"tooltip",ref:C,style:g(f({},S.popper),{maxWidth:c?null==j?void 0:j.clientWidth:"auto"})},k.popper),R),{className:F("rounded-lg w-auto bg-none shadow-xl dark:bg-white/5 backdrop-blur-xl transition-opacity opacity-0",a,{"z-50 opacity-100":L}),children:[s,N?(0,lw.jsx)("div",{id:"arrow",className:"before:absolute absolute before:w-2 w-2 before:h-2 h-2 before:bg-inherit bg-inherit before:visible before:rotate-45 invisible","data-popper-arrow":!0}):null]})),(0,lw.jsx)("div",{className:F("fixed top-0 left-0 w-full h-full transition-all opacity-0 pointer-events-none z-[-1]",{"!backdrop-blur-xxs !bg-black/20 opacity-100 pointer-events-auto z-40":m&&L}),onClick:M})]})},lj=l(90639),ly=({content:e,disabled:t=!1,variant:l="dark",children:n,offset:i,placement:r,persistOnClick:s,buttonContentClassName:a,contentClassName:o,drawShades:u,strategy:d})=>(0,lj.jsx)(lv,{placement:r||"top",buttonContent:n,buttonContentClassName:a,offset:i||[0,2.5],contentClassName:o,drawShades:u,popoverContent:e&&(0,lj.jsx)("div",{className:F("p-2 rounded-lg max-w-[360px] w-full text-xs",{"bg-white text-black":"light"===l,"bg-black text-primary-text":"dark"===l,"group-hover:visible group-hover:z-50":!t}),children:e}),id:"TooltipPopover",trigger:s?"click":"hover",persistOnClick:s,strategy:d}),lb=l(23591),lC=l(90639),lN=({value:e,one:t,other:l})=>(0,lC.jsx)(lC.Fragment,{children:1===e?t.replace("#",e.toString()):l.replace("#",e.toString())}),lS=l(90639),lk=e=>(0,lS.jsx)("svg",g(f({xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 256 256"},e),{children:(0,lS.jsx)("path",{fill:"currentColor",d:"M128 24a104 104 0 1 0 104 104A104.11 104.11 0 0 0 128 24m0 192a88 88 0 1 1 88-88a88.1 88.1 0 0 1-88 88m-8-80V80a8 8 0 0 1 16 0v56a8 8 0 0 1-16 0m20 36a12 12 0 1 1-12-12a12 12 0 0 1 12 12"})})),lM=l(90639),lE=e=>{let t=e.type.replace(/_/g," ");return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()},lL=e=>(0,lM.jsx)("svg",g(f({xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24"},e),{children:(0,lM.jsxs)("g",{fill:"none",children:[(0,lM.jsx)("path",{stroke:"currentColor",strokeWidth:"1.5",d:"M3 10.417c0-3.198 0-4.797.378-5.335c.377-.537 1.88-1.052 4.887-2.081l.573-.196C10.405 2.268 11.188 2 12 2s1.595.268 3.162.805l.573.196c3.007 1.029 4.51 1.544 4.887 2.081C21 5.62 21 7.22 21 10.417v1.574c0 5.638-4.239 8.375-6.899 9.536C13.38 21.842 13.02 22 12 22s-1.38-.158-2.101-.473C7.239 20.365 3 17.63 3 11.991z"}),(0,lM.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"1.5",d:"M12 8v4"}),(0,lM.jsx)("circle",{cx:"12",cy:"15",r:"1",fill:"currentColor"})]})})),lR=({warning:e,children:t,isHighRisk:l})=>{let n=(0,lb.useCallback)(e=>lE(e),[]);return(0,lM.jsxs)("div",{className:"flex gap-1",children:[t,(0,lM.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,lM.jsx)("span",{className:F("text-neutral-300",l&&"text-warning"),children:n(e)}),(0,lM.jsx)("span",{className:F("text-neutral-500",l&&"text-amber-200"),children:e.message})]})]},e.type)},lV=({tokenAddress:e})=>{let t=lp(),{data:l,isFetching:n}=(0,lc.useQuery)({queryKey:["shield",e],queryFn:()=>eB.getShield([e]),cacheTime:5*6e4,staleTime:5*6e4,keepPreviousData:!0,select:t=>{let l=t.warnings[e];return{isNotVerified:l.find(e=>"NOT_VERIFIED"===e.type),totalWarnings:l.length,highRiskWarnings:l.filter(e=>"critical"===e.severity||"warning"===e.severity),otherWarnings:l.filter(e=>"info"===e.severity)}}});if(!l||0===l.totalWarnings)return null;let{isNotVerified:i,totalWarnings:r,highRiskWarnings:s,otherWarnings:a}=l;return i?(0,lM.jsx)(ly,{persistOnClick:t,placement:"bottom",drawShades:!0,buttonContentClassName:"!cursor-help",offset:[130,5],content:(0,lM.jsxs)("div",{className:"flex flex-col gap-y-2 p-0 ",children:[(0,lM.jsxs)("div",{className:"text-sm font-semibold text-warning",children:[r," JupShield ",(0,lM.jsx)(lN,{one:"Warning",other:"Warnings",value:r})]}),s.length>0&&(0,lM.jsx)("div",{className:"flex flex-col gap-y-2 rounded-md bg-warning/[8%] p-2",children:s.map(e=>(0,lM.jsx)(lR,{warning:e,isHighRisk:!0,children:(0,lM.jsx)(lk,{width:15,height:15,className:"text-warning"})},e.type))}),a.length>0&&(0,lM.jsx)("div",{className:F("flex flex-col gap-y-2",s.length>0&&"p-2"),children:a.map(e=>(0,lM.jsx)(lR,{warning:e,isHighRisk:!1,children:(0,lM.jsx)(lk,{width:15,height:15})},e.type))})]}),children:(0,lM.jsxs)("div",{className:F("mt-1 flex items-center gap-x-1",n&&"blur-sm"),children:[(0,lM.jsx)(lL,{width:15,height:15,className:"text-warning"}),(0,lM.jsxs)("span",{className:F("!text-xxs font-semibold text-warning underline decoration-warning decoration-dashed underline-offset-4"),children:[r," Warnings"]})]})}):null},lA=l(90639),l_=({tokenInfo:e,onBalanceClick:t,title:l,pairSelectDisabled:n,onClickSelectPair:i,children:r,value:s})=>(0,lA.jsxs)("div",{className:F("border border-transparent bg-module rounded-xl transition-all","py-3 px-4 flex flex-col dark:text-primary-text  gap-y-2","group focus-within:border-primary/50 focus-within:shadow-swap-input-dark rounded-xl"),children:[(0,lA.jsxs)("div",{className:"flex justify-between items-center text-xs text-primary-text",children:[(0,lA.jsx)("div",{children:l}),e&&(0,lA.jsxs)("div",{className:F("flex  space-x-1 text-xs items-center text-primary-text/50 fill-current cursor-pointer"),onClick:e=>{t(e)},children:[(0,lA.jsx)(tq,{width:10,height:10}),(0,lA.jsx)(tR,{mintAddress:e.id,hideZeroBalance:!1}),(0,lA.jsx)("span",{children:e.symbol})]})]}),(0,lA.jsxs)("div",{className:"flex",children:[(0,lA.jsxs)("div",{children:[(0,lA.jsxs)("button",{type:"button",className:F("py-2 px-3 rounded-lg flex items-center bg-interactive text-primary-text",{"hover:bg-interactive/80":!n}),disabled:n,onClick:i,children:[(0,lA.jsx)("div",{className:"h-5 w-5",children:(0,lA.jsx)(tB,{info:e,width:20,height:20})}),(0,lA.jsx)("div",{className:"ml-4 mr-2 font-semibold",translate:"no",children:(0,lA.jsx)("div",{className:"truncate",children:null==e?void 0:e.symbol})}),n?null:(0,lA.jsx)("span",{className:"text-primary-text/25 fill-current",children:(0,lA.jsx)(R,{})})]}),(0,lA.jsx)("div",{className:"flex justify-between items-center h-[20px]",children:(null==e?void 0:e.id)&&(0,lA.jsx)(lV,{tokenAddress:e.id})})]}),(0,lA.jsxs)("div",{className:"flex flex-col items-end justify-between w-full",children:[r,(0,lA.jsx)("span",{className:"text-xs text-primary-text/50",children:e&&(0,lA.jsx)(tz,{tokenInfo:e,amount:s})})]})]})]}),lP=({onSubmit:e,isDisabled:t,setSelectPairSelector:l})=>{let{publicKey:n}=eF(),{data:i}=e4(),{form:r,setForm:s,fromTokenInfo:a,toTokenInfo:o,quoteResponseMeta:u,formProps:{fixedAmount:d,swapMode:c,fixedMint:x},loading:m,refresh:p,quoteError:h,errors:w,isToPairFocused:v,onSubmit:j}=tr(),[y,b]=lo(),{setScreen:C}=eo();(0,tk.useEffect)(()=>{y&&p()},[y]);let N=(0,tk.useMemo)(()=>(null==a?void 0:a.id)===x,[x,null==a?void 0:a.id]),S=(0,tk.useMemo)(()=>(null==o?void 0:o.id)===x,[x,null==o?void 0:o.id]),k=(0,tk.useMemo)(()=>null==n?void 0:n.toString(),[n]),M=(0,tk.useMemo)(()=>{if(!(null==a?void 0:a.id)||!i)return null;let e=i[a.id];return e?e.uiAmount.toString():null},[i,null==a?void 0:a.id]),E=(0,tk.useCallback)(e=>{e.preventDefault(),M&&((null==a?void 0:a.id)===ep.toBase58()?s(e=>g(f({},e),{fromValue:new lu.default(M).gt(.01)?new lu.default(M).minus(.01).toFixed(9):"0"})):s(e=>g(f({},e),{fromValue:M})))},[M,null==a?void 0:a.id,s]),{inputAmountDisabled:L,outputAmountDisabled:R}=(0,tk.useMemo)(()=>{let e={inputAmountDisabled:!0,outputAmountDisabled:!0};return d||(c===ld.ExactIn?e.inputAmountDisabled=!1:(c===ld.ExactOut||(e.inputAmountDisabled=!1),e.outputAmountDisabled=!1)),e},[d,c]),V=(0,tk.useCallback)(()=>{N||l("fromMint")},[N,l]),A=(0,tk.useCallback)(()=>{S||l("toMint")},[S,l]),_=(0,tk.useMemo)(()=>","===ek?".":",",[]),P=(0,tk.useCallback)(({floatValue:e})=>!e||e<=1e14,[]),T=(0,tk.useCallback)(e=>{window.Jupiter.enableWalletPassthrough&&window.Jupiter.onRequestConnectWallet?window.Jupiter.onRequestConnectWallet():C("Wallet")},[C]),I=(0,tk.useMemo)(()=>!!t||!!m||!!w.fromValue,[t,m,w.fromValue]);return(0,lA.jsxs)("div",{className:"h-full flex flex-col items-center justify-center",children:[(0,lA.jsx)("div",{className:"w-full mt-2 rounded-xl flex flex-col px-2",children:(0,lA.jsxs)("div",{className:"flex-col",children:[(0,lA.jsx)(l_,{tokenInfo:a,onBalanceClick:E,title:"Selling",pairSelectDisabled:N,onClickSelectPair:V,value:r.fromValue,children:(null==a?void 0:a.decimals)&&(0,lA.jsx)(tM.NumericFormat,{disabled:d||c===ld.ExactOut,value:void 0===r.fromValue?"":r.fromValue,decimalScale:a.decimals,thousandSeparator:_,allowNegative:!1,valueIsNumericString:!0,inputMode:"decimal",onValueChange:({value:e})=>{if(""===e){s(e=>g(f({},e),{fromValue:"",toValue:""}));return}Number.isNaN(e)||s(t=>g(f({},t),{fromValue:e}))},placeholder:"0.00",className:F("w-full h-[40px] bg-transparent text-primary-text text-right font-semibold text-xl placeholder:text-primary-text/50",{"cursor-not-allowed":L||c===ld.ExactOut}),onKeyDown:()=>{v.current=!1},decimalSeparator:ek,isAllowed:P})}),(0,lA.jsx)("div",{className:"relative z-10 -my-3 flex justify-center",children:(0,lA.jsx)(ls,{onClick:()=>{s(e=>g(f({},e),{fromValue:"",toValue:"",fromMint:e.toMint,toMint:e.fromMint}))},className:F("transition-all")})}),(0,lA.jsx)(l_,{tokenInfo:o,onBalanceClick:E,title:"Buying",pairSelectDisabled:S,onClickSelectPair:A,value:r.toValue,children:(null==o?void 0:o.decimals)&&(0,lA.jsx)(tM.NumericFormat,{inputMode:"decimal",disabled:R||c===ld.ExactIn,value:void 0===r.toValue?"":r.toValue,decimalScale:o.decimals,thousandSeparator:_,allowNegative:!1,valueIsNumericString:!0,onValueChange:({value:e})=>{if(""===e){s(e=>g(f({},e),{fromValue:"",toValue:""}));return}Number.isNaN(e)||s(t=>g(f({},t),{toValue:e}))},className:F("h-[40px] w-full bg-transparent text-primary-text text-right font-semibold text-lg placeholder:text-primary-text/50",{"cursor-not-allowed":R||c===ld.ExactIn}),placeholder:c===ld.ExactOut?"Enter desired amount":"0.00",decimalSeparator:ek,isAllowed:P,onKeyDown:e=>{!e.metaKey&&!e.ctrlKey&&"Meta"!==e.key&&"Control"!==e.key&&"Alt"!==e.key&&"Shift"!==e.key&&(v.current=!0)}})})]})}),(0,lA.jsxs)("div",{className:"w-full px-2",children:[k?(0,lA.jsx)(t_,{size:"lg",className:F("w-full mt-4 disabled:opacity-50 !text-uiv2-text/75 !bg-primary "),onClick:()=>{e(),j()},disabled:I,children:m?(0,lA.jsx)("span",{children:"Loading"}):w.fromValue?(0,lA.jsx)("span",{children:w.fromValue.title}):(0,lA.jsx)("span",{children:"Swap"})}):(0,lA.jsx)(t_,{size:"lg",className:"w-full mt-4 bg-primary !text-uiv2-text/75",onClick:T,children:"Connect Wallet"}),u&&a&&o?(0,lA.jsx)(ln,{quoteResponse:u,fromTokenInfo:a,toTokenInfo:o,loading:m}):null]})]})},lT=l(23591),lF=j(l(31753)),lI=l(27385),l$=l(90639),lO=({width:e="12",height:t="12"})=>(0,l$.jsx)("svg",{width:e,height:t,viewBox:"0 0 53 52",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l$.jsx)("path",{d:"M17.3336 23.8334H43.7062V28.1667H17.3336L28.9555 39.7887L25.8919 42.8524L9.03955 26L25.8919 9.14771L28.9555 12.2114L17.3336 23.8334Z",fill:"currentColor"})}),lB=l(90639),lW=()=>(0,lB.jsx)("div",{className:"flex items-center text-primary-text fill-current",children:(0,lB.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"inherit",xmlns:"http://www.w3.org/2000/svg",children:(0,lB.jsx)("path",{d:"M7.30327 14.6058C8.75327 14.6074 10.1705 14.1746 11.3729 13.3637L15.5971 17.5871C16.1463 18.1371 17.0377 18.1371 17.5877 17.5871C18.1377 17.0371 18.1377 16.1457 17.5877 15.5964L13.3643 11.3722C14.5823 9.55661 14.9229 7.28943 14.2909 5.19563C13.6596 3.10183 12.1229 1.40183 10.1033 0.56283C8.08365 -0.276231 5.79385 -0.16607 3.86505 0.86283C1.93537 1.89251 0.569053 3.73243 0.140853 5.87683C-0.286487 8.02143 0.269759 10.2448 1.65725 11.9354C3.04397 13.6261 5.11665 14.6064 7.30325 14.6058H7.30327ZM7.30327 1.68943C8.79233 1.68865 10.2197 2.28005 11.2729 3.33319C12.3252 4.38631 12.9166 5.81359 12.9166 7.30279C12.9166 8.79199 12.3252 10.2192 11.2729 11.2724C10.2198 12.3247 8.79247 12.9162 7.30327 12.9162C5.81407 12.9162 4.38687 12.3247 3.33367 11.2724C2.28133 10.2193 1.68913 8.79199 1.68991 7.30279C1.69148 5.81451 2.28287 4.38719 3.33523 3.33479C4.38759 2.28239 5.81483 1.69103 7.30323 1.68947L7.30327 1.68943Z",fill:"inherit",fillOpacity:"0.25"})})}),lq=j(l(81056)),lD=j(l(23591)),lJ=j(l(93745)),lU=l(23591),lz=l(90639),lH=[{name:"Solana Explorer",url:"https://explorer.solana.com/",get:(e,t="mainnet-beta")=>"mainnet-beta"!==t?`https://explorer.solana.com/tx/${e}?cluster=${t}`:`https://explorer.solana.com/tx/${e}`,getToken:(e,t="mainnet-beta")=>"mainnet-beta"!==t?`https://explorer.solana.com/address/${e}?cluster=${t}`:`https://explorer.solana.com/address/${e}`},{name:"Solscan",url:"https://solscan.io/",get:(e,t="mainnet-beta")=>"mainnet-beta"!==t?`https://solscan.io/tx/${e}?cluster=${t}`:`https://solscan.io/tx/${e}`,getToken:(e,t="mainnet-beta")=>"mainnet-beta"!==t?`https://solscan.io/token/${e}?cluster=${t}`:`https://solscan.io/token/${e}`},{name:"Solana Beach",url:"https://solanabeach.io/",get:(e,t="mainnet-beta")=>"mainnet-beta"!==t?`https://solanabeach.io/transaction/${e}?cluster=${t}`:`https://solanabeach.io/transaction/${e}`,getToken:(e,t="mainnet-beta")=>"mainnet-beta"!==t?`https://solanabeach.io/address/${e}?cluster=${t}`:`https://solanabeach.io/address/${e}`},{name:"SolanaFM",url:"https://solana.fm/",get:(e,t="mainnet-beta")=>"devnet"===t?`https://solana.fm/tx/${e}?cluster=devnet-solana`:"testnet"===t?`https://solana.fm/tx/${e}?cluster=testnet-qn1`:`https://solana.fm/tx/${e}`,getToken:(e,t="mainnet-beta")=>"devnet"===t?`https://solana.fm/address/${e}?cluster=devnet-solana`:"testnet"===t?`https://solana.fm/address/${e}?cluster=testnet-qn1`:`https://solana.fm/address/${e}`}],lZ=(0,lU.createContext)({explorer:lH[0].name,getExplorer:(e,t)=>"",getTokenExplorer:(e,t)=>"",setExplorer:e=>{}}),lK=({defaultExplorer:e,children:t})=>{let[l,n]=(0,lU.useState)(null!=e?e:lH[0].name),i=(0,lU.useMemo)(()=>lH.find(e=>e.name===l)||lH[0],[l]),r=(0,lU.useCallback)((e,t)=>i.get(e,t),[i]),s=(0,lU.useCallback)((e,t)=>i.getToken(e,t),[i]);return(0,lz.jsx)(lZ.Provider,{value:{explorer:l,getExplorer:r,getTokenExplorer:s,setExplorer:e=>n(e)},children:t})};function lG(){return(0,lU.useContext)(lZ)}var lQ=l(90639),lY=()=>(0,lQ.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,lQ.jsx)("path",{d:"M4 2V3H1.5V8.5H7V6H8V9C8 9.13261 7.94732 9.25979 7.85355 9.35355C7.75979 9.44732 7.63261 9.5 7.5 9.5H1C0.867392 9.5 0.740215 9.44732 0.646447 9.35355C0.552678 9.25979 0.5 9.13261 0.5 9V2.5C0.5 2.36739 0.552678 2.24021 0.646447 2.14645C0.740215 2.05268 0.867392 2 1 2H4ZM9.5 0.5V4.5H8.5V2.2065L4.6035 6.1035L3.8965 5.3965L7.7925 1.5H5.5V0.5H9.5Z",fill:"currentColor"})}),lX=l(90639),l0=({tokenInfo:e,className:t})=>{let{getTokenExplorer:l}=lG();return(0,lX.jsxs)("a",{target:"_blank",rel:"noreferrer",className:F("flex items-center bg-black/25 text-primary-text/75 px-2 py-0.5 space-x-1 rounded cursor-pointer",t),href:l(e.id),onClick:e=>e.stopPropagation(),children:[(0,lX.jsx)("div",{className:"text-xxs",children:eC(e.id)}),(0,lX.jsx)(lY,{})]})};l0.displayName="TokenLink";var l1=l(90639),l2=({width:e=24,height:t=24})=>(0,l1.jsxs)("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l1.jsx)("path",{d:"M13.8179 4.54512L13.6275 4.27845C12.8298 3.16176 11.1702 3.16176 10.3725 4.27845L10.1821 4.54512C9.76092 5.13471 9.05384 5.45043 8.33373 5.37041L7.48471 5.27608C6.21088 5.13454 5.13454 6.21088 5.27608 7.48471L5.37041 8.33373C5.45043 9.05384 5.13471 9.76092 4.54512 10.1821L4.27845 10.3725C3.16176 11.1702 3.16176 12.8298 4.27845 13.6275L4.54512 13.8179C5.13471 14.2391 5.45043 14.9462 5.37041 15.6663L5.27608 16.5153C5.13454 17.7891 6.21088 18.8655 7.48471 18.7239L8.33373 18.6296C9.05384 18.5496 9.76092 18.8653 10.1821 19.4549L10.3725 19.7215C11.1702 20.8382 12.8298 20.8382 13.6275 19.7215L13.8179 19.4549C14.2391 18.8653 14.9462 18.5496 15.6663 18.6296L16.5153 18.7239C17.7891 18.8655 18.8655 17.7891 18.7239 16.5153L18.6296 15.6663C18.5496 14.9462 18.8653 14.2391 19.4549 13.8179L19.7215 13.6275C20.8382 12.8298 20.8382 11.1702 19.7215 10.3725L19.4549 10.1821C18.8653 9.76092 18.5496 9.05384 18.6296 8.33373L18.7239 7.48471C18.8655 6.21088 17.7891 5.13454 16.5153 5.27608L15.6663 5.37041C14.9462 5.45043 14.2391 5.13471 13.8179 4.54512Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l1.jsx)("path",{d:"M9 12L10.8189 13.8189V13.8189C10.9189 13.9189 11.0811 13.9189 11.1811 13.8189V13.8189L15 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),l5=l(64981),l3=l(64981),l9=l(90639),l6=({mintAddress:e})=>{let{data:t}=function(){return(0,l5.useQuery)(["lst-apy"],()=>y(this,null,function*(){let e=yield fetch("https://worker.jup.ag/lst-apys");return yield e.json()}),{retry:3,keepPreviousData:!0,staleTime:3e5})}(),l=(0,lD.useMemo)(()=>{if(!t)return;let l=t.apys[e];if(l&&eE(l))return new lJ.default(l).mul(100).toDP(2).toString()},[t,e]);return(0,l9.jsxs)("p",{className:"rounded-md text-xxs leading-none transition-all py-0.5 px-1 text-primary/50 border border-primary/50 font-semibold",children:["LST ",l?`${l}%`:""]})},l7=({item:e})=>{let{data:t}=e4(),l=(0,lD.useRef)(!1),n=(0,lD.useRef)(!1),[i,r]=lD.default.useState({isVerified:!1,isLST:!1,isToken2022:!1,isFrozen:!1});(0,lD.useEffect)(()=>{n.current||l.current||(l.current=!0,setTimeout(()=>{var i,s;r({isVerified:eg(e),isLST:!!(null==(i=e.tags)?void 0:i.includes("lst")),isToken2022:!!ev(e),isFrozen:(null==(s=null==t?void 0:t[e.id])?void 0:s.isFrozen)||!1}),l.current=!1,n.current=!0},0))},[]);let s=[];if(!i)return null;let{isToken2022:a,isFrozen:o,isLST:u}=i;return(0,l9.jsxs)("div",{className:"flex justify-end gap-x-1",children:[o&&(0,l9.jsx)("p",{className:"border rounded-md text-xxs leading-none transition-all py-0.5 px-1 border-warning/50 text-warning/50",children:"Frozen"}),a&&(0,l9.jsx)("p",{className:"rounded-md text-xxs leading-none transition-all py-0.5 px-1 bg-black/10 font-semibold text-primary-text/20",children:"Token2022"}),null==s?void 0:s.map((e,t)=>(0,l9.jsx)("div",{className:"rounded-md text-xxs leading-none transition-all py-0.5 px-1 bg-black/10 font-semibold text-primary-text/20",children:e},t)),u&&(0,l9.jsx)(l6,{mintAddress:e.id})]})},l4=e=>{var t;let{item:l,style:n,onSubmit:i,suppressCloseModal:r,showExplorer:s=!0,enableUnknownTokenWarning:a=!0}=e,o=(0,l3.useQueryClient)(),u=lD.default.useCallback(()=>{if(o.setQueryData([...tt,l.id],[l]),i(l),r)return},[i,l,r,o]),{data:d}=e4(),c=null==(t=null==d?void 0:d[l.id])?void 0:t.uiAmount,x=c?new lJ.default(c).mul(l.usdPrice||0):void 0,m=x&&x.gte(.01)?`$${eb.format(x,2)}`:"";return(0,l9.jsx)("li",{className:"rounded cursor-pointer px-5 my-1 list-none flex w-full items-center bg-interactive hover:bg-interactive/80",style:f({maxHeight:68,height:68},n),onClick:u,translate:"no",children:(0,l9.jsxs)("div",{className:"flex h-full w-full items-center space-x-4",children:[(0,l9.jsx)("div",{className:"flex-shrink-0",children:(0,l9.jsx)("div",{className:"bg-gray-200 rounded-full",children:(0,l9.jsx)(tB,{info:l,width:36,height:36,enableUnknownTokenWarning:a})})}),(0,l9.jsx)("div",{className:"flex-1 min-w-0",children:(0,l9.jsxs)("div",{className:"flex flex-col gap-y-px",children:[(0,l9.jsxs)("div",{className:"flex items-center",children:[(0,l9.jsx)("p",{className:"text-sm font-medium text-primary-text truncate",children:l.symbol}),eg(l)&&(0,l9.jsx)("p",{className:"rounded-md text-xxs leading-none transition-all py-0.5 px-1 text-primary",children:(0,l9.jsx)(l2,{width:18,height:18})})]}),(0,l9.jsx)("p",{className:"text-xs text-primary-text/50 dark:text-primary-text-35 truncate",children:l.id===ep.toBase58()?"Solana":l.name}),s?(0,l9.jsx)("div",{className:"-ml-1 z-10 w-fit",onClick:e=>e.stopPropagation(),children:(0,l9.jsx)(l0,{tokenInfo:l})}):null]})}),(0,l9.jsxs)("div",{className:"text-xs text-primary-text/50 text-right h-full flex flex-col justify-evenly",children:[(0,l9.jsx)(tR,{mintAddress:l.id,hideZeroBalance:!0}),m?(0,l9.jsx)("p",{children:m}):null,(0,l9.jsx)(l7,f({},e))]})]})})},l8=l(23591),ne=l(64981),nt=(e,t={})=>{var l,n;let i=(0,l8.useMemo)(()=>e.join(","),[e]);return(0,ne.useQuery)({queryKey:["search",i],queryFn:()=>y(void 0,null,function*(){if(0===e.length)return te.search("");let t=[];for(let l=0;l<e.length;l+=100)t.push(e.slice(l,l+100));let l=t.map(e=>te.search(e.join(",")));return(yield Promise.allSettled(l)).flatMap(e=>"fulfilled"===e.status?e.value:[])}),enabled:null==(l=t.enabled)||l,staleTime:null!=(n=t.staleTime)?n:1/0})},nl=l(90639),nn=(0,lT.memo)(e=>{let{data:t,index:l,style:n}=e,i=t.searchResult[l];return(0,nl.jsx)(l4,{item:i,style:n,onSubmit:t.onSubmit},i.address)},lI.areEqual),ni=({onSubmit:e,onClose:t})=>{let[l,n]=(0,lT.useState)(""),{data:i={}}=e4(),{data:r=[]}=nt([]),{data:s=[],isLoading:a}=nt([l],{staleTime:3e5}),{data:o=[]}=nt([Object.keys(i).join(",")]),u=(0,lT.useMemo)(()=>l?eL(s,i):eL([...o,...r],i),[r,i,s,l,o]),d=(0,lT.useCallback)((0,lq.default)(e=>y(void 0,null,function*(){n(e)}),200),[r]),c=(0,lT.useCallback)(e=>{n(""),d(e.target.value)},[d]),x=(0,lT.createRef)(),m=(0,lT.createRef)();return(0,lT.useEffect)(()=>{var e;return null==(e=m.current)?void 0:e.focus()},[m]),(0,nl.jsxs)("div",{className:"flex flex-col h-full w-full py-4 px-2 bg-black",children:[(0,nl.jsxs)("div",{className:"flex w-full justify-between",children:[(0,nl.jsx)("div",{className:"text-primary-text fill-current w-6 h-6 cursor-pointer",onClick:t,children:(0,nl.jsx)(lO,{width:24,height:24})}),(0,nl.jsx)("div",{className:"text-primary-text",children:"Select Token"}),(0,nl.jsx)("div",{className:" w-6 h-6"})]}),(0,nl.jsxs)("div",{className:"flex px-5 mt-4 w-[98%] rounded-xl bg-module",style:{height:56,maxHeight:56},children:[(0,nl.jsx)(lW,{}),(0,nl.jsx)("input",{autoComplete:"off",className:"w-full rounded-xl ml-4 truncate bg-transparent text-primary-text placeholder:text-primary-text/50",placeholder:"Search",onChange:e=>c(e),ref:m})]}),(0,nl.jsxs)("div",{className:"mt-2",style:{flexGrow:1},children:[u&&u.length>0&&(0,nl.jsx)(lF.default,{children:({height:t,width:l})=>(0,nl.jsx)(lI.FixedSizeList,{ref:x,height:t,itemCount:u.length,itemSize:72,width:l-2,itemData:{searchResult:u,onSubmit:e},className:F("overflow-y-scroll mr-1 min-h-[12rem] px-5 webkit-scrollbar"),children:nn})}),a?(0,nl.jsx)("div",{className:"mt-4 mb-4 text-center text-primary-text/50",children:(0,nl.jsx)("span",{children:"Loading..."})}):u&&0===u.length?(0,nl.jsx)("div",{className:"mt-4 mb-4 text-center text-primary-text/50",children:(0,nl.jsx)("span",{children:"No tokens found"})}):(0,nl.jsx)(nl.Fragment,{})]})]})},nr=j(l(93745)),ns=l(90639),na=()=>{let{data:e}=e4(),{form:t,setForm:l,setErrors:n,quoteResponseMeta:i,loading:r}=tr(),{setScreen:s}=eo(),a=(0,tS.useMemo)(()=>{var l;return e&&(null==(l=e[t.fromMint])?void 0:l.uiAmount)||0},[e,t.fromMint]),[o,u]=(0,tS.useState)(!1),{data:d}=tl(t.fromMint);(0,tS.useEffect)(()=>{if(!t.fromValue||!t.fromMint||!t.toMint||!t.toValue||!i||r){n({}),u(!0);return}if(new nr.default(t.fromValue).gt(a)){n({fromValue:{title:`Insufficient ${null==d?void 0:d.symbol}`,message:""}}),u(!0);return}n({}),u(!1)},[t,d,a,i,r,n]);let[c,x]=(0,tS.useState)(null),m=(0,tS.useCallback)(e=>y(void 0,null,function*(){"fromMint"===c?l(t=>f(g(f({},t),{fromMint:e.id,fromValue:""}),t.toMint===e.id?{toMint:t.fromMint}:void 0)):l(t=>f(g(f({},t),{toMint:e.id,toValue:""}),t.fromMint===e.id?{fromMint:t.toMint}:void 0)),x(null)}),[c,l]),p=(0,tS.useCallback)(()=>{s("Swapping")},[s]);return(0,ns.jsxs)(ns.Fragment,{children:[(0,ns.jsx)("form",{onSubmit:p,className:F({hidden:!!c}),children:(0,ns.jsx)(lP,{onSubmit:p,isDisabled:o,setSelectPairSelector:x})}),null!==c?(0,ns.jsx)("div",{className:"absolute top-0 left-0 h-full w-full bg-black rounded-lg overflow-hidden",children:(0,ns.jsx)(ni,{onSubmit:m,onClose:()=>x(null)})}):null]})},no=l(23591),nu=l(90639),nd=()=>{let{fromTokenInfo:e,toTokenInfo:t,onSubmit:l,quoteResponseMeta:n,loading:i,refresh:r}=tr(),[s]=lo(),{setScreen:a}=eo(),o=()=>{r(),a("Initial")},u=(0,no.useCallback)(()=>y(void 0,null,function*(){a("Swapping"),l()}),[l,a]);return(0,nu.jsxs)("div",{className:"flex flex-col h-full w-full py-4 px-2",children:[(0,nu.jsxs)("div",{className:"flex w-full justify-between",children:[(0,nu.jsx)("div",{className:"text-primary-text fill-current w-6 h-6 cursor-pointer",onClick:o,children:(0,nu.jsx)(lO,{width:24,height:24})}),(0,nu.jsx)("div",{className:"text-primary-text",children:"Review Order"}),(0,nu.jsx)("div",{className:" w-6 h-6"})]}),(0,nu.jsx)("div",{children:n&&e&&t?(0,nu.jsx)(ln,{quoteResponse:n,fromTokenInfo:e,toTokenInfo:t,loading:i,containerClassName:"bg-modiu; border-none"}):null}),s?(0,nu.jsx)(t_,{size:"lg",className:"w-full mt-4 disabled:opacity-50 !p-0",onClick:o,children:(0,nu.jsx)("span",{className:"text-sm",children:"Refresh"})}):(0,nu.jsx)(t_,{size:"lg",className:F("w-full mt-4 disabled:opacity-50 !text-uiv2-text/75 leading-none !max-h-14 bg-gradient-to-r from-[#00BEF0] to-[#C7F284]"),onClick:u,children:(0,nu.jsx)("span",{children:"Confirm"})})]})},nc=l(23591),nx=l(90639),nm=({className:e,baseColor:t="currentColor",spinnerColor:l="currentColor",width:n=16,height:i=16})=>(0,nx.jsx)("div",{className:`rounded-full flex items-center justify-center ${e}`,style:{width:n,height:i},children:(0,nx.jsxs)("svg",{className:"animate-spin h-5 w-5 text-black dark:text-primary-text",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,nx.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:t,strokeWidth:"4"}),(0,nx.jsx)("path",{className:"opacity-75",fill:l,d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),np=l(90639),nh=e=>(0,np.jsx)("svg",g(f({xmlns:"http://www.w3.org/2000/svg",width:"256",height:"256",viewBox:"0 0 256 256"},e),{children:(0,np.jsx)("path",{fill:"currentColor",d:"M128 24a104 104 0 1 0 104 104A104.11 104.11 0 0 0 128 24m45.66 85.66l-56 56a8 8 0 0 1-11.32 0l-24-24a8 8 0 0 1 11.32-11.32L112 148.69l50.34-50.35a8 8 0 0 1 11.32 11.32"})})),nf=l(90639),ng=e=>(0,nf.jsxs)("svg",g(f({xmlns:"http://www.w3.org/2000/svg",width:"128",height:"128",viewBox:"0 0 33 32",fill:"none"},e),{children:[(0,nf.jsx)("g",{clipPath:"url(#clip0_11565_169621)",children:(0,nf.jsxs)("g",{filter:"url(#filter0_d_11565_169621)",children:[(0,nf.jsx)("path",{d:"M3.09074 25.1666C4.44267 27.0471 6.17683 28.6205 8.1795 29.7838C10.1822 30.947 12.4081 31.6738 14.7114 31.9165C13.5264 30.1333 11.8039 28.4928 9.65354 27.2438C7.50318 25.9948 5.22592 25.3125 3.09074 25.1666Z",fill:"url(#paint0_linear_11565_169621)"}),(0,nf.jsx)("path",{d:"M12.543 22.2705C8.40015 19.8636 3.91612 19.2502 0.707663 20.3338C1.0174 21.3575 1.42589 22.3487 1.92738 23.2934C4.71498 23.2288 7.75856 23.9859 10.5906 25.6308C13.4227 27.2757 15.5888 29.5459 16.9143 32C17.9839 31.9672 19.0479 31.8309 20.0913 31.5932C19.4426 28.2698 16.6849 24.6779 12.543 22.2705Z",fill:"url(#paint1_linear_11565_169621)"}),(0,nf.jsx)("path",{d:"M32.2852 12.5009C31.7585 10.3584 30.8054 8.34403 29.4829 6.57804C28.1604 4.81205 26.4956 3.33067 24.5879 2.22235C22.6802 1.11403 20.5687 0.401504 18.3796 0.127309C16.1904 -0.146885 13.9684 0.0228794 11.8463 0.626465C15.3915 1.06033 19.3267 2.39122 23.1859 4.63324C27.0452 6.87525 30.1533 9.63411 32.2852 12.5009Z",fill:"url(#paint2_linear_11565_169621)"}),(0,nf.jsx)("path",{d:"M27.1271 20.3583C25.3124 17.3446 22.2038 14.4588 18.3743 12.2342C14.5449 10.0095 10.4991 8.7388 6.98531 8.65474C3.894 8.58152 1.57389 9.48017 0.621548 11.1197C0.616125 11.1294 0.608532 11.1386 0.602566 11.1484C0.516877 11.4559 0.44312 11.7639 0.37587 12.0731C1.70568 11.5481 3.24645 11.2558 4.95969 11.2232C8.76959 11.1517 13.0334 12.3703 16.9681 14.6562C20.9027 16.9422 24.0759 20.0438 25.9003 23.3878C26.7182 24.8944 27.2285 26.3777 27.4308 27.7948C27.6662 27.5844 27.8972 27.3669 28.1212 27.1408C28.1272 27.1305 28.131 27.1196 28.1369 27.1088C29.0893 25.4677 28.721 23.0076 27.1271 20.3583Z",fill:"url(#paint3_linear_11565_169621)"}),(0,nf.jsx)("path",{d:"M15.4609 17.2485C9.59662 13.8416 3.11626 13.3079 0 15.6855C0.00612096 16.4297 0.0630166 17.1726 0.170292 17.9091C1.08699 17.6312 2.03177 17.4562 2.98718 17.3874C6.46952 17.1254 10.3087 18.0957 13.7927 20.1207C17.2766 22.1458 20.023 25.0018 21.5209 28.1543C21.935 29.018 22.2508 29.9254 22.4624 30.8595C23.1555 30.5878 23.8294 30.2694 24.4794 29.9066C25.0011 26.0213 21.3268 20.656 15.4609 17.2485Z",fill:"url(#paint4_linear_11565_169621)"}),(0,nf.jsx)("path",{d:"M30.1434 15.3141C28.3082 12.3036 25.1724 9.40969 21.3158 7.17039C17.4593 4.93109 13.3977 3.64033 9.87257 3.53674C7.1853 3.45919 5.10382 4.11053 4.02457 5.34109C8.50588 4.58182 14.4168 5.85794 20.146 9.18625C25.8753 12.5146 29.9135 17.0181 31.4722 21.2868C32.0064 19.7406 31.5416 17.6098 30.1434 15.3141Z",fill:"url(#paint5_linear_11565_169621)"})]})}),(0,nf.jsxs)("defs",{children:[(0,nf.jsxs)("filter",{id:"filter0_d_11565_169621",x:"-22.7449",y:"-20.4704",width:"77.7749",height:"77.4898",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,nf.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,nf.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,nf.jsx)("feOffset",{dy:"2.27449"}),(0,nf.jsx)("feGaussianBlur",{stdDeviation:"11.3724"}),(0,nf.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,nf.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,nf.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_11565_169621"}),(0,nf.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_11565_169621",result:"shape"})]}),(0,nf.jsxs)("linearGradient",{id:"paint0_linear_11565_169621",x1:"21.5",y1:"6.5",x2:"6.66667",y2:"32",gradientUnits:"userSpaceOnUse",children:[(0,nf.jsx)("stop",{offset:"0.0001",stopColor:"currentColor"}),(0,nf.jsx)("stop",{offset:"1",stopColor:"currentColor"})]}),(0,nf.jsxs)("linearGradient",{id:"paint1_linear_11565_169621",x1:"21.5",y1:"6.5",x2:"6.66667",y2:"32",gradientUnits:"userSpaceOnUse",children:[(0,nf.jsx)("stop",{offset:"0.0001",stopColor:"currentColor"}),(0,nf.jsx)("stop",{offset:"1",stopColor:"currentColor"})]}),(0,nf.jsxs)("linearGradient",{id:"paint2_linear_11565_169621",x1:"21.5",y1:"6.5",x2:"6.66667",y2:"32",gradientUnits:"userSpaceOnUse",children:[(0,nf.jsx)("stop",{offset:"0.0001",stopColor:"currentColor"}),(0,nf.jsx)("stop",{offset:"1",stopColor:"currentColor"})]}),(0,nf.jsxs)("linearGradient",{id:"paint3_linear_11565_169621",x1:"21.5",y1:"6.5",x2:"6.66667",y2:"32",gradientUnits:"userSpaceOnUse",children:[(0,nf.jsx)("stop",{offset:"0.0001",stopColor:"currentColor"}),(0,nf.jsx)("stop",{offset:"1",stopColor:"currentColor"})]}),(0,nf.jsxs)("linearGradient",{id:"paint4_linear_11565_169621",x1:"21.5",y1:"6.5",x2:"6.66667",y2:"32",gradientUnits:"userSpaceOnUse",children:[(0,nf.jsx)("stop",{offset:"0.0001",stopColor:"currentColor"}),(0,nf.jsx)("stop",{offset:"1",stopColor:"currentColor"})]}),(0,nf.jsxs)("linearGradient",{id:"paint5_linear_11565_169621",x1:"21.5",y1:"6.5",x2:"6.66667",y2:"32",gradientUnits:"userSpaceOnUse",children:[(0,nf.jsx)("stop",{offset:"0.0001",stopColor:"currentColor"}),(0,nf.jsx)("stop",{offset:"1",stopColor:"currentColor"})]}),(0,nf.jsx)("clipPath",{id:"clip0_11565_169621",children:(0,nf.jsx)("rect",{width:"32.2852",height:"32",fill:"white"})})]})]})),nw=l(90639),nv=()=>(0,nw.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,nw.jsxs)("g",{clipPath:"url(#clip0_7547_116874)",children:[(0,nw.jsx)("circle",{cx:"20",cy:"20",r:"20",fill:"#F04A44"}),(0,nw.jsx)("path",{d:"M19.8444 25.4321C18.6773 25.4332 17.7205 24.5092 17.6793 23.3431L17.1718 9.04107C17.1507 8.45326 17.3706 7.88344 17.7786 7.46056C18.1867 7.03768 18.7492 6.7998 19.337 6.7998H20.3519C20.9397 6.7998 21.5021 7.03768 21.9102 7.46056C22.3183 7.88344 22.5382 8.45329 22.5171 9.04107L22.0096 23.3431C21.9684 24.5092 21.0116 25.4332 19.8444 25.4321Z",fill:"white"}),(0,nw.jsx)("path",{d:"M22.8893 30.4989C22.8893 32.1809 21.5266 33.5436 19.8446 33.5436C18.1626 33.5436 16.7998 32.1809 16.7998 30.4989C16.7998 28.8169 18.1626 27.4541 19.8446 27.4541C21.5266 27.4541 22.8893 28.8169 22.8893 30.4989Z",fill:"white"})]}),(0,nw.jsx)("defs",{children:(0,nw.jsx)("clipPath",{id:"clip0_7547_116874",children:(0,nw.jsx)("rect",{width:"40",height:"40",fill:"white"})})})]}),nj=()=>{let{displayMode:e,lastSwapResult:t,reset:l,swapping:{txStatus:n},fromTokenInfo:i,toTokenInfo:r,refresh:s}=tr(),{screen:a,setScreen:o}=eo(),[u,d]=(0,nc.useState)(""),c=()=>{l(),d(""),o("Initial"),s()},x=()=>{l({resetValues:!1}),d(""),o("Initial"),s()};(0,nc.useEffect)(()=>{var e,l,n,i;if("Swapping"===a){if((null==t?void 0:t.swapResult)&&"error"in(null==t?void 0:t.swapResult)){d((null==(l=null==(e=null==t?void 0:t.swapResult)?void 0:e.error)?void 0:l.message)||""),window.Jupiter.onSwapError&&window.Jupiter.onSwapError({error:null==(n=null==t?void 0:t.swapResult)?void 0:n.error,quoteResponseMeta:null==t?void 0:t.quoteReponse});return}if((null==t?void 0:t.swapResult)&&"txid"in(null==t?void 0:t.swapResult)){window.Jupiter.onSuccess&&window.Jupiter.onSuccess({txid:null==(i=null==t?void 0:t.swapResult)?void 0:i.txid,swapResult:null==t?void 0:t.swapResult,quoteResponseMeta:null==t?void 0:t.quoteReponse});return}}},[t,a]);let m=()=>{e&&"modal"!==e||window.Jupiter.close(),l(),o("Initial")},{explorer:p,getExplorer:h}=lG(),f=(null==n?void 0:n.status)==="loading"||(null==n?void 0:n.status)==="pending-approval"||(null==n?void 0:n.status)==="sending";return(0,nw.jsxs)("div",{className:"flex flex-col h-full w-full px-2",children:[u||(null==n?void 0:n.status)==="fail"?(0,nw.jsx)("div",{className:"",children:(0,nw.jsxs)("div",{className:"flex flex-col items-center justify-center text-center mt-12",children:[(0,nw.jsx)(nv,{}),(0,nw.jsx)("p",{className:"text-primary-text mt-2",children:"Swap Failed"}),(0,nw.jsx)("p",{className:"text-primary-text/50 text-xs mt-2",children:"We were unable to complete the swap, please try again."}),u?(0,nw.jsx)("p",{className:"text-primary-text/50 text-xs mt-2 break-all",children:u}):"",(0,nw.jsx)(t_,{size:"lg",className:"w-full mt-6 disabled:opacity-50 !text-uiv2-text/75 leading-none !max-h-14 bg-primary",onClick:x,children:(0,nw.jsx)("span",{children:"Retry"})})]})}):null,u||(null==n?void 0:n.status)!=="timeout"?null:(0,nw.jsx)("div",{className:"flex justify-center",children:(0,nw.jsxs)("div",{className:"flex flex-col items-center justify-center text-center mt-12",children:[(0,nw.jsx)(nv,{}),(0,nw.jsx)("p",{className:"text-primary-text mt-2",children:"Transaction timed-out"}),(0,nw.jsx)("p",{className:"text-primary-text/50 text-xs mt-2",children:"We were unable to complete the swap, please try again."}),u?(0,nw.jsx)("p",{className:"text-primary-text/50 text-xs mt-2",children:u}):"",(0,nw.jsx)(t_,{size:"lg",className:"w-full mt-6 disabled:opacity-50 !text-uiv2-text/75 leading-none !max-h-14 bg-primary",onClick:x,children:(0,nw.jsx)("span",{children:"Retry"})})]})}),!u&&f?(0,nw.jsx)(()=>(0,nw.jsxs)(nw.Fragment,{children:[(0,nw.jsx)("div",{className:"flex w-full justify-center",children:(0,nw.jsx)("div",{className:"text-primary-text",children:"Swapping"})}),(0,nw.jsx)("div",{className:"flex w-full justify-center items-center mt-9",children:(0,nw.jsx)("div",{className:"h-16 w-16 animate-hue duration-100",children:(0,nw.jsx)(ng,{width:64,height:64})})}),(0,nw.jsx)("div",{className:"flex flex-col w-full justify-center items-center px-5 mt-7",children:f&&(0,nw.jsxs)("div",{className:"flex items-center w-full rounded-xl p-4 bg-module mb-2",children:[(0,nw.jsx)(nm,{spinnerColor:"white"}),(0,nw.jsx)("div",{className:"ml-4 flex w-full justify-between",children:(0,nw.jsxs)("span",{className:"text-primary-text text-sm",children:["loading"===n.status&&"Preparing transactions","pending-approval"===n.status&&"Pending Approval","sending"===n.status&&"Swapping"]})})]})})]}),{}):null,u||(null==n?void 0:n.status)!=="success"?null:(0,nw.jsx)(()=>{let{inputAmount:l,outputAmount:n,explorerLink:s}=(0,nc.useMemo)(()=>({inputAmount:(null==t?void 0:t.swapResult)&&"inputAmount"in(null==t?void 0:t.swapResult)?null==t?void 0:t.swapResult.inputAmount:0,outputAmount:(null==t?void 0:t.swapResult)&&"outputAmount"in(null==t?void 0:t.swapResult)?null==t?void 0:t.swapResult.outputAmount:0,explorerLink:(null==t?void 0:t.swapResult)&&"txid"in(null==t?void 0:t.swapResult)?h(null==t?void 0:t.swapResult.txid):""}),[]);return i&&r&&(null==t?void 0:t.quoteReponse)?(0,nw.jsxs)(nw.Fragment,{children:[(0,nw.jsx)("div",{className:"flex justify-center mt-8",children:(0,nw.jsxs)("div",{className:" flex justify-center relative  items-center",children:[(0,nw.jsx)("div",{className:"bg-success bg-opacity-[15%]  animate-pulse  h-[60px] w-[60px] rounded-full"}),(0,nw.jsx)("div",{className:"rounded-full absolute  justify-center",children:(0,nw.jsx)(nh,{className:"text-success",height:56,width:56})})]})}),(0,nw.jsxs)("div",{className:"flex flex-col justify-center items-center gap-y-2",children:[(0,nw.jsxs)("div",{className:"mt-2 flex flex-col items-center justify-center text-center px-4",children:[(0,nw.jsxs)("p",{className:"text-xs font-semibold text-primary-text",children:["Swapped ",eN(l,i.decimals)," ",i.symbol," to"]}),(0,nw.jsxs)("p",{className:"text-2xl font-semibold text-primary-text",children:[eN(n,r.decimals)," ",r.symbol]})]}),(0,nw.jsxs)("div",{className:" bg-module rounded-xl overflow-y-auto w-full webkit-scrollbar py-3 max-h-[260px]  px-3",children:[(0,nw.jsx)(ln,{quoteResponse:null==t?void 0:t.quoteReponse,fromTokenInfo:i,toTokenInfo:r,loading:!1,containerClassName:" border-none mt-0"}),s&&(0,nw.jsxs)("div",{className:"flex items-center justify-between text-xs text-primary-text/50  mt-4",children:[(0,nw.jsx)("div",{children:(0,nw.jsx)("span",{children:"Transaction"})}),(0,nw.jsxs)("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"cursor-pointer text-primary-text ml-2 text-xs hover:underline",children:["View on ",p]})]})]})]}),(0,nw.jsxs)("div",{className:"pb-4 flex space-x-2",children:[(0,nw.jsx)(t_,{size:"lg",className:"w-full mt-4 disabled:opacity-50 !text-uiv2-text/75 leading-none !max-h-14 bg-primary",onClick:c,children:(0,nw.jsx)("span",{children:(0,nw.jsx)("span",{className:"text-sm",children:"Swap More"})})}),"integrated"!==e?(0,nw.jsx)(t_,{size:"lg",className:"w-full mt-4 disabled:opacity-50 leading-none !max-h-14 text-primary-text bg-interactive",onClick:m,children:(0,nw.jsx)("span",{className:"text-sm",children:"Close"})}):null]})]}):null},{})]})},ny=l(14651),nb=l(23591),nC=l(90639),nN=({width:e=20,height:t=20})=>(0,nC.jsx)("svg",{width:e,height:t,viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,nC.jsx)("path",{d:"M2.0336 16.2126L8.2336 10.0126L2.0336 3.81263C1.7961 3.57903 1.66172 3.25951 1.66016 2.92669C1.65938 2.59309 1.79141 2.27357 2.02734 2.03763C2.26328 1.80247 2.5828 1.67045 2.9164 1.67201C3.25 1.67357 3.56874 1.80795 3.80234 2.04623L9.99994 8.24623L16.1999 2.04623C16.4335 1.80795 16.7523 1.67357 17.0859 1.67201C17.4187 1.67045 17.739 1.80248 17.9749 2.03763C18.2109 2.27357 18.3429 2.59309 18.3413 2.92669C18.3406 3.25951 18.2062 3.57903 17.9687 3.81263L11.7663 10.0126L17.9663 16.2126C18.2038 16.4462 18.3382 16.7658 18.3397 17.0986C18.3405 17.4322 18.2085 17.7517 17.9725 17.9876C17.7366 18.2228 17.4171 18.3548 17.0835 18.3533C16.7499 18.3517 16.4311 18.2173 16.1975 17.979L9.99994 11.779L3.79994 17.979C3.31088 18.4611 2.52494 18.4579 2.039 17.9736C1.55384 17.4884 1.54994 16.7025 2.03119 16.2126L2.0336 16.2126Z",fill:"currentColor"})}),nS=l(90639),nk=()=>{let{setScreen:e}=eo(),{handleConnectClick:t}=(0,ny.useUnifiedWalletContext)(),{wallets:l}=eF(),n=(l,n)=>y(void 0,null,function*(){try{yield t(l,n.adapter)}catch(e){console.error("Failed to connect wallet:",e)}finally{e("Initial")}}),i=(0,nb.useMemo)(()=>null==l?void 0:l.length,[l]),r=(0,nb.useMemo)(()=>i>0,[i]);return(0,nS.jsxs)("div",{className:"text-primary-text p-2",children:[(0,nS.jsxs)("div",{className:"flex justify-between items-center mb-2 h-[28px] ",children:[(0,nS.jsxs)("h1",{className:"text-sm font-bold",children:["Available Wallets (",i,")"]}),(0,nS.jsx)("button",{onClick:()=>e("Initial"),className:"text-primary-text hover:text-primary-text/50 transition-colors bg-interactive rounded-full p-1",children:(0,nS.jsx)(nN,{width:15,height:15})})]}),!r&&(0,nS.jsx)("div",{className:"text-sm font-medium text-primary-text flex items-center justify-center h-full py-4",children:"No wallet found"}),(0,nS.jsx)("div",{className:"grid grid-cols-2 gap-2",children:null==l?void 0:l.map(e=>(0,nS.jsx)("button",{onClick:t=>n(t,e),className:"w-full text-left bg-interactive p-4 rounded-lg transition-colors hover:bg-interactive/80 cursor-pointer",children:(0,nS.jsx)("div",{className:"flex items-center justify-between",children:(0,nS.jsxs)("div",{className:"flex items-center gap-3",children:[e.adapter.icon&&(0,nS.jsx)("img",{src:e.adapter.icon,alt:`${e.adapter.name} icon`,className:"w-8 h-8"}),(0,nS.jsx)("div",{children:(0,nS.jsx)("h2",{className:"text-sm font-medium",children:e.adapter.name})})]})})},e.adapter.name))})]})},nM=l(90639),nE=()=>{let{screen:e}=eo();return(0,nM.jsxs)("div",{id:"jupiter-terminal",className:" h-full bg-background relative flex flex-col justify-between",children:[(0,nM.jsxs)("div",{children:["Initial"===e?(0,nM.jsxs)(nM.Fragment,{children:[(0,nM.jsx)(tN,{}),(0,nM.jsx)(na,{})]}):null,"Confirmation"===e?(0,nM.jsx)(nd,{}):null,"Swapping"===e?(0,nM.jsx)(nj,{}):null,"Wallet"===e?(0,nM.jsx)(nk,{}):null]}),(0,nM.jsxs)("span",{className:"text-primary-text/50 text-xs p-2 flex-row flex gap-1  justify-center",children:["Powered by",(0,nM.jsxs)("a",{href:"https://jup.ag",target:"_blank",rel:"noreferrer noopener",className:"flex items-center gap-1 ",children:[(0,nM.jsx)(ng,{className:"text-primary-text/50",width:15,height:15}),"Jupiter"]})]})]})},nL=e=>(0,nM.jsx)(ta,g(f({},e),{children:(0,nM.jsx)(tb,g(f({},e),{children:(0,nM.jsx)(nE,{})}))})),nR=l(14651),nV=j(l(23591)),nA=l(23591),n_=l(90639),nP=()=>{},nT=({autoConnect:e,children:t})=>{let l=(()=>{if("undefined"!=typeof window)return window.Jupiter.enableWalletPassthrough})(),n=(0,nA.useMemo)(()=>[],[l]),[i,r]=(0,nV.useState)({show:!1,message:""}),s=(0,nA.useMemo)(()=>l?nV.default.Fragment:({children:t})=>(0,n_.jsx)(nR.UnifiedWalletProvider,{wallets:n,config:{env:"mainnet-beta",autoConnect:void 0===e||e,metadata:{name:"Jupiter Terminal",url:"https://terminal.jup.ag",description:"An open-sourced, lite version of Jupiter that provides end-to-end swap flow by linking it in your HTML. Check out the visual demo for the various integration modes below.          ",iconUrls:[]},hardcodedWallets:[],walletPrecedence:[],notificationCallback:{onConnect:nP,onConnecting:nP,onDisconnect:nP,onNotInstalled:({walletName:e,metadata:t})=>{r({show:!0,message:(0,n_.jsxs)("p",{className:"space-y-1",children:[e," is not installed.",(0,n_.jsxs)("p",{className:"space-x-1",children:[(0,n_.jsxs)("a",{className:"underline font-semibold",target:"_blank",rel:"noopener noreferrer",href:t.url,children:["Visit ",e," website"]}),(0,n_.jsx)("span",{children:"to install it."})]})]})}),setTimeout(()=>{r({show:!1,message:""})},5e3)}},theme:"jupiter"},children:t}),[e,l,n]);return(0,n_.jsxs)(n_.Fragment,{children:[(0,n_.jsx)(s,{children:t}),i.show&&i.message?(0,n_.jsx)("div",{className:"absolute bottom-2 w-full px-2",children:(0,n_.jsx)("div",{className:"w-full h-full bg-white/10 rounded-lg p-2 text-warning text-xs",children:i.message})}):null]})},nF=e=>(0,n_.jsx)(n_.Fragment,{children:(0,n_.jsx)(nT,g(f({},e),{children:(0,n_.jsx)(lK,{defaultExplorer:e.defaultExplorer,children:e.children})}))}),nI=l(64981),n$=l(23591),nO=l(90639),nB=()=>{let e=(0,n$.useMemo)(()=>new nI.QueryClient,[]),[t]=(0,ei.useAtom)(X);return t?(0,nO.jsx)(nI.QueryClientProvider,{client:e,children:(0,nO.jsx)(nF,g(f({},t),{children:(0,nO.jsx)(e$,{children:(0,nO.jsx)(eu,{children:(0,nO.jsx)(nL,f({},t))})})}))}):null},nW=()=>(0,nO.jsx)(ei.Provider,{store:"undefined"!=typeof window?window.Jupiter.store:void 0,children:(0,nO.jsx)(nB,{})});function nq(e){return y(this,null,function*(){window.Jupiter={init:nq,resume:et,close:el,appProps:X,syncProps:en},window.JupiterRenderer={RenderJupiter:nW},yield function(e){return y(this,null,function*(){var t;let l;if("undefined"==typeof window||"undefined"==typeof document)return null;let n=f({},e),{enableWalletPassthrough:i,passthroughWalletContextState:r,onRequestConnectWallet:s,onSwapError:a,onSuccess:o,onFormUpdate:u,onScreenUpdate:d,integratedTargetId:c}=n,x=w(n,["enableWalletPassthrough","passthroughWalletContextState","onRequestConnectWallet","onSwapError","onSuccess","onFormUpdate","onScreenUpdate","integratedTargetId"]),m=document.createElement("div"),p=document.getElementById(q);if(window.Jupiter.store=Y,Y.set(X,g(f({},n),{scriptDomain:U})),_(!1),p&&(window.Jupiter._instance=null,p.remove(),null==(t=window.Jupiter.root)||t.unmount()),m.id=q,m.classList.add("w-full"),m.classList.add("h-full"),"integrated"===x.displayMode){let e=document.getElementById(c);if(!e)throw Error(`Jupiter Terminal: document.getElementById cannot find ${c}`);null==e||e.appendChild(m)}else document.body.appendChild(m);i?(window.Jupiter.enableWalletPassthrough=!0,window.Jupiter.onRequestConnectWallet=s):window.Jupiter.enableWalletPassthrough=!1,l="widget"===x.displayMode?(0,W.jsx)(Q,f({},n)):(0,W.jsx)(G,f({},n));let h=[`${U}/${J}-Tailwind.css`,`${U}/scoped-preflight-v4.css`,`${U}/${J}-Jupiter.css`,"https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Poppins&display=swap"],v=(0,N.createRoot)(m);v.render((0,W.jsx)(B,{stylesheetUrls:h,children:l})),window.Jupiter.root=v,window.Jupiter._instance=l,window.Jupiter.onSwapError=a,window.Jupiter.onSuccess=o,window.Jupiter.onFormUpdate=u,window.Jupiter.onScreenUpdate=d,window.Jupiter.localStoragePrefix=e.localStoragePrefix||"jupiter-terminal"})}(e)})}}}]);