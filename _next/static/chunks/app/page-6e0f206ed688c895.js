(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{62387:(e,t,a)=>{Promise.resolve().then(a.bind(a,92813))},63514:()=>{},92813:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eK});var r=a(90639),s=a(23591),n=a(11573),l=a(56516),i=a(78418),o=a(55565);function c(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,o.QP)((0,i.$)(t))}let d=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,asChild:i=!1,...o}=e,m=i?n.DX:"button";return(0,r.jsx)(m,{className:c(d({variant:s,size:l,className:a})),ref:t,...o})});function u(e){let{card:t,index:a=0,isDealing:n=!1,size:l="normal"}=e,[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),m=(0,s.useRef)(null),u="large"===l?"w-[70px] sm:w-[110px]":"w-[60px] sm:w-[100px]",x="large"===l?"h-[98px] sm:h-[110px]":"h-[84px] sm:h-[100px]";if((0,s.useEffect)(()=>{if(a>0){let e=setTimeout(()=>{o(!0)},150*a);return()=>clearTimeout(e)}o(!0)},[a]),(0,s.useEffect)(()=>{if(!1===t.hidden&&i){d(!0);let e=setTimeout(()=>d(!1),400);return()=>clearTimeout(e)}},[t.hidden,i]),(0,s.useEffect)(()=>{if(m.current&&n&&m.current)return m.current.style.willChange="transform",()=>{m.current&&(m.current.style.willChange="auto")}},[n]),(0,s.useEffect)(()=>{window.matchMedia("(prefers-reduced-motion: reduce)").matches&&m.current&&(o(!0),d(!1))},[]),(0,s.useEffect)(()=>{i&&window.playCardSound&&setTimeout(()=>window.playCardSound(),150*a)},[i,a]),t.hidden)return(0,r.jsx)("div",{ref:m,className:"".concat(u," ").concat(x," rounded-md shadow-lg transform transition-all duration-300 ").concat(i?"translate-y-0 opacity-100":"translate-y-4 opacity-0"," ").concat(c?"animate-flip":""),style:{contain:"layout paint style",backfaceVisibility:"hidden"},children:(0,r.jsxs)("div",{className:"w-full h-full bg-gradient-to-br from-purple-600 to-purple-800 border-2 border-amber-400 rounded-md flex items-center justify-center relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,r.jsx)("div",{className:"absolute top-2 left-2 w-4 h-4 bg-amber-400 rounded-full"}),(0,r.jsx)("div",{className:"absolute top-2 right-2 w-4 h-4 bg-amber-400 rounded-full"}),(0,r.jsx)("div",{className:"absolute bottom-2 left-2 w-4 h-4 bg-amber-400 rounded-full"}),(0,r.jsx)("div",{className:"absolute bottom-2 right-2 w-4 h-4 bg-amber-400 rounded-full"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-amber-400 rounded-full flex items-center justify-center mb-1",children:(0,r.jsx)("span",{className:"text-purple-800 font-black text-xs",children:"BJ"})}),(0,r.jsx)("div",{className:"text-amber-400 font-bold text-xs",children:"COIN"})]})]})});let h="♥"===t.suit||"♦"===t.suit?"text-red-600":"text-black";return(0,r.jsxs)("div",{ref:m,className:"".concat(u," ").concat(x," bg-white rounded-md border-2 border-gray-300 shadow-lg transform transition-all duration-300 ").concat(i?"translate-y-0 opacity-100":"translate-y-4 opacity-0"," ").concat(n?"animate-bounce":""," ").concat(c?"animate-flip":""," relative"),style:{contain:"layout paint style",backfaceVisibility:"hidden"},children:[(0,r.jsxs)("div",{className:"absolute top-0.5 left-0.5 sm:top-1 sm:left-1 ".concat(h," font-bold ").concat("large"===l?"text-sm sm:text-lg":"text-xs sm:text-base"," leading-none"),children:[(0,r.jsx)("div",{children:t.rank}),(0,r.jsx)("div",{children:t.suit})]}),(0,r.jsxs)("div",{className:"absolute bottom-0.5 right-0.5 sm:bottom-1 sm:right-1 ".concat(h," font-bold ").concat("large"===l?"text-sm sm:text-lg":"text-xs sm:text-base"," leading-none transform rotate-180"),children:[(0,r.jsx)("div",{children:t.rank}),(0,r.jsx)("div",{children:t.suit})]}),(0,r.jsx)("div",{className:"flex flex-col items-center justify-center h-full",children:["A","K","Q","J"].includes(t.rank)?(0,r.jsx)("div",{className:"".concat(h," ").concat("large"===l?"text-2xl sm:text-4xl":"text-xl sm:text-3xl"," font-bold"),children:t.rank}):(0,r.jsx)("div",{className:"".concat(h," ").concat("large"===l?"text-2xl sm:text-4xl":"text-xl sm:text-3xl"),children:t.suit})})]})}m.displayName="Button";var x=a(90779),h=a(87362),p=a(51843);let b=h.bL;h.l9;let g=h.ZL;h.bm;let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(h.hJ,{ref:t,className:c("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});f.displayName=h.hJ.displayName;let y=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(g,{children:[(0,r.jsx)(f,{}),(0,r.jsxs)(h.UC,{title:"test",ref:t,className:c("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...n,children:[(0,r.jsx)(v,{children:s}),(0,r.jsxs)(h.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(p.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});y.displayName=h.UC.displayName;let v=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(h.hE,{ref:t,className:c("text-lg font-semibold leading-none tracking-tight",a),...s})});v.displayName=h.hE.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(h.VY,{ref:t,className:c("text-sm text-muted-foreground",a),...s})}).displayName=h.VY.displayName;let j=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:c("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});j.displayName="Card";let w=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:c("flex flex-col space-y-1.5 p-6",a),...s})});w.displayName="CardHeader";let N=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:c("text-2xl font-semibold leading-none tracking-tight",a),...s})});N.displayName="CardTitle",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:c("text-sm text-muted-foreground",a),...s})}).displayName="CardDescription";let k=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:c("p-6 pt-0",a),...s})});k.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:c("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter";var S=a(79828);let B=s.forwardRef((e,t)=>{let{className:a,orientation:s="horizontal",decorative:n=!0,...l}=e;return(0,r.jsx)(S.b,{ref:t,decorative:n,orientation:s,className:c("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",a),...l})});function T(e){let{show:t,onClose:a,onStartDemo:s}=e;return(0,r.jsx)(b,{open:t,onOpenChange:a,children:(0,r.jsx)(y,{className:"bg-gradient-to-br from-black via-gray-900 to-black border-amber-400/60 border-2 shadow-2xl rounded-2xl p-0 max-w-lg w-full",children:(0,r.jsxs)(j,{className:"bg-transparent border-none shadow-none",children:[(0,r.jsx)(w,{className:"flex flex-row items-center justify-between px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-amber-500/20 border border-amber-400/40 shadow",children:(0,r.jsx)(x.A,{className:"w-6 h-6 text-amber-400"})}),(0,r.jsx)(N,{className:"text-2xl font-extrabold text-amber-400 tracking-wide",children:"What is $BJ?"})]})}),(0,r.jsx)(B,{className:"bg-amber-400/20 mb-2"}),(0,r.jsx)("div",{className:"w-full aspect-video bg-black rounded-t-2xl overflow-hidden flex items-center justify-center",children:(0,r.jsx)("video",{className:"w-full h-full object-cover",src:"/video/bj-explainer.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:"Sorry, your browser does not support embedded videos."})}),(0,r.jsx)(B,{className:"bg-amber-400/20 mb-2"}),(0,r.jsxs)(k,{className:"space-y-4 px-6 pb-6",children:[(0,r.jsxs)("div",{className:"space-y-3 text-sm text-gray-300",children:[(0,r.jsx)("p",{children:"$BJ is the gaming currency for Premium Blackjack."}),(0,r.jsx)("div",{className:"bg-gray-800/50 rounded-lg p-3",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{children:"• All bets placed with $BJ tokens"}),(0,r.jsx)("div",{children:"• Chips show dollar values ($10 = $10 worth of $BJ)"}),(0,r.jsx)("div",{children:"• Available on pump.fun"}),(0,r.jsx)("div",{children:"• Trade back to SOL anytime"})]})})]}),(0,r.jsxs)(m,{onClick:()=>{a(),s()},className:"w-full bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-500 hover:to-emerald-600 text-white font-bold py-3 rounded-lg",children:[(0,r.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Try Demo Now"]})]})]})})})}function A(e){let[t,a]=(0,s.useState)(()=>{let t=e.get("fromChain");if(t)return parseInt(t)});return(0,s.useEffect)(()=>{let t=e.get("fromChain");t&&a(parseInt(t))},[e]),t}function C(e){return(0,s.useMemo)(()=>{var t,a,r,s,n,l;let i=null===(t=e.get("allowBridges"))||void 0===t?void 0:t.split(",").filter(Boolean),o=null===(a=e.get("denyBridges"))||void 0===a?void 0:a.split(",").filter(Boolean),c=null===(r=e.get("allowExchanges"))||void 0===r?void 0:r.split(",").filter(Boolean),d=null===(s=e.get("denyExchanges"))||void 0===s?void 0:s.split(",").filter(Boolean),m=null===(n=e.get("allowChains"))||void 0===n?void 0:n.split(",").map(Number).filter(Boolean),u=null===(l=e.get("denyChains"))||void 0===l?void 0:l.split(",").map(Number).filter(Boolean),x={};return((null==i?void 0:i.length)||(null==o?void 0:o.length))&&(x.bridges={},(null==i?void 0:i.length)&&(x.bridges.allow=i),(null==o?void 0:o.length)&&(x.bridges.deny=o)),((null==c?void 0:c.length)||(null==d?void 0:d.length))&&(x.exchanges={},(null==c?void 0:c.length)&&(x.exchanges.allow=c),(null==d?void 0:d.length)&&(x.exchanges.deny=d)),((null==m?void 0:m.length)||(null==u?void 0:u.length))&&(x.chains={},(null==m?void 0:m.length)&&(x.chains.allow=m),(null==u?void 0:u.length)&&(x.chains.deny=u)),x},[e])}function P(e){let{onStartDemo:t,showFairness:n,setShowFairness:l}=e,[i,o]=(0,s.useState)([]),[c,d]=(0,s.useState)(0),[h,p]=(0,s.useState)(!1),[b,g]=(0,s.useState)("dealing"),[f,y]=(0,s.useState)("100"),[v,j]=(0,s.useState)("SOL"),[w,N]=(0,s.useState)("BJ"),[k,S]=(0,s.useState)(!1),B=function(){let[e,t]=(0,s.useState)(new URLSearchParams);return(0,s.useEffect)(()=>{t(new URLSearchParams(window.location.search))},[]),e}();C(B),A(B);let[P,H]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{H(!0)},[]),(0,s.useEffect)(()=>{Promise.all([a.e(597),a.e(162),a.e(666)]).then(a.t.bind(a,50587,23)).then(e=>{let{init:t}=e;t({displayMode:"integrated",integratedTargetId:"jupiter-terminal"})})},[]),(0,s.useEffect)(()=>{o([{suit:"♠",rank:"K",value:10},{suit:"♥",rank:"Q",value:10},{suit:"♦",rank:"A",value:11},{suit:"♣",rank:"J",value:10}]),setTimeout(()=>p(!0),1e3)},[]),(0,s.useEffect)(()=>{if(h&&c<i.length){let e=setTimeout(()=>{d(e=>e+1)},600);return()=>clearTimeout(e)}c===i.length&&setTimeout(()=>g("complete"),500)},[h,c,i.length]),(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black text-white relative overflow-hidden",children:[(0,r.jsx)("header",{className:"relative bg-black/90 border-b border-gray-700/50 backdrop-blur-xl py-6 px-6",children:(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)("img",{src:"/images/void-casino-logo.png",alt:"Premium Blackjack",className:"h-14 object-contain"})})}),(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center py-4 sm:py-8",children:(0,r.jsxs)("div",{className:"w-full max-w-4xl",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-4xl sm:text-6xl font-black mb-4 bg-gradient-to-r from-amber-400 via-yellow-500 to-amber-400 bg-clip-text text-transparent leading-tight",children:"Solana Blackjack"}),(0,r.jsx)("p",{className:"text-lg sm:text-xl text-gray-300 mb-6 font-light max-w-2xl mx-auto",children:"On-chain - Provably fair - Instant payouts"})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border border-gray-700/50 rounded-3xl p-6 sm:p-8 mb-8 backdrop-blur-sm shadow-2xl",children:[(0,r.jsx)("div",{className:"relative mb-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 sm:gap-4 min-h-[200px]",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"bg-black/60 backdrop-blur-sm rounded-lg px-3 py-2 mb-3 border border-gray-600/50",children:[(0,r.jsx)("div",{className:"text-sm font-bold text-white",children:"DEALER"}),(0,r.jsx)("div",{className:"text-lg text-amber-400 font-black",children:"20"})]}),(0,r.jsx)("div",{className:"flex gap-1 sm:gap-2",children:i.slice(0,2).map((e,t)=>(0,r.jsx)("div",{className:"transform transition-all duration-700 ".concat(c>t?"translate-y-0 opacity-100 rotate-0":"translate-y-12 opacity-0 rotate-12"),children:(0,r.jsx)("div",{className:"scale-75 sm:scale-90",children:(0,r.jsx)(u,{card:1===t&&"dealing"===b?{...e,hidden:!0}:e,index:t,isDealing:c===t})})},"dealer-".concat(t)))})]}),(0,r.jsx)("div",{className:"flex flex-col items-center",children:(0,r.jsx)("img",{src:"/images/front-card.png",alt:"VS",className:"max-h-40 aspect-square h-full"})}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"bg-black/60 backdrop-blur-sm rounded-lg px-3 py-2 mb-3 border border-emerald-500/50",children:[(0,r.jsx)("div",{className:"text-sm font-bold text-white",children:"YOU"}),(0,r.jsx)("div",{className:"text-lg text-emerald-400 font-black",children:"21"})]}),(0,r.jsx)("div",{className:"flex gap-1 sm:gap-2",children:i.slice(2,4).map((e,t)=>(0,r.jsx)("div",{className:"transform transition-all duration-700 ".concat(c>t+2?"translate-y-0 opacity-100 rotate-0":"translate-y-12 opacity-0 -rotate-12"),children:(0,r.jsx)("div",{className:"scale-75 sm:scale-90",children:(0,r.jsx)(u,{card:e,index:t+2,isDealing:c===t+2})})},"player-".concat(t)))})]})]})}),(0,r.jsxs)("div",{className:"text-center mb-6 flex flex-col items-center justify-center",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-4 max-w-[300px] w-full",children:[(0,r.jsxs)(m,{onClick:t,className:"w-full bg-[#5B3DF6] hover:bg-[#6C4FFF] text-white font-bold text-lg sm:text-xl px-8 sm:px-12 py-4 sm:py-5 rounded-xl shadow-xl transform transition-all hover:scale-105 hover:shadow-[#6C4FFF]/30 border border-transparent gap-2",children:[(0,r.jsx)(x.A,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Play Demo"]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 w-full",children:[(0,r.jsx)(m,{onClick:()=>S(!0),variant:"outline",className:"w-full text-amber-400 border-amber-400/50 hover:bg-amber-400/10 hover:border-amber-400 font-semibold px-6 py-4 sm:py-5 rounded-xl text-base sm:text-lg",children:"$BJ"}),(0,r.jsx)(m,{onClick:()=>l(!0),variant:"outline",className:"w-full text-amber-400 border-amber-400/50 hover:bg-amber-400/10 hover:border-amber-400 font-semibold px-6 py-4 sm:py-5 rounded-xl text-base sm:text-lg",children:"Provably Fair"})]})]}),(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Start with demo • Connect wallet later for real $BJ"})]}),(0,r.jsxs)("div",{className:"flex items-center my-6",children:[(0,r.jsx)("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-gray-600 to-transparent"}),(0,r.jsx)("span",{className:"px-4 text-gray-400 text-sm font-medium",children:"OR GET TOKENS"}),(0,r.jsx)("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-gray-600 to-transparent"})]}),(0,r.jsx)("div",{className:"bg-black/40 border border-gray-600/50 rounded-2xl p-4 sm:p-6 backdrop-blur-sm",children:(0,r.jsx)("div",{id:"jupiter-terminal"})})]})]})}),(0,r.jsx)("footer",{className:"relative bg-black/80 border-t border-gray-700/50 backdrop-blur-xl py-4 px-4",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto text-center",children:(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"\xa9 2024 Premium Blackjack. Play responsibly. Must be 18+."})})}),(0,r.jsx)(T,{show:k,onClose:()=>S(!1),onStartDemo:t})]})}B.displayName=S.b.displayName,a(21250);var H=a(1871),E=a(6656),D=a(47104),M=a(92888),z=a(34686);function F(e){let{musicEnabled:t,soundEffectsEnabled:a,currentTrack:n,onToggleMusic:l,onToggleSoundEffects:i,onChangeTrack:o}=e,[c,d]=(0,s.useState)(!1),u=[{name:"Casino Lounge",icon:E.A,color:"text-blue-400"}];return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m,{onClick:()=>d(!c),variant:"ghost",size:"sm",className:"text-gray-400 hover:text-amber-400 hover:bg-amber-500/10 rounded-lg border border-gray-700/50 hover:border-amber-500/50",children:(0,r.jsx)(D.A,{className:"w-5 h-5"})}),c&&(0,r.jsx)("div",{className:"absolute top-full left-1/2 -translate-x-[60%] sm:left-auto sm:right-2 sm:translate-x-0 mt-2 bg-gray-900 border border-gray-700/50 rounded-lg shadow-xl z-50 min-w-[280px] p-4",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-white mb-1",children:"Audio Settings"}),(0,r.jsx)("p",{className:"text-xs text-gray-400",children:"Customize your gaming experience"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(E.A,{className:"w-4 h-4 text-amber-400"}),(0,r.jsx)("span",{className:"text-white font-medium",children:"Background Music"})]}),(0,r.jsx)(m,{onClick:l,size:"sm",className:"".concat(t?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-gray-600 hover:bg-gray-700 text-gray-300"," px-3 py-1"),children:t?"ON":"OFF"})]}),t&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"text-sm text-gray-400 font-medium",children:"Select Track:"}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-2",children:u.map((e,t)=>{let a=e.icon;return(0,r.jsxs)("button",{onClick:()=>o(t),className:"\n                            flex items-center gap-3 p-2 rounded-lg transition-all\n                            ".concat(n===t?"bg-amber-500/20 border border-amber-500/50 text-amber-400":"bg-gray-800/50 hover:bg-gray-700/50 text-gray-300 hover:text-white","\n                          "),children:[(0,r.jsx)(a,{className:"w-4 h-4 ".concat(e.color)}),(0,r.jsx)("span",{className:"text-sm font-medium",children:e.name}),n===t&&(0,r.jsx)("div",{className:"ml-auto",children:(0,r.jsx)("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"})})]},t)})})]})]}),(0,r.jsxs)("div",{className:"border-t border-gray-700/50 pt-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[a?(0,r.jsx)(M.A,{className:"w-4 h-4 text-amber-400"}):(0,r.jsx)(z.A,{className:"w-4 h-4 text-gray-500"}),(0,r.jsx)("span",{className:"text-white font-medium",children:"Sound Effects"})]}),(0,r.jsx)(m,{onClick:i,size:"sm",className:"".concat(a?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-gray-600 hover:bg-gray-700 text-gray-300"," px-3 py-1"),children:a?"ON":"OFF"})]}),(0,r.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Chip clicks, card deals, win sounds"})]}),(0,r.jsx)("div",{className:"border-t border-gray-700/50 pt-3",children:(0,r.jsx)(m,{onClick:()=>d(!1),variant:"outline",size:"sm",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-800",children:"Close"})})]})})]})}var R=a(50013),V=a(93113);function O(e){let{balance:t,solBalance:a,onSwapClick:s,isDemo:n,musicEnabled:l,soundEffectsEnabled:i,currentTrack:o,onToggleMusic:c,onToggleSoundEffects:d,onChangeTrack:u}=e,{publicKey:x,connected:h,disconnect:p}=(0,R.v)();return(0,r.jsx)("header",{className:"relative bg-black border-b border-gray-700/50 backdrop-blur-xl py-3 px-4 z-50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between max-w-6xl mx-auto",children:[(0,r.jsx)("div",{className:"flex items-center gap-3 h-12",children:(0,r.jsx)("button",{onClick:()=>window.location.href="",className:"hover:opacity-80 transition-opacity cursor-pointer",title:"Return to Homepage",children:(0,r.jsx)("img",{src:"/images/void-casino-logo.png",alt:"Void Casino",className:"w-10 h-10 object-contain"})})}),(0,r.jsxs)("div",{className:"flex items-center gap-4 h-12",children:[(0,r.jsx)("div",{className:"bg-gray-800/50 rounded-lg px-4 py-2 border border-gray-700/50 h-12 flex items-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-xl font-bold text-emerald-400",children:["$",(n?t:a).toFixed(0)]}),(0,r.jsx)("div",{className:"text-xs text-gray-400",children:n?"DEMO BJ":"BJ COIN"})]})}),(0,r.jsx)(m,{onClick:s,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-500 hover:to-blue-500 text-white font-semibold px-4 py-2 rounded-lg border border-purple-500/50 transition-all duration-300 h-12",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(H.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"hidden md:inline",children:"Swap"})]})}),(0,r.jsx)("div",{className:"h-12 flex items-center",children:(0,r.jsx)(F,{musicEnabled:l,soundEffectsEnabled:i,currentTrack:o,onToggleMusic:c,onToggleSoundEffects:d,onChangeTrack:u})}),h&&x?(0,r.jsx)(V.x,{}):(0,r.jsx)(V.x,{children:"Wallet"})]})]})})}function I(e){let{show:t,result:a,winAmount:n=0,isBlackjack:l=!1,winStreak:i=0,onClose:o}=e,[c,d]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{if(t){d(!0);let e=setTimeout(()=>{o()},"win"===a?3e3:1500);return()=>clearTimeout(e)}d(!1)},[t,a,o]),!t)return null;let m=()=>{if("win"===a){let e="+$".concat(n.toFixed(0)," BJ");return i>1?"".concat(e," • ").concat(i," WIN STREAK!"):e}return"push"===a?"Bet Returned":""},u="win"===a?{bg:l?"bg-yellow-500":"bg-green-500",text:"text-black",border:l?"border-yellow-300":"border-green-300",glow:l?"shadow-yellow-500/50":"shadow-green-500/50"}:"push"===a?{bg:"bg-blue-500",text:"text-white",border:"border-blue-300",glow:"shadow-blue-500/50"}:{bg:"bg-gray-600",text:"text-white",border:"border-gray-400",glow:"shadow-gray-500/50"};return(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 pointer-events-none",children:(0,r.jsx)("div",{className:"\n          ".concat(u.bg," ").concat(u.text," ").concat(u.border,"\n          border-4 rounded-xl px-8 py-6 shadow-2xl ").concat(u.glow,"\n          transform transition-all duration-300\n          ").concat(c?"scale-100 opacity-100":"scale-75 opacity-0","\n        "),children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-3xl font-black mb-2",children:"win"===a?l?"BLACKJACK!":"YOU WIN!":"push"===a?"PUSH":"DEALER WINS"}),m()&&(0,r.jsx)("div",{className:"text-xl font-bold",children:m()})]})})})}function L(e){let{show:t}=e,[a,n]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{if(t){let e=setInterval(()=>{n(!0),setTimeout(()=>n(!1),1e3)},2e3);return()=>clearInterval(e)}},[t]),t)?(0,r.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20 px-2 sm:px-4",children:(0,r.jsx)("div",{className:"\n        bg-gradient-to-r from-amber-500/20 to-amber-600/20 \n        border-2 border-amber-500/50 rounded-xl px-3 sm:px-12 py-1.5 sm:py-4 min-w-[200px] sm:min-w-[300px]\n        backdrop-blur-sm transition-all duration-1000\n        ".concat(a?"scale-105 sm:scale-110 border-amber-400 shadow-amber-500/50 shadow-lg":"scale-100","\n      "),children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-sm sm:text-2xl font-bold text-amber-400 mb-0.5 sm:mb-2 animate-pulse",children:"PLACE YOUR BET"}),(0,r.jsx)("div",{className:"text-xs text-amber-300/80",children:"Choose chips below"})]})})}):null}function U(e){let{gameState:t,onHit:a,onStand:n,onDouble:l,onSplit:i,onNewGame:o,chipStacks:c,winStreak:d,solBalance:x,serverSeed:h,serverSeedHash:p,clientSeed:b,showFairness:g,setShowFairness:f}=e,[y,v]=(0,s.useState)(!1),[j,w]=(0,s.useState)("win"),[N,k]=(0,s.useState)(0),[S,B]=(0,s.useState)(!1),[T,A]=(0,s.useState)(!1),[C,P]=(0,s.useState)(1);(0,s.useEffect)(()=>{"betting"===t.gamePhase&&0===t.currentBet&&P(Math.floor(3*Math.random())+1)},[t.gamePhase,t.currentBet]),(0,s.useEffect)(()=>{if("gameOver"===t.gamePhase&&t.currentBet>0){let e="lose",a=0,r=!1;console.log("gameState",t);let s=21===t.playerScore&&2===t.playerHand.length,n=21===t.dealerScore&&2===t.dealerHand.length;if(t.isSplit){let s=0,l=!1,i=!1;t.splitHands.forEach(e=>{let a=21===e.score&&2===e.cards.length;e.score>21||(a&&!n?(s+=e.bet+1.5*e.bet,l=!0,i=!0):t.dealerScore>21?(s+=2*e.bet,l=!0):e.score>t.dealerScore?(s+=2*e.bet,l=!0):e.score===t.dealerScore&&(s+=e.bet))}),l?(e="win",a=s,r=i):s>0?(e="push",a=s):(e="lose",a=0)}else t.playerScore>21?(e="lose",a=0):s&&!n?(e="win",r=!0,a=t.currentBet+1.5*t.currentBet):t.dealerScore>21?(e="win",a=2*t.currentBet):t.playerScore>t.dealerScore?(e="win",a=2*t.currentBet):t.playerScore===t.dealerScore?(e="push",a=t.currentBet):(e="lose",a=0);w(e),k(a),B(r),"win"===e&&t.currentBet>0&&(A(!0),setTimeout(()=>A(!1),3e3)),setTimeout(()=>{v(!0)},1e3)}},[t.gamePhase,t.message,t.currentBet,t.playerScore,t.dealerScore,t.isSplit,t.splitHands]);let H=t.isDemo?t.playerBalance:x;H=H||0;let E=2===t.playerHand.length&&t.currentBet<=H;return(0,s.useEffect)(()=>{y&&"win"===j&&window.playWinSound&&setTimeout(()=>window.playWinSound(),500)},[y,j]),(0,r.jsxs)("div",{className:"flex-1 flex flex-col items-center p-2 relative min-h-0",children:[(0,r.jsxs)("div",{className:"relative w-full max-w-sm sm:max-w-2xl h-[90%] rounded-lg border border-amber-500/30 shadow-lg overflow-hidden",style:{background:"\n             radial-gradient(ellipse at center, #1a5f4a 0%, #0d3328 70%),\n             linear-gradient(45deg, transparent 30%, rgba(0,212,170,0.03) 50%, transparent 70%)\n           "},children:[(0,r.jsx)("div",{className:"absolute top-4 right-4 z-30",children:(0,r.jsx)(m,{variant:"outline",className:"border-amber-500/70 text-amber-400 bg-transparent font-bold md:px-4 md:py-2 px-2 py-1 md:h-10 h-8 rounded-lg shadow hover:bg-amber-500/10 transition hover:text-white",onClick:()=>f(!0),children:"Fairness"})}),(0,r.jsxs)("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-10",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center mb-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{src:"/images/dealer-".concat(C,".png"),alt:"AI Dealer",className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full border-2 border-amber-500/50 shadow-lg object-cover"}),(0,r.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 sm:w-5 sm:h-5 bg-emerald-500 rounded-full border border-black flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-white rounded-full animate-pulse"})})]}),(0,r.jsx)("div",{className:"text-xs text-amber-400 font-medium mt-1",children:"AI Dealer"})]}),(0,r.jsx)("div",{className:"text-center mb-3",children:(0,r.jsxs)("div",{className:"bg-black/60 rounded-md px-4 py-1 inline-block",children:[(0,r.jsx)("div",{className:"text-sm sm:text-lg font-bold text-white",children:"DEALER"}),(0,r.jsx)("div",{className:"text-lg sm:text-xl text-amber-400 font-bold",children:t.dealerScore>0?t.dealerScore:"?"})]})}),(0,r.jsx)("div",{className:"flex gap-2 justify-center",children:t.dealerHand.map((e,a)=>(0,r.jsx)("div",{className:"scale-75 sm:scale-100",children:(0,r.jsx)(u,{card:e,index:a,isDealing:"dealing"===t.gamePhase,size:"normal"})},"dealer-".concat(a)))})]}),(0,r.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20",children:[(0,r.jsx)(L,{show:"betting"===t.gamePhase&&0===t.currentBet&&0===c.length}),"player"===t.gamePhase&&!t.isSplit&&(0,r.jsx)("div",{className:"bg-black/70 rounded-md px-4 py-2 text-center",children:(0,r.jsx)("div",{className:"text-lg font-bold text-white",children:"Hit or Stand?"})}),"dealing"===t.gamePhase&&(0,r.jsx)("div",{className:"bg-black/70 rounded-md px-4 py-2 text-center",children:(0,r.jsx)("div",{className:"text-lg font-bold text-emerald-400",children:"Dealing..."})})]}),c.length>0&&(0,r.jsx)("div",{className:"absolute bottom-32 left-1/2 transform -translate-x-1/2 z-15",children:(0,r.jsx)("div",{className:"flex gap-4 items-end justify-center",children:c.map((e,t)=>(0,r.jsxs)("div",{className:"relative",children:[Array.from({length:Math.min(e.count,8)}).map((t,a)=>(0,r.jsx)("div",{className:"absolute",style:{bottom:"".concat(4*a,"px"),zIndex:a+10,transform:"rotate(".concat(7*a%360,"deg)"),left:"".concat(3*Math.sin(.5*a),"px")},children:(0,r.jsx)("div",{className:"scale-100 transition-all duration-300",children:(0,r.jsxs)("div",{className:"\n                            w-16 h-16 rounded-full flex flex-col items-center justify-center\n                            border-4 shadow-lg font-bold relative overflow-hidden\n                            ".concat(1===e.value?"bg-white text-black border-gray-400":5===e.value?"bg-red-600 text-white border-red-800":10===e.value?"bg-blue-600 text-white border-blue-800":25===e.value?"bg-green-600 text-white border-green-800":"bg-purple-600 text-white border-purple-800","\n                          "),children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full",children:[...Array(8)].map((e,t)=>(0,r.jsx)("div",{className:"absolute w-3 h-full bg-black/10",style:{transform:"rotate(".concat(22.5*t,"deg)"),transformOrigin:"center center"}},t))}),(0,r.jsxs)("div",{className:"relative z-10",children:[(0,r.jsxs)("div",{className:"text-sm font-bold leading-none",children:["$",e.value]}),(0,r.jsx)("div",{className:"text-xs opacity-90 leading-none",children:"BJ"})]}),(0,r.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-white/20 via-transparent to-black/20"})]})})},"chip-".concat(a))),e.count>8&&(0,r.jsx)("div",{className:"absolute -top-2 -right-1 bg-amber-500 text-black text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center z-30",children:e.count}),(0,r.jsx)("div",{className:"w-16 h-16 opacity-0"})]},"persistent-stack-".concat(e.value,"-").concat(t)))})}),(0,r.jsxs)("div",{className:"absolute bottom-16 sm:bottom-20 left-1/2 transform -translate-x-1/2 z-10",children:[!t.isSplit&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex gap-2 justify-center mb-3",children:t.playerHand.map((e,a)=>(0,r.jsx)("div",{className:"scale-75 sm:scale-100",children:(0,r.jsx)(u,{card:e,index:a,isDealing:"dealing"===t.gamePhase,size:"normal"})},"player-".concat(a)))}),(t.currentBet>0||t.playerHand.length>0)&&(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("div",{className:"bg-black/60 rounded-md px-4 py-1 inline-block",children:[(0,r.jsx)("div",{className:"text-sm sm:text-lg font-bold text-white",children:"YOU"}),(0,r.jsx)("div",{className:"text-lg sm:text-xl text-amber-400 font-bold",children:t.playerScore})]})})]}),t.isSplit&&t.splitHands.length>0&&(0,r.jsx)("div",{className:"flex gap-8 justify-center overflow-x-auto",children:t.splitHands.map((e,a)=>(0,r.jsxs)("div",{className:"flex flex-col items-center min-w-0 flex-shrink-0",children:[(0,r.jsx)("div",{className:"flex gap-1 justify-center mb-1",children:e.cards.map((e,s)=>(0,r.jsx)("div",{className:"scale-75",children:(0,r.jsx)(u,{card:e,index:s,isDealing:"dealing"===t.gamePhase,size:"normal"})},"split-".concat(a,"-").concat(s)))}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("div",{className:"bg-black/60 rounded-md px-3 py-1 inline-block text-sm ".concat(t.activeSplitHand===a?"border border-amber-400":""),children:[(0,r.jsxs)("div",{className:"font-bold text-white",children:["Hand ",a+1]}),(0,r.jsx)("div",{className:"text-amber-400 font-bold",children:e.score}),e.isComplete&&(0,r.jsx)("div",{className:"text-xs text-gray-400",children:"Complete"})]})})]},"split-hand-".concat(a)))})]}),"player"===t.gamePhase&&(0,r.jsxs)("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex gap-2 z-30",children:[(0,r.jsx)(m,{onClick:a,className:"bg-emerald-600 hover:bg-emerald-700 text-white font-bold px-4 py-2 rounded-md",children:"HIT"}),(0,r.jsx)(m,{onClick:n,className:"bg-red-600 hover:bg-red-700 text-white font-bold px-4 py-2 rounded-md",children:"STAND"}),E&&(0,r.jsx)(m,{onClick:l,className:"bg-amber-600 hover:bg-amber-700 text-white font-bold px-4 py-2 rounded-md",children:"DOUBLE"}),t.canSplit&&!t.isSplit&&(0,r.jsx)(m,{onClick:i,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold px-4 py-2 rounded-md",children:"SPLIT"})]})]}),(0,r.jsx)(I,{show:y,result:j,winAmount:N,isBlackjack:S,winStreak:d,onClose:()=>v(!1)})]})}var K=a(87661),J=a.n(K),W=a(82852),$=a(59058),G=a(34160);function q(e){let{value:t,selected:a=!1,onClick:s,disabled:n=!1,currency:l="SOL"}=e,i=(()=>{switch(t){case 1:return{bg:"bg-white",text:"text-black",border:"border-gray-400",segments:"from-gray-200 via-white to-gray-200"};case 5:return{bg:"bg-red-600",text:"text-white",border:"border-red-800",segments:"from-red-700 via-red-600 to-red-700"};case 10:return{bg:"bg-blue-600",text:"text-white",border:"border-blue-800",segments:"from-blue-700 via-blue-600 to-blue-700"};case 25:return{bg:"bg-green-600",text:"text-white",border:"border-green-800",segments:"from-green-700 via-green-600 to-green-700"};default:return{bg:"bg-purple-600",text:"text-white",border:"border-purple-800",segments:"from-purple-700 via-purple-600 to-purple-700"}}})();return(0,r.jsxs)("button",{onClick:()=>{window.playChipSound&&window.playChipSound(t),null==s||s()},disabled:n,className:"\n        w-16 h-16 ".concat(i.bg," ").concat(i.text," ").concat(i.border,"\n        rounded-full flex flex-col items-center justify-center\n        border-4 shadow-lg font-bold\n        transform transition-all duration-200\n        ").concat(a?"scale-110 ring-2 ring-amber-400":"hover:scale-105","\n        ").concat(n?"opacity-50 cursor-not-allowed":"cursor-pointer","\n        ").concat(s?"active:scale-95":"","\n        relative overflow-hidden\n      "),children:[(0,r.jsxs)("div",{className:"absolute inset-0 rounded-full",children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r ".concat(i.segments," opacity-70")}),[...Array(8)].map((e,t)=>(0,r.jsx)("div",{className:"absolute w-3 h-full bg-black/20",style:{transform:"rotate(".concat(22.5*t,"deg)"),transformOrigin:"center center"}},t))]}),(0,r.jsxs)("div",{className:"relative z-10",children:[(0,r.jsxs)("div",{className:"text-xl font-bold leading-none",children:["$",t.toString()]}),(0,r.jsx)("div",{className:"text-xs font-medium opacity-90 leading-none mt-0.5",children:"BJ"})]}),(0,r.jsx)("div",{className:"absolute inset-0 rounded-full",children:[...Array(8)].map((e,t)=>(0,r.jsx)("div",{className:"absolute w-1 h-2 bg-white/30 rounded-full",style:{transform:"rotate(".concat(45*t,"deg) translateY(-30px)"),top:"50%",left:"calc(50% - 2px)",transformOrigin:"center bottom"}},t))}),(0,r.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-white/20 via-transparent to-black/20"})]})}function X(e){let{gameState:t,onPlaceBet:a,onChipStackUpdate:n,lastBetAmount:l,solBalance:i}=e,[o,c]=(0,s.useState)(0),[d,u]=(0,s.useState)([]),[x,h]=(0,s.useState)([]),[p,b]=(0,s.useState)(!1),[g,f]=(0,s.useState)(!1),y=(t.isDemo,[1,5,10,25,"MAX"]),v=t.isDemo?t.playerBalance:i;(0,s.useEffect)(()=>{let e=()=>{f(window.innerWidth<640)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let j=e=>{if(o+e<=v){window.playChipSound&&window.playChipSound(e),c(o+e);let t=[...d],a=t.find(t=>t.value===e);a?a.count+=1:(t.push({value:e,count:1}),t.sort((e,t)=>t.value-e.value)),u(t),n(t);let r=Date.now()+Math.random();h(t=>[...t,{id:r,value:e,startTime:Date.now()}]),setTimeout(()=>{h(e=>e.filter(e=>e.id!==r))},600)}},w=()=>{c(0),u([]),n([])},N=()=>{let e=Math.floor(v);window.playChipSound&&window.playChipSound(e),c(e),u([{value:e,count:1}]),n([{value:e,count:1}]),b(!0),setTimeout(()=>b(!1),1500)};return"betting"!==t.gamePhase?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"jsx-34b8ceb9313da816 fixed bottom-0 left-0 right-0 bg-black/95 border-t border-amber-500/30 backdrop-blur-sm z-40",children:(0,r.jsxs)("div",{className:"jsx-34b8ceb9313da816 max-w-lg mx-auto p-3 sm:p-4",children:[o>0&&(0,r.jsx)("div",{className:"jsx-34b8ceb9313da816 flex justify-center mb-3",children:(0,r.jsx)("div",{className:"jsx-34b8ceb9313da816 bg-black/80 backdrop-blur-sm rounded-lg px-4 py-2 border border-amber-500/50",children:(0,r.jsx)("div",{className:"jsx-34b8ceb9313da816 text-center",children:(0,r.jsxs)("div",{className:"jsx-34b8ceb9313da816 text-amber-400 font-bold text-lg",children:["Total Bet: $",o.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})," ","BJ"]})})})}),o>0&&(0,r.jsx)("div",{className:"jsx-34b8ceb9313da816 flex justify-center mb-3",children:(0,r.jsxs)(m,{onClick:()=>{o>0&&(window.playButtonSound&&window.playButtonSound(),a(o),w())},className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-white font-bold px-8 text-xl py-4 rounded-xl shadow-lg",children:[(0,r.jsx)(W.A,{className:"w-5 h-5 mr-2"}),"PLACE BET"]})}),(0,r.jsx)("div",{className:"jsx-34b8ceb9313da816 grid grid-cols-5 gap-2 mb-3 justify-items-center",children:y.map((e,t)=>(0,r.jsx)("div",{className:"jsx-34b8ceb9313da816 scale-75 sm:scale-90",children:"MAX"===e?(0,r.jsx)("button",{onClick:N,disabled:v<=0,className:"jsx-34b8ceb9313da816 "+"\n                    w-16 h-16 bg-[url('/max.png')] bg-cover bg-center text-white\n                    rounded-full flex flex-col items-center justify-center\n                    shadow-lg font-bold\n                    transform transition-all duration-200\n                    ".concat(v<=0?"opacity-50 cursor-not-allowed":"cursor-pointer hover:scale-105","\n                    relative overflow-hidden\n                  ")}):(0,r.jsx)(q,{value:e,onClick:()=>j(e),disabled:o+e>v,currency:"BJ"})},e))}),(0,r.jsxs)("div",{className:"jsx-34b8ceb9313da816 flex gap-2 items-center justify-center",children:[l>0&&l<=v&&(0,r.jsxs)(m,{onClick:()=>{l>0&&l<=v&&a(l)},size:"sm",className:"bg-blue-600/20 hover:bg-blue-600/40 text-blue-400 border border-blue-600/50 text-sm px-4 py-2",children:[(0,r.jsx)($.A,{className:"w-4 h-4 mr-1"}),"Repeat Last"]}),o>0&&(0,r.jsxs)(m,{onClick:w,size:"sm",className:"bg-gray-600/20 hover:bg-gray-600/40 text-gray-400 border border-gray-600/50 text-sm px-4 py-2",children:[(0,r.jsx)(G.A,{className:"w-4 h-4 mr-1"}),"Clear Bet"]})]})]})}),x.map(e=>(0,r.jsx)("div",{style:{bottom:"120px",left:"50%",transform:"translateX(-50%)",animation:"chipFeedback 0.6s ease-out forwards"},className:"jsx-34b8ceb9313da816 fixed z-50 pointer-events-none",children:(0,r.jsx)("div",{className:"jsx-34b8ceb9313da816 scale-75 opacity-80",children:(0,r.jsx)(q,{value:e.value,currency:"BJ"})})},e.id)),(0,r.jsx)(J(),{id:"34b8ceb9313da816",children:"@-webkit-keyframes chipFeedback{0%{-webkit-transform:translatex(-50%)translatey(0px)scale(.75);transform:translatex(-50%)translatey(0px)scale(.75);opacity:.8}50%{-webkit-transform:translatex(-50%)translatey(-30px)scale(.9);transform:translatex(-50%)translatey(-30px)scale(.9);opacity:1}100%{-webkit-transform:translatex(-50%)translatey(-60px)scale(.6);transform:translatex(-50%)translatey(-60px)scale(.6);opacity:0}}@-moz-keyframes chipFeedback{0%{-moz-transform:translatex(-50%)translatey(0px)scale(.75);transform:translatex(-50%)translatey(0px)scale(.75);opacity:.8}50%{-moz-transform:translatex(-50%)translatey(-30px)scale(.9);transform:translatex(-50%)translatey(-30px)scale(.9);opacity:1}100%{-moz-transform:translatex(-50%)translatey(-60px)scale(.6);transform:translatex(-50%)translatey(-60px)scale(.6);opacity:0}}@-o-keyframes chipFeedback{0%{-o-transform:translatex(-50%)translatey(0px)scale(.75);transform:translatex(-50%)translatey(0px)scale(.75);opacity:.8}50%{-o-transform:translatex(-50%)translatey(-30px)scale(.9);transform:translatex(-50%)translatey(-30px)scale(.9);opacity:1}100%{-o-transform:translatex(-50%)translatey(-60px)scale(.6);transform:translatex(-50%)translatey(-60px)scale(.6);opacity:0}}@keyframes chipFeedback{0%{-webkit-transform:translatex(-50%)translatey(0px)scale(.75);-moz-transform:translatex(-50%)translatey(0px)scale(.75);-o-transform:translatex(-50%)translatey(0px)scale(.75);transform:translatex(-50%)translatey(0px)scale(.75);opacity:.8}50%{-webkit-transform:translatex(-50%)translatey(-30px)scale(.9);-moz-transform:translatex(-50%)translatey(-30px)scale(.9);-o-transform:translatex(-50%)translatey(-30px)scale(.9);transform:translatex(-50%)translatey(-30px)scale(.9);opacity:1}100%{-webkit-transform:translatex(-50%)translatey(-60px)scale(.6);-moz-transform:translatex(-50%)translatey(-60px)scale(.6);-o-transform:translatex(-50%)translatey(-60px)scale(.6);transform:translatex(-50%)translatey(-60px)scale(.6);opacity:0}}"})]})}function Y(e){let{musicEnabled:t,soundEffectsEnabled:a,currentTrack:r,onTrackEnd:n}=e,l=(0,s.useRef)(null),i=(0,s.useRef)(null),o=(0,s.useRef)(null),[c,d]=(0,s.useState)(!1),m=[{name:"Casino Lounge",tempo:120,key:"C",style:"jazz"},{name:"High Stakes",tempo:140,key:"Am",style:"electronic"},{name:"Vegas Nights",tempo:100,key:"F",style:"ambient"}];(0,s.useEffect)(()=>{let e=()=>{try{l.current=new(window.AudioContext||window.webkitAudioContext),i.current=l.current.createGain(),i.current.connect(l.current.destination),i.current.gain.setValueAtTime(.15,l.current.currentTime),d(!0)}catch(e){console.warn("Web Audio API not supported")}},t=()=>{e(),document.removeEventListener("click",t),document.removeEventListener("touchstart",t)};return document.addEventListener("click",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("click",t),document.removeEventListener("touchstart",t),o.current&&(o.current.stop(),o.current.disconnect()),l.current&&l.current.close()}},[]);let u=e=>{if(!l.current||!i.current||!c)return;o.current&&(o.current.stop(),o.current.disconnect());let t=m[e];"jazz"===t.style?x(30):"electronic"===t.style?h(30):p(30)},x=e=>{if(!l.current||!i.current)return;let a=[[261.63,329.63,392,493.88],[220,261.63,329.63,415.3],[293.66,349.23,440,523.25],[196,246.94,293.66,369.99]],s=0,n=e=>{a[s].forEach((t,a)=>{let r=l.current.createOscillator(),s=l.current.createGain();r.connect(s),s.connect(i.current),r.frequency.setValueAtTime(t,e),r.type="sine",s.gain.setValueAtTime(0,e),s.gain.linearRampToValueAtTime(.03,e+.1),s.gain.exponentialRampToValueAtTime(.001,e+2-.1),r.start(e),r.stop(e+2)}),s=(s+1)%a.length};for(let a=0;a<e;a+=2)setTimeout(()=>{t&&n(l.current.currentTime)},1e3*a);setTimeout(()=>{t&&u(r)},1e3*e)},h=e=>{if(!l.current||!i.current)return;let a=[110,123.47,130.81,146.83],s=0,n=e=>{let t=l.current.createOscillator(),r=l.current.createGain();t.connect(r),r.connect(i.current),t.frequency.setValueAtTime(a[s],e),t.type="sawtooth",r.gain.setValueAtTime(0,e),r.gain.linearRampToValueAtTime(.05,e+.01),r.gain.exponentialRampToValueAtTime(.001,e+.4),t.start(e),t.stop(e+.5),s=(s+1)%a.length};for(let a=0;a<e;a+=.5)setTimeout(()=>{t&&n(l.current.currentTime)},1e3*a);setTimeout(()=>{t&&u(r)},1e3*e)},p=e=>{l.current&&i.current&&([65.41,82.41,98,130.81].forEach((t,a)=>{let r=l.current.createOscillator(),s=l.current.createGain();r.connect(s),s.connect(i.current),r.frequency.setValueAtTime(t,l.current.currentTime),r.type="sine",s.gain.setValueAtTime(0,l.current.currentTime),s.gain.linearRampToValueAtTime(.02,l.current.currentTime+2),s.gain.setValueAtTime(.02,l.current.currentTime+e-2),s.gain.linearRampToValueAtTime(0,l.current.currentTime+e),r.start(l.current.currentTime),r.stop(l.current.currentTime+e)}),setTimeout(()=>{t&&u(r)},1e3*e))};return(0,s.useEffect)(()=>{t&&c?u(r):o.current&&(o.current.stop(),o.current.disconnect())},[t,r,c]),(0,s.useEffect)(()=>{if(i.current){let e=.15*!!t;i.current.gain.linearRampToValueAtTime(e,l.current.currentTime+.5)}},[t]),(0,s.useEffect)(()=>{{let e=e=>{let t,r;if(!a||!l.current)return;switch(e){case 1:t=1200,r=.04;break;case 5:t=900,r=.05;break;case 10:t=700,r=.06;break;case 25:t=500,r=.07;break;default:t=300,r=.08}let s=l.current.createOscillator(),n=l.current.createOscillator(),i=l.current.createGain();s.connect(i),n.connect(i),i.connect(l.current.destination),s.frequency.setValueAtTime(t,l.current.currentTime),s.type="triangle",n.frequency.setValueAtTime(1.5*t,l.current.currentTime),n.type="sine",i.gain.setValueAtTime(0,l.current.currentTime),i.gain.linearRampToValueAtTime(r,l.current.currentTime+.01),i.gain.exponentialRampToValueAtTime(.001,l.current.currentTime+.15),s.start(l.current.currentTime),n.start(l.current.currentTime),s.stop(l.current.currentTime+.15),n.stop(l.current.currentTime+.15)},t=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;if(!a||!l.current)return;let s=l.current.createOscillator(),n=l.current.createGain();s.connect(n),n.connect(l.current.destination),s.frequency.setValueAtTime(e,l.current.currentTime),s.type="sine",n.gain.setValueAtTime(0,l.current.currentTime),n.gain.linearRampToValueAtTime(r,l.current.currentTime+.01),n.gain.exponentialRampToValueAtTime(.001,l.current.currentTime+t),s.start(l.current.currentTime),s.stop(l.current.currentTime+t)};window.playChipSound=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return e(t)},window.playCardSound=()=>t(400,.15,.03),window.playWinSound=()=>{t(523,.2,.06),setTimeout(()=>t(659,.2,.06),100),setTimeout(()=>t(784,.3,.06),200)},window.playButtonSound=()=>t(600,.08,.04)}},[a]),null}function Q(){let e=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],t=[];for(let a of["♠","♥","♦","♣"])for(let r of e){let e=Number.parseInt(r);isNaN(e)&&(e="A"===r?11:10),t.push({suit:a,rank:r,value:e})}return t}function _(e){let t=[...e];for(let e=t.length-1;e>0;e--){let a=Math.floor(Math.random()*(e+1));[t[e],t[a]]=[t[a],t[e]]}return t}function Z(e){let t=e.pop();if(!t)throw Error("Deck is empty");return t}function ee(e){let t=0,a=0;for(let r of e)"A"===r.rank?a++:t+=r.value;t+=a;let r=0;for(;r<a&&t+10<=21;)t+=10,r++;return t}function et(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function ea(e,t){let a=e+t,r=0;for(let e=0;e<a.length;e++)r=(r<<5)-r+a.charCodeAt(e),r&=r;return Math.abs(r).toString(16)}var er=a(9633);let es=new er.PublicKey("7ENRFbGhD4VqwoBJ3RHHTswi8FWomogWFHSDbSZSPyEq"),en=new er.Connection((0,er.clusterApiUrl)("devnet"),"confirmed"),el=new er.PublicKey("mntrcUd9gqTTikeTBVkE1D4Whkj43hrH89P1Kc2hG5k"),ei=new er.PublicKey("3hbmgqLcLDt3TriP3LetB2V7M45eRiVS7oeXQcu1kyF2"),eo=[127,7,38,171,236,190,144,4,79,10,13,76,42,135,58,175,104,241,40,183,212,96,194,23,86,81,146,220,58,192,96,109,92,146,227,191,3,222,53,249,18,15,224,148,33,219,19,136,92,146,200,34,103,217,32,97,43,110,202,229,213,47,244,66],ec={version:"0.1.0",name:"staking",instructions:[{name:"initialize",accounts:[{name:"vault",isMut:!0,isSigner:!1},{name:"token",isMut:!0,isSigner:!1},{name:"owner",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"changeAdmin",accounts:[{name:"vault",isMut:!0,isSigner:!1},{name:"owner",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"newAdmin",type:"publicKey"}]},{name:"initializeUser",accounts:[{name:"staker",isMut:!0,isSigner:!1},{name:"user",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"stake",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"staker",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"userTokenAccount",isMut:!0,isSigner:!1},{name:"vaultTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"unstake",accounts:[{name:"staker",isMut:!0,isSigner:!1},{name:"userTokenAccount",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"vaultTokenAccount",isMut:!0,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"flag",type:"u8"}]},{name:"burnToken",accounts:[{name:"vaultTokenAccount",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]}],accounts:[{name:"Staker",type:{kind:"struct",fields:[{name:"user",type:"publicKey"},{name:"betAmount",type:"u64"}]}},{name:"Vault",type:{kind:"struct",fields:[{name:"admin",type:"publicKey"},{name:"token",type:"publicKey"},{name:"bump",type:"u8"}]}}],events:[{name:"StakeEvent",fields:[{name:"staker",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"UnstakeEvent",fields:[{name:"staker",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]}],errors:[{code:6e3,name:"Unauthorized",msg:"Unauthorized"},{code:6001,name:"InsufficientStake",msg:"Insufficient staked amount."},{code:6002,name:"ZeroAmount",msg:"Cannot stake zero amount."},{code:6003,name:"InvalidMint",msg:"Invalid Mint."}]};var ed=a(76150),em=a(45761),eu=a(27308),ex=a(72630),eh=a(26220),ep=a(4455).Buffer;let eb=e=>{let t=window,a=new ex.NQ(e,t.solana,{commitment:"confirmed"});return new ex.BP(ec,ei,a)},eg=()=>{let e=er.Keypair.fromSecretKey(new Uint8Array(eo)),t={payer:e,publicKey:e.publicKey,signTransaction:async t=>(t.partialSign(e),t),signAllTransactions:async t=>t.map(t=>(t.partialSign(e),t))},a=new ex.SX.Connection("https://api.devnet.solana.com","confirmed"),r=new ex.NQ(a,t,{preflightCommitment:"confirmed"});return new ex.BP(ec,ei,r)},ef=e=>er.PublicKey.findProgramAddressSync([ep.from("staker"),e.toBuffer()],ei),ey=()=>er.PublicKey.findProgramAddressSync([ep.from("vault")],ei),ev=async e=>{let[t]=ey();return(0,ed.Ob)(e,t,!0,em.sy)},ej=(e,t,a,r)=>{try{return(0,eh.JA)(e,a,r,t,em.sy)}catch(e){throw console.error("Error creating vault token account:",e),e}},ew=async(e,t)=>{let[a]=ef(t);try{return await e.methods.initializeUser().accounts({staker:a,user:t,systemProgram:ex.SX.SystemProgram.programId}).instruction()}catch(e){throw console.error("Error initializing user:",e),e}},eN=async(e,t)=>{let[a]=ef(t);try{return await e.account.staker.fetch(a),!0}catch(e){return!1}},ek=async(e,t)=>{let[a]=ey();try{return await e.methods.initialize().accounts({vault:a,owner:t,token:el,systemProgram:ex.SX.SystemProgram.programId}).rpc()}catch(e){throw console.error("Error initializing vault:",e),e}},eS=async e=>{let[t]=ey();try{return await e.account.vault.fetch(t),!0}catch(e){return!1}},eB=async(e,t,a,r,s)=>{let[n]=ef(t);try{return await eS(e)||(console.log("Vault not initialized, initializing first..."),await ek(e,t)),await eN(e,t)||(console.log("User not initialized, initializing first..."),await ew(e,t)),await e.methods.stake(new ex.BN(a)).accounts({user:t,staker:n,mint:el,userTokenAccount:r,vaultTokenAccount:s,tokenProgram:em.sy,systemProgram:ex.SX.SystemProgram.programId}).instruction()}catch(e){throw console.error("Error staking tokens:",e),e}},eT=async(e,t,a,r,s)=>{let[n]=ef(t),[l]=ey();try{if(!await eS(e))throw Error("Vault not initialized. Please contact the administrator.");if(!await eN(e,t))throw Error("User not initialized. Please stake tokens first.");let i=await e.methods.unstake(a).accounts({staker:n,admin:es,userTokenAccount:r,mint:el,vaultTokenAccount:s,vault:l,tokenProgram:em.sy,systemProgram:ex.SX.SystemProgram.programId}).rpc();console.log("✅ Success. TX:",i)}catch(e){throw console.error("Error unstaking tokens:",e),e}},eA=(0,l.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function eC(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:c(eA({variant:a}),t),...s})}var eP=a(93508);let eH=e=>{let{showFairness:t,setShowFairness:a,serverSeedHash:s,serverSeed:n,clientSeed:l}=e;return(0,r.jsxs)(b,{open:t,onOpenChange:a,children:[(0,r.jsx)(y,{className:"bg-gradient-to-br from-black via-gray-900 to-black border-amber-400/60 border-2 shadow-2xl rounded-2xl p-0 max-w-lg w-full",children:(0,r.jsxs)(j,{className:"bg-transparent border-none shadow-none",children:[(0,r.jsxs)(w,{className:"flex flex-row items-center justify-between px-6 py-4",children:[(0,r.jsxs)("div",{className:"jsx-4887799d119ed296 flex items-center gap-3",children:[(0,r.jsx)("span",{className:"jsx-4887799d119ed296 inline-flex items-center justify-center w-10 h-10 rounded-full bg-amber-500/20 border border-amber-400/40 shadow",children:(0,r.jsx)(eP.A,{className:"w-6 h-6 text-amber-400"})}),(0,r.jsx)(N,{className:"text-2xl font-extrabold text-amber-400 tracking-wide",children:"Provably Fair"})]}),(0,r.jsx)("button",{onClick:()=>a(!1),"aria-label":"Close",type:"button",className:"jsx-4887799d119ed296 !mt-[-4px] w-10 h-10 text-2xl text-amber-400 hover:text-white transition-colors z-50",children:"\xd7"})]}),(0,r.jsx)(B,{className:"bg-amber-400/20 mb-2"}),(0,r.jsxs)(k,{className:"space-y-4 px-6 pb-6",children:[(0,r.jsxs)("div",{className:"jsx-4887799d119ed296",children:[(0,r.jsx)(eC,{variant:"outline",className:"mb-1 text-amber-400 border-amber-400/60 bg-black/40",children:"Server Seed Hash (commit)"}),(0,r.jsx)("div",{className:"jsx-4887799d119ed296 break-all font-mono bg-gray-900/80 text-amber-200 p-2 rounded border border-amber-400/20 text-xs select-all",children:s})]}),(0,r.jsxs)("div",{className:"jsx-4887799d119ed296",children:[(0,r.jsx)(eC,{variant:"outline",className:"mb-1 text-amber-400 border-amber-400/60 bg-black/40",children:"Server Seed (reveal)"}),(0,r.jsx)("div",{className:"jsx-4887799d119ed296 break-all font-mono bg-gray-900/80 text-emerald-200 p-2 rounded border border-amber-400/20 text-xs select-all",children:n})]}),(0,r.jsxs)("div",{className:"jsx-4887799d119ed296",children:[(0,r.jsx)(eC,{variant:"outline",className:"mb-1 text-amber-400 border-amber-400/60 bg-black/40",children:"Your (Client) Seed"}),(0,r.jsx)("div",{className:"jsx-4887799d119ed296 break-all font-mono bg-gray-900/80 text-blue-200 p-2 rounded border border-amber-400/20 text-xs select-all",children:l})]}),(0,r.jsx)(B,{className:"bg-amber-400/10"}),(0,r.jsxs)("div",{className:"jsx-4887799d119ed296",children:[(0,r.jsx)("div",{className:"jsx-4887799d119ed296 text-sm text-gray-300 mb-2 font-semibold",children:"How to verify:"}),(0,r.jsxs)("ol",{className:"jsx-4887799d119ed296 list-decimal ml-6 text-gray-400 text-sm space-y-1",children:[(0,r.jsx)("li",{className:"jsx-4887799d119ed296",children:"Combine the server and client seeds."}),(0,r.jsxs)("li",{className:"jsx-4887799d119ed296",children:["Use the combined value to seed a shuffle algorithm (see ",(0,r.jsx)("span",{className:"jsx-4887799d119ed296 text-amber-300",children:"lib/game-logic.ts"}),")."]}),(0,r.jsx)("li",{className:"jsx-4887799d119ed296",children:"Verify the deck order matches the game."})]})]})]})]})}),(0,r.jsx)(J(),{id:"4887799d119ed296",children:".fixed.left-\\[50\\%\\].top-\\[50\\%\\] button.absolute.right-4.top-4{display:none!important}"})]})};function eE(){let[e,t]=(0,s.useState)(!1),[n,l]=(0,s.useState)([]),[i,o]=(0,s.useState)(0),[c,d]=(0,s.useState)(0),[m,u]=(0,s.useState)(0),[x,h]=(0,s.useState)([]),[p,g]=(0,s.useState)(!0),[f,v]=(0,s.useState)(!0),[j,w]=(0,s.useState)(0),[N,k]=(0,s.useState)(0),[S,B]=(0,s.useState)(et()),[T,H]=(0,s.useState)(et()),[E,D]=(0,s.useState)(ea(S,"")),[M,z]=(0,s.useState)(!1),[F,V]=(0,s.useState)({deck:[],playerHand:[],dealerHand:[],playerBalance:1e4,currentBet:0,gamePhase:"betting",playerScore:0,dealerScore:0,message:"Place your bet to start",canDouble:!1,canSplit:!1,isDemo:!0,isSplit:!1,splitHands:[],activeSplitHand:0}),{publicKey:I,connected:L,connect:K,disconnect:J,connecting:W,wallet:$,signTransaction:G}=(0,R.v)(),[q,es]=(0,s.useState)(!1),ei=new URLSearchParams(window.location.search);C(ei),A(ei),(0,s.useEffect)(()=>{let e=_(Q());V(t=>({...t,deck:e}))},[]),(0,s.useEffect)(()=>{q&&Promise.all([a.e(597),a.e(162),a.e(666)]).then(a.t.bind(a,50587,23)).then(e=>{let{init:t}=e;t({displayMode:"integrated",integratedTargetId:"jupiter-terminal"})})},[q]),(0,s.useEffect)(()=>{L&&ec((null==$?void 0:$.adapter.name)||"")},[L,$]),(0,s.useEffect)(()=>{if(!$)return;let e=()=>{ex()};return $.adapter.on("disconnect",e),()=>{$.adapter.off("disconnect",e)}},[$]);let eo=async()=>{if(!I)return;let e=await (0,ed.Ob)(el,I,!1,em.sy),t=0;try{console.log(e.toBase58());let a=await (0,eu.sU)(en,e,"confirmed",em.sy);console.log(Number(a.amount)),t=Number(a.amount)/1e9,console.log("balance",t)}catch(e){t=0}u(t)},ec=async e=>{try{if(!I)return;try{eo()}catch(e){console.error("Failed to fetch $BJ token balance:",e),u(0)}t(!0),V(e=>({...e,isDemo:!1,playerBalance:0})),l([]),console.log("Wallet connected: ".concat(e))}catch(e){console.error("Wallet connection error:",e)}},ex=()=>{t(!1),u(1e4),h([]),o(0),V({deck:_(Q()),playerHand:[],dealerHand:[],playerBalance:1e4,currentBet:0,gamePhase:"betting",playerScore:0,dealerScore:0,message:"Place your bet to start",canDouble:!1,canSplit:!1,isDemo:!0,isSplit:!1,splitHands:[],activeSplitHand:0}),console.log("Wallet disconnected")},eh=async e=>{let t=Date.now();if(t-N<1e3){console.warn("Betting too quickly");return}let a=F.isDemo?F.playerBalance:m,r={...F};if(e>a){V(e=>({...e,message:"Insufficient balance"}));return}if(k(t),d(e),F.isDemo)V(t=>({...t,currentBet:e,playerBalance:t.playerBalance-e,gamePhase:"dealing",message:"Dealing cards...",isSplit:!1,splitHands:[],activeSplitHand:0}));else if(V(t=>({...t,currentBet:e,gamePhase:"dealing",message:"Dealing cards...",isSplit:!1,splitHands:[],activeSplitHand:0})),!await ep(r,e))return;l([]),setTimeout(()=>{ek(e)},1e3)},ep=async(e,t)=>{if(!I)return!1;try{let e=await (0,ed.Ob)(el,I,!1,em.sy),a=new er.Transaction;await en.getAccountInfo(e)==null&&a.add(ej(I,el,e,I));let[r]=ey(),s=await (0,ed.Ob)(el,r,!0,em.sy);await en.getAccountInfo(s)==null&&a.add(ej(I,el,s,r));let n=eb(en);if(!await eN(n,I)){let e=await ew(n,I);a.add(e)}let l=await eB(n,I,1e9*t,e,s);return a.add(l),a.recentBlockhash=(await en.getLatestBlockhash()).blockhash,a.feePayer=I,await ef(a),u(e=>e-t),!0}catch(t){return V({...e,message:t.message}),!1}},ef=async e=>{let t=await (null==G?void 0:G(e));console.log("✅ Transaction successful:",await en.sendRawTransaction((null==t?void 0:t.serialize())||new Uint8Array,{skipPreflight:!0}))},ek=e=>{let t=[...F.deck],a=[],r=[];if(F.isDemo){if(.7>Math.random()){let e=[[{suit:"♠",rank:"A",value:11},{suit:"♥",rank:"9",value:9}],[{suit:"♦",rank:"K",value:10},{suit:"♣",rank:"Q",value:10}],[{suit:"♠",rank:"A",value:11},{suit:"♥",rank:"K",value:10}],[{suit:"♦",rank:"10",value:10},{suit:"♣",rank:"9",value:9}],[{suit:"♠",rank:"8",value:8},{suit:"♥",rank:"8",value:8}]],t=e[Math.floor(Math.random()*e.length)];a.push(...t);let s=[[{suit:"♠",rank:"6",value:6},{suit:"♥",rank:"5",value:5}],[{suit:"♦",rank:"4",value:4},{suit:"♣",rank:"7",value:7}],[{suit:"♠",rank:"5",value:5},{suit:"♥",rank:"6",value:6}]],n=s[Math.floor(Math.random()*s.length)];r.push(...n)}else for(let e=0;e<2;e++)a.push(Z(t)),r.push(Z(t))}else for(let e=0;e<2;e++)a.push(Z(t)),r.push(Z(t));r.length>=2&&(r[1].hidden=!0);let s=ee(a),n=ee([r[0]]),l=F.isDemo?F.playerBalance:m,i=2===a.length&&F.currentBet<=l,o=2===a.length&&a[0].rank===a[1].rank;V(e=>({...e,deck:t,playerHand:a,dealerHand:r,playerScore:s,dealerScore:n,gamePhase:21===s?"dealer":"player",message:21===s?"Blackjack!":"Hit or Stand?",canDouble:i,canSplit:o})),21===s&&setTimeout(()=>{eE(s,e,a,r)},2e3)},eS=async()=>{if(!F.canSplit)return;let e=F.isDemo?F.playerBalance:m;if(F.currentBet>e)return;let t=F.currentBet,a=F.playerHand[0],r=F.playerHand[1],s="A"===a.rank,n=[{cards:[a],score:ee([a]),bet:t,isActive:!0,isComplete:!1},{cards:[r],score:ee([r]),bet:t,isActive:!1,isComplete:!1}],l=[...F.deck],i={...F};if(n[0].cards.push(Z(l)),n[0].score=ee(n[0].cards),n[1].cards.push(Z(l)),n[1].score=ee(n[1].cards),F.isDemo)V(a=>({...a,deck:l,playerBalance:a.playerBalance-t,currentBet:2*t,isSplit:!0,splitHands:n,activeSplitHand:s?-1:0,canDouble:!s&&e>=t,canSplit:!1,playerHand:[],playerScore:s?0:n[0].score,message:s?"Split Aces complete - Dealer playing...":"Playing split hand 1",gamePhase:s?"dealer":"player"}));else{if(!await ep(i,t))return;V(a=>({...a,deck:l,currentBet:2*t,isSplit:!0,splitHands:n,activeSplitHand:s?-1:0,canDouble:!s&&e>=t,canSplit:!1,playerHand:[],playerScore:s?0:n[0].score,message:s?"Split Aces complete - Dealer playing...":"Playing split hand 1",gamePhase:s?"dealer":"player"}))}s&&(n[0].isComplete=!0,n[0].isActive=!1,n[1].isComplete=!0,n[1].isActive=!1,setTimeout(()=>{eE(n[0].score,F.currentBet,F.playerHand,F.dealerHand)},2e3))},eA=(e,t,a)=>{let r;let s=[...F.deck];if(F.isSplit){let t=[...F.splitHands],n=t[F.activeSplitHand];if(F.isDemo&&n.score<=11){let e=[{suit:"♠",rank:"9",value:9},{suit:"♥",rank:"8",value:8},{suit:"♦",rank:"7",value:7},{suit:"♣",rank:"6",value:6}];r=e[Math.floor(Math.random()*e.length)]}else r=Z(s);if(n.cards.push(r),n.score=ee(n.cards),n.score>=21){if(n.isComplete=!0,n.isActive=!1,F.activeSplitHand<t.length-1){let e=F.activeSplitHand+1;t[e].isActive=!0;let a=F.isDemo?F.playerBalance:m;V(r=>({...r,deck:s,splitHands:t,activeSplitHand:e,playerScore:t[e].score,canDouble:a>=r.currentBet/2&&2===t[e].cards.length,message:"Playing split hand ".concat(e+1)}))}else V(e=>({...e,deck:s,splitHands:t,gamePhase:"dealer",canDouble:!1,message:"Dealer playing..."})),setTimeout(()=>{eE(e,a,F.playerHand,F.dealerHand)},1e3)}else V(e=>({...e,deck:s,splitHands:t,playerScore:n.score,canDouble:!1}))}else{if(F.isDemo&&F.playerScore<=11){let e=[{suit:"♠",rank:"9",value:9},{suit:"♥",rank:"8",value:8},{suit:"♦",rank:"7",value:7},{suit:"♣",rank:"6",value:6}];r=e[Math.floor(Math.random()*e.length)]}else r=Z(s);let n=[...F.playerHand,r],l=ee(n);V(e=>({...e,deck:s,playerHand:n,playerScore:l,canDouble:!1,canSplit:!1,gamePhase:l>21?"gameOver":"player",message:l>21?"Bust! Dealer wins":"Hit or Stand?"})),l>21&&setTimeout(()=>{ez("lose",a,e,t,n,F.dealerHand)},1500)}},eC=(e,t)=>{if(F.isSplit){let a=[...F.splitHands],r=a[F.activeSplitHand];if(r.isComplete=!0,r.isActive=!1,F.activeSplitHand<a.length-1){let e=F.activeSplitHand+1;a[e].isActive=!0;let t=F.isDemo?F.playerBalance:m;V(r=>({...r,splitHands:a,activeSplitHand:e,playerScore:a[e].score,canDouble:t>=r.currentBet/2&&2===a[e].cards.length,message:"Playing split hand ".concat(e+1)}))}else V(e=>({...e,splitHands:a,gamePhase:"dealer",canDouble:!1,message:"Dealer playing..."})),setTimeout(()=>{eE(e,t,F.playerHand,F.dealerHand)},1e3)}else V(e=>({...e,gamePhase:"dealer",message:"Dealer playing..."})),setTimeout(()=>{eE(e,t,F.playerHand,F.dealerHand)},1e3)},eP=async()=>{let e=F.isDemo?F.playerBalance:m,t={...F};if(F.isSplit){let a=F.currentBet/2;if(a>e){V(e=>({...e,message:"Insufficient balance to double"}));return}let r=[...F.splitHands];if(r[F.activeSplitHand].bet=2*a,F.isDemo)V(e=>({...e,playerBalance:e.playerBalance-a,currentBet:e.currentBet+a,splitHands:r,canDouble:!1}));else{if(!await ep(t,a))return;V(e=>({...e,currentBet:e.currentBet+a,splitHands:r,canDouble:!1}))}eA(F.playerScore,F.dealerScore,t.currentBet+a)}else{if(F.currentBet>e){V(e=>({...e,message:"Insufficient balance to double"}));return}if(F.isDemo)V(e=>({...e,playerBalance:e.playerBalance-e.currentBet,currentBet:2*e.currentBet,canDouble:!1}));else{if(!await ep(t,2*t.currentBet))return;V(e=>({...e,currentBet:2*e.currentBet,canDouble:!1}))}eA(F.playerScore,F.dealerScore,2*t.currentBet)}},eE=(e,t,a,r)=>{console.log("dealerPlay",e);let s=[...F.dealerHand],n=[...F.deck];s.length>=2&&s[1]&&(s[1].hidden=!1);let l=ee(s);if(F.isDemo){if(F.isSplit?F.splitHands.some(e=>e.score<=21):e<=21)for(;l<17;){if(.6>Math.random()&&l>=12){let e=[{suit:"♠",rank:"10",value:10},{suit:"♥",rank:"J",value:10},{suit:"♦",rank:"Q",value:10},{suit:"♣",rank:"K",value:10}];s.push(e[Math.floor(Math.random()*e.length)])}else s.push(Z(n));l=ee(s)}else for(;l<17;)s.push(Z(n)),l=ee(s)}else for(;l<17;)s.push(Z(n)),l=ee(s);V(e=>({...e,deck:n,dealerHand:s,dealerScore:l,gamePhase:"gameOver"})),setTimeout(()=>{F.isSplit?eD(l,r):eM(e,l,t,a,r)},1500)},eD=(e,t)=>{console.log("determineSplitWinner",e);let a=0,r=0,s=0,n=0,l=0;F.splitHands.forEach(i=>{let o=21===i.score&&2===i.cards.length,c=21===e&&2===t.length;i.score>21?s++:o&&!c?(a+=Math.floor(i.bet+1.5*i.bet),r++,l++):e>21?(a+=2*i.bet,r++):i.score>e?(a+=2*i.bet,r++):i.score===e?(a+=i.bet,n++):s++});let i="";i=l>0?"Split: ".concat(l," Blackjack").concat(l>1?"s":"",", ").concat(r-l," win").concat(r-l!=1?"s":"",", ").concat(s," loss").concat(1!==s?"es":"",", ").concat(n," push").concat(1!==n?"es":""):r>0&&0===s&&0===n?"Split hands win!":s>0&&0===r&&0===n?"Split hands lose":"Split: ".concat(r," win").concat(1!==r?"s":"",", ").concat(s," loss").concat(1!==s?"es":"",", ").concat(n," push").concat(1!==n?"es":""),r>s?o(e=>e+1):s>r&&o(0),F.isDemo?V(e=>({...e,playerBalance:Math.floor(e.playerBalance+a),message:i})):(u(e=>Math.floor(e+a)),V(e=>({...e,message:i}))),eR(r>s?"win":s>r?"lose":"push")},eM=(e,t,a,r,s)=>{let n;console.log("determineWinner",e,t);let l=21===e&&2===r.length,i=21===t&&2===s.length;if(l&&!i){ez("win",a,e,t,r,s);return}ez(e>21?"lose":t>21?"win":e>t?"win":t>e?"lose":"push",a,e,t,r,s)},ez=async(e,t,a,r,s,n)=>{console.log("endGame",e);let l=0,i="",c=21===a&&2===s.length,d=21===r&&2===n.length,m=1;switch(e){case"win":c&&!d?(l=Math.floor(t+1.5*t),i="Blackjack! You win!",m=3):(l=2*t,i="You win!",m=1),o(e=>e+1);break;case"lose":l=0,i="Dealer wins",o(0);break;case"push":l=F.currentBet,i="Push!"}console.log("endGame",e,l);let u=l-F.currentBet,x={id:Date.now().toString(),timestamp:new Date,bet:F.currentBet,result:e,winnings:u,playerHand:F.playerHand.map(e=>e.rank).join(", "),dealerHand:F.dealerHand.map(e=>e.rank).join(", ")};h(e=>[...e,x]),F.isDemo?V(e=>({...e,playerBalance:Math.floor(e.playerBalance+l),message:i})):("win"===e&&eF(m,l),"push"===e&&eF(2,l),"lose"===e&&eF(0,l),V(e=>({...e,message:i}))),eR(e)},eF=async(e,t)=>{if(!I)return;let a=eg(),r=await (0,ed.Ob)(el,I,!1,em.sy),s=await ev(el);await eT(a,I,e,r,s),console.log("payoutTokens",e,t),u(e=>Math.floor(e+t))},eR=e=>{setTimeout(()=>{V(e=>({...e,playerHand:[],dealerHand:[],currentBet:0,playerScore:0,dealerScore:0,message:"Place your bet to start",gamePhase:"betting",canDouble:!1,canSplit:!1,isSplit:!1,splitHands:[],activeSplitHand:0}))},"lose"===e?3e3:5e3)};return((0,s.useEffect)(()=>{"betting"===F.gamePhase&&0===F.currentBet&&l([])},[F.gamePhase,F.currentBet]),e)?(0,r.jsxs)("div",{className:"h-screen bg-black text-white overflow-hidden flex flex-col",children:[(0,r.jsx)(Y,{musicEnabled:p,soundEffectsEnabled:f,currentTrack:j}),(0,r.jsx)(O,{balance:F.isDemo?F.playerBalance:m,solBalance:m,onSwapClick:()=>es(!0),isDemo:F.isDemo,musicEnabled:p,soundEffectsEnabled:f,currentTrack:j,onToggleMusic:()=>g(!p),onToggleSoundEffects:()=>v(!f),onChangeTrack:w}),(0,r.jsx)(U,{gameState:F,onHit:()=>eA(F.playerScore,F.dealerScore,F.currentBet),onStand:()=>eC(F.playerScore,F.currentBet),onDouble:eP,onSplit:eS,onNewGame:()=>{let e=_(Q()),t=et();B(t),H(et()),D(ea(t,T)),V(t=>({...t,deck:e,playerHand:[],dealerHand:[],currentBet:0,gamePhase:"betting",playerScore:0,dealerScore:0,message:"Place your bet to start",canDouble:!1,canSplit:!1,isSplit:!1,splitHands:[],activeSplitHand:0})),l([])},chipStacks:n,winStreak:i,serverSeed:S,serverSeedHash:E,clientSeed:T,showFairness:M,setShowFairness:z}),(0,r.jsx)(eH,{showFairness:M,setShowFairness:z,serverSeedHash:E,serverSeed:S,clientSeed:T}),(0,r.jsx)(X,{gameState:F,onPlaceBet:eh,onChipStackUpdate:l,lastBetAmount:c,solBalance:m}),(0,r.jsx)(b,{open:q,onOpenChange:es,children:(0,r.jsx)(y,{id:"jupiter-terminal",children:(0,r.jsx)("button",{onClick:()=>es(!1),className:"!mt-[-4px] w-10 h-10 text-2xl text-amber-400 hover:text-white transition-colors z-50 absolute top-0 right-0","aria-label":"Close",type:"button",children:"\xd7"})})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P,{onStartDemo:()=>{t(!0),V(e=>({...e,isDemo:!0,playerBalance:1e4})),l([])},showFairness:M,setShowFairness:z}),(0,r.jsx)(eH,{showFairness:M,setShowFairness:z,serverSeedHash:E,serverSeed:S,clientSeed:T})]})}var eD=a(57462);class eM extends s.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){if(this.state.hasError){var e;return this.props.fallback||(0,r.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-gradient-to-r from-gray-900 to-black p-8 rounded-lg border border-amber-500/30 max-w-lg w-full text-center",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)("div",{className:"w-16 h-16 bg-red-600/20 rounded-full flex items-center justify-center",children:(0,r.jsx)(eD.A,{className:"w-10 h-10 text-red-500"})})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-amber-400 mb-4",children:"Something went wrong"}),(0,r.jsx)("p",{className:"text-gray-300 mb-6",children:"We apologize for the inconvenience. Please try refreshing the page."}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(m,{onClick:()=>window.location.reload(),className:"bg-amber-500 hover:bg-amber-600 text-black font-bold",children:"Refresh Page"})}),(0,r.jsxs)("p",{className:"text-gray-500 text-sm mt-6",children:["Error: ",(null===(e=this.state.error)||void 0===e?void 0:e.message)||"Unknown error"]})]})})}return this.props.children}constructor(...e){super(...e),this.state={hasError:!1,error:null}}}var ez=a(40616),eF=a(98465),eR=a(2689),eV=a(63480),eO=a(11031),eI=a(23823);a(87312);let eL=e=>{let{children:t}=e,a=(0,s.useMemo)(()=>[new eR.c,new eV.d,new eO.G],[]);return(0,r.jsx)(ez.S,{endpoint:"https://solana-mainnet.g.alchemy.com/v2/d5GoKkYq7RruKvcPBgarkko-5sHUsU0W",config:{commitment:"confirmed"},children:(0,r.jsx)(eF.r,{wallets:a,autoConnect:!0,children:(0,r.jsx)(eI.I,{children:t})})})};var eU=a(85534);function eK(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eU.default,{src:"https://terminal.jup.ag/main-v4.js",strategy:"beforeInteractive","data-preload":!0,defer:!0}),(0,r.jsx)(eL,{children:(0,r.jsx)(eM,{children:(0,r.jsx)("div",{className:"min-h-screen bg-black",children:(0,r.jsx)(eE,{})})})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[979,346,811,788,85,224,16,358],()=>t(62387)),_N_E=e.O()}]);